

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Timer &mdash; ESP-IDF Programming Guide v4.1-dev-2071-gf91080637 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../../_static/jquery.js"></script>
        <script type="text/javascript" src="../../_static/underscore.js"></script>
        <script type="text/javascript" src="../../_static/doctools.js"></script>
        <script type="text/javascript" src="../../_static/language_data.js"></script>
        <script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="../../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../../_static/theme_overrides.css" type="text/css" />
    <link rel="author" title="About these documents" href="../../about.html" />
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Touch Sensor" href="touch_pad.html" />
    <link rel="prev" title="ESP32-S2 Temperature Sensor" href="temp_sensor.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/peripherals/timer.html" />

<link rel="stylesheet" href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-reference/peripherals/timer"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
<script async type="text/javascript" src="../../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="espressif-esp-idf" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/api-reference/peripherals/timer.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../../index.html" class="icon icon-home"> ESP-IDF Programming Guide
          

          
            
            <img src="../../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">Get Started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API Reference</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">Networking</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">Peripherals</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc.html">ADC</a></li>
<li class="toctree-l3"><a class="reference internal" href="can.html">CAN</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">DAC</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO (including RTC low power I/O)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">I2S</a></li>
<li class="toctree-l3"><a class="reference internal" href="ledc.html">LED Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="mcpwm.html">MCPWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcnt.html">Pulse Counter</a></li>
<li class="toctree-l3"><a class="reference internal" href="rmt.html">Remote Control</a></li>
<li class="toctree-l3"><a class="reference internal" href="sd_pullup_requirements.html">SD Pull-up Requirements</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdmmc_host.html">SDMMC Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdspi_host.html">SD SPI Host</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdio_slave.html">SDIO Slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="sigmadelta.html">Sigma-delta Modulation</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_master.html">SPI Master</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_slave.html">SPI Slave</a></li>
<li class="toctree-l3"><a class="reference internal" href="temp_sensor.html">Temp sensor</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="timer.html#">Timer</a><ul>
<li class="toctree-l4"><a class="reference internal" href="timer.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="timer.html#functional-overview">Functional Overview</a></li>
<li class="toctree-l4"><a class="reference internal" href="timer.html#application-example">Application Example</a></li>
<li class="toctree-l4"><a class="reference internal" href="timer.html#api-reference">API Reference</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="touch_pad.html">Touch Sensor</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">Protocols</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">Provisioning</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">Storage</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">System</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">Configuration Options</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">Error Codes Reference</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">H/W Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2 Preview Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">Copyrights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/Languages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">Guide Downloads</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">ESP-IDF Programming Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../index.html">API Reference</a> &raquo;</li>
        
          <li><a href="index.html">Peripherals API</a> &raquo;</li>
        
      <li>Timer</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-reference/peripherals/timer.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="timer">
<h1>Timer<a class="headerlink" href="timer.html#timer" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/api-reference/peripherals/timer.html">[中文]</a></p>
<div class="section" id="introduction">
<h2>Introduction<a class="headerlink" href="timer.html#introduction" title="Permalink to this headline">¶</a></h2>
<p>The ESP32 chip contains two hardware timer groups. Each group has two general-purpose hardware timers. They are all 64-bit generic timers based on 16-bit prescalers and 64-bit up / down counters which are capable of being auto-reloaded.</p>
</div>
<div class="section" id="functional-overview">
<h2>Functional Overview<a class="headerlink" href="timer.html#functional-overview" title="Permalink to this headline">¶</a></h2>
<p>The following sections of this document cover the typical steps to configure and operate a timer:</p>
<ul class="simple">
<li><a class="reference internal" href="timer.html#timer-api-timer-initialization"><span class="std std-ref">Timer Initialization</span></a> - covers which parameters should be set up to get the timer working, and also what specific functionality is provided depending on the timer configuration.</li>
<li><a class="reference internal" href="timer.html#timer-api-timer-control"><span class="std std-ref">Timer Control</span></a> - describes how to read a timer’s value, pause or start a timer, and change how it operates.</li>
<li><a class="reference internal" href="timer.html#timer-api-alarms"><span class="std std-ref">Alarms</span></a> - shows how to set and use alarms.</li>
<li><a class="reference internal" href="timer.html#timer-api-interrupts"><span class="std std-ref">Interrupts</span></a>- explains how to enable and use interrupts.</li>
</ul>
<div class="section" id="timer-initialization">
<span id="timer-api-timer-initialization"></span><h3>Timer Initialization<a class="headerlink" href="timer.html#timer-initialization" title="Permalink to this headline">¶</a></h3>
<p>The two ESP32 timer groups, with two timers in each, provide the total of four individual timers for use. An ESP32 timer group should be identified using <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_group_t</span></code>. An individual timer in a group should be identified with <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_idx_t</span></code>.</p>
<p>First of all, the timer should be initialized by calling the function <a class="reference internal" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="timer_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_init()</span></code></a> and passing a structure <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_config_t</span></code> to it to define how the timer should operate. In particular, the following timer parameters can be set:</p>
<blockquote>
<div><ul class="simple">
<li><strong>Divider</strong>: Sets how quickly the timer’s counter is “ticking”. The setting <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">divider</span></code> is used as a divisor of the incoming 80 MHz APB_CLK clock.</li>
<li><strong>Mode</strong>: Sets if the counter should be incrementing or decrementing. It can be defined using <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">counter_dir</span></code> by selecting one of the values from <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_count_dir_t</span></code>.</li>
<li><strong>Counter Enable</strong>: If the counter is enabled, it will start incrementing / decrementing immediately after calling <a class="reference internal" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="timer_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_init()</span></code></a>. You can change the behavior with <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">counter_en</span></code> by selecting one of the values from <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_start_t</span></code>.</li>
<li><strong>Alarm Enable</strong>: Can be set using <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">alarm_en</span></code>.</li>
<li><strong>Auto Reload</strong>: Sets if the counter should <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">auto_reload</span></code> the initial counter value on the timer’s alarm or continue incrementing or decrementing.</li>
<li><strong>Interrupt Type</strong>: Select which interrupt type should be triggered on the timer’s alarm. Set the value defined in <code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">timer_intr_mode_t</span></code>.</li>
</ul>
</div></blockquote>
<p>To get the current values of the timer’s settings, use the function <a class="reference internal" href="timer.html#_CPPv416timer_get_config13timer_group_t11timer_idx_tP14timer_config_t" title="timer_get_config"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_get_config()</span></code></a>.</p>
</div>
<div class="section" id="timer-control">
<span id="timer-api-timer-control"></span><h3>Timer Control<a class="headerlink" href="timer.html#timer-control" title="Permalink to this headline">¶</a></h3>
<p>Once the timer is enabled, its counter starts running. To enable the timer, call the function <a class="reference internal" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="timer_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_init()</span></code></a> with <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">counter_en</span></code> set to <code class="docutils literal notranslate"><span class="pre">true</span></code>, or call <a class="reference internal" href="timer.html#_CPPv411timer_start13timer_group_t11timer_idx_t" title="timer_start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_start()</span></code></a>. You can specify the timer’s initial counter value by calling <a class="reference internal" href="timer.html#_CPPv423timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t" title="timer_set_counter_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_counter_value()</span></code></a>. To check the timer’s current value, call <a class="reference internal" href="timer.html#_CPPv423timer_get_counter_value13timer_group_t11timer_idx_tP8uint64_t" title="timer_get_counter_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_get_counter_value()</span></code></a> or <a class="reference internal" href="timer.html#_CPPv426timer_get_counter_time_sec13timer_group_t11timer_idx_tPd" title="timer_get_counter_time_sec"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_get_counter_time_sec()</span></code></a>.</p>
<p>To pause the timer at any time, call <a class="reference internal" href="timer.html#_CPPv411timer_pause13timer_group_t11timer_idx_t" title="timer_pause"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_pause()</span></code></a>. To resume it, call <a class="reference internal" href="timer.html#_CPPv411timer_start13timer_group_t11timer_idx_t" title="timer_start"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_start()</span></code></a>.</p>
<p>To reconfigure the timer, you can call <a class="reference internal" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="timer_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_init()</span></code></a>. This function is described in Section <a class="reference internal" href="timer.html#timer-api-timer-initialization"><span class="std std-ref">Timer Initialization</span></a>.</p>
<p>You can also reconfigure the timer by using dedicated functions to change individual settings:</p>
<table border="1" class="docutils">
<colgroup>
<col width="5%" />
<col width="13%" />
<col width="82%" />
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">Setting</th>
<th class="head">Dedicated Function</th>
<th class="head">Description</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>Divider</td>
<td><a class="reference internal" href="timer.html#_CPPv417timer_set_divider13timer_group_t11timer_idx_t8uint32_t" title="timer_set_divider"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_divider()</span></code></a></td>
<td>Change the rate of ticking. To avoid unpredictable results, the timer should be paused when changing the divider. If the timer is running, <a class="reference internal" href="timer.html#_CPPv417timer_set_divider13timer_group_t11timer_idx_t8uint32_t" title="timer_set_divider"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_divider()</span></code></a> pauses it, change the setting, and start the timer again.</td>
</tr>
<tr class="row-odd"><td>Mode</td>
<td><a class="reference internal" href="timer.html#_CPPv422timer_set_counter_mode13timer_group_t11timer_idx_t17timer_count_dir_t" title="timer_set_counter_mode"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_counter_mode()</span></code></a></td>
<td>Set if the counter should be incrementing or decrementing</td>
</tr>
<tr class="row-even"><td>Auto Reload</td>
<td><a class="reference internal" href="timer.html#_CPPv421timer_set_auto_reload13timer_group_t11timer_idx_t18timer_autoreload_t" title="timer_set_auto_reload"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_auto_reload()</span></code></a></td>
<td>Set if the initial counter value should be reloaded on the timer’s alarm</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="alarms">
<span id="timer-api-alarms"></span><h3>Alarms<a class="headerlink" href="timer.html#alarms" title="Permalink to this headline">¶</a></h3>
<p>To set an alarm, call the function <a class="reference internal" href="timer.html#_CPPv421timer_set_alarm_value13timer_group_t11timer_idx_t8uint64_t" title="timer_set_alarm_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_alarm_value()</span></code></a> and then enable the alarm using <a class="reference internal" href="timer.html#_CPPv415timer_set_alarm13timer_group_t11timer_idx_t13timer_alarm_t" title="timer_set_alarm"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_alarm()</span></code></a>. The alarm can also be enabled during the timer initialization stage, when <a class="reference internal" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="timer_init"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_init()</span></code></a> is called.</p>
<p>After the alarm is enabled, and the timer reaches the alarm value, the following two actions can occur depending on the configuration:</p>
<blockquote>
<div><ul class="simple">
<li>An interrupt will be triggered if previously configured. See Section <a class="reference internal" href="timer.html#timer-api-interrupts"><span class="std std-ref">Interrupts</span></a> on how to configure interrupts.</li>
<li>When <code class="xref cpp cpp-member docutils literal notranslate"><span class="pre">auto_reload</span></code> is enabled, the timer’s counter will automatically be reloaded to start counting again from a previously configured value. This value should be set in advance with <a class="reference internal" href="timer.html#_CPPv423timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t" title="timer_set_counter_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_set_counter_value()</span></code></a>.</li>
</ul>
</div></blockquote>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<ul class="last simple">
<li>If an alarm value is set and the timer has already reached this value, the alarm is triggered immediately.</li>
<li>Once triggered, the alarm is disabled automatically and needs to be re-enabled to trigger again.</li>
</ul>
</div>
<p>To check the specified alarm value, call <a class="reference internal" href="timer.html#_CPPv421timer_get_alarm_value13timer_group_t11timer_idx_tP8uint64_t" title="timer_get_alarm_value"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_get_alarm_value()</span></code></a>.</p>
</div>
<div class="section" id="interrupts">
<span id="timer-api-interrupts"></span><h3>Interrupts<a class="headerlink" href="timer.html#interrupts" title="Permalink to this headline">¶</a></h3>
<p>Registration of the interrupt handler for a specific timer or a timer group can be done by calling <a class="reference internal" href="timer.html#_CPPv418timer_isr_register13timer_group_t11timer_idx_tPFvPvEPviP18timer_isr_handle_t" title="timer_isr_register"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_isr_register()</span></code></a>.</p>
<p>To enable interrupts for a timer group, call <a class="reference internal" href="timer.html#_CPPv423timer_group_intr_enable13timer_group_t12timer_intr_t" title="timer_group_intr_enable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_group_intr_enable()</span></code></a>, for a specific timer call <a class="reference internal" href="timer.html#_CPPv417timer_enable_intr13timer_group_t11timer_idx_t" title="timer_enable_intr"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_enable_intr()</span></code></a>.
To disable interrupts for a timer group, call <a class="reference internal" href="timer.html#_CPPv424timer_group_intr_disable13timer_group_t12timer_intr_t" title="timer_group_intr_disable"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_group_intr_disable()</span></code></a>, for a specified timer, call <a class="reference internal" href="timer.html#_CPPv418timer_disable_intr13timer_group_t11timer_idx_t" title="timer_disable_intr"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">timer_disable_intr()</span></code></a>.</p>
<p>When handling an interrupt within an interrupt serivce routine (ISR), the interrupt status bit needs to be explicitly cleared. To do that, set the <code class="docutils literal notranslate"><span class="pre">TIMERGN.int_clr_timers.tM</span></code> structure, defined in <a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/soc/esp32/include/soc/timer_group_struct.h">soc/esp32/include/soc/timer_group_struct.h</a>. In this structure, <code class="docutils literal notranslate"><span class="pre">N</span></code> is the timer group number [0, 1], <code class="docutils literal notranslate"><span class="pre">M</span></code> is the timer number [0, 1]. For example, to clear an interrupt status bit for the timer 1 in the timer group 0, call the following:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">TIMERG0</span><span class="o">.</span><span class="n">int_clr_timers</span><span class="o">.</span><span class="n">t1</span> <span class="o">=</span> <span class="mi">1</span>
</pre></div>
</div>
<p>For more information on how to use interrupts, please see the application example below.</p>
</div>
</div>
<div class="section" id="application-example">
<h2>Application Example<a class="headerlink" href="timer.html#application-example" title="Permalink to this headline">¶</a></h2>
<p>The 64-bit hardware timer example: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/peripherals/timer_group">peripherals/timer_group</a>.</p>
</div>
<div class="section" id="api-reference">
<h2>API Reference<a class="headerlink" href="timer.html#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="header-file">
<h3>Header File<a class="headerlink" href="timer.html#header-file" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/driver/include/driver/timer.h">driver/include/driver/timer.h</a></li>
</ul>
</div>
<div class="section" id="functions">
<h3>Functions<a class="headerlink" href="timer.html#functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_CPPv423timer_get_counter_value13timer_group_t11timer_idx_tP8uint64_t">
<span id="_CPPv323timer_get_counter_value13timer_group_t11timer_idx_tP8uint64_t"></span><span id="_CPPv223timer_get_counter_value13timer_group_t11timer_idx_tP8uint64_t"></span><span id="timer_get_counter_value__timer_group_t.timer_idx_t.uint64_tP"></span><span class="target" id="timer_8h_1a17639994075ce29c813c3948551d738c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_get_counter_value</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint64_t *<em>timer_val</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv423timer_get_counter_value13timer_group_t11timer_idx_tP8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read the counter value of hardware timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_val</span></code>: Pointer to accept timer counter value.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv426timer_get_counter_time_sec13timer_group_t11timer_idx_tPd">
<span id="_CPPv326timer_get_counter_time_sec13timer_group_t11timer_idx_tPd"></span><span id="_CPPv226timer_get_counter_time_sec13timer_group_t11timer_idx_tPd"></span><span id="timer_get_counter_time_sec__timer_group_t.timer_idx_t.doubleP"></span><span class="target" id="timer_8h_1acd22334771eac28ae04c2cdbc24890de"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_get_counter_time_sec</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, double *<em>time</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv426timer_get_counter_time_sec13timer_group_t11timer_idx_tPd" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Read the counter value of hardware timer, in unit of a given scale. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">time</span></code>: Pointer, type of double*, to accept timer counter value, in seconds.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv423timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t">
<span id="_CPPv323timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t"></span><span id="_CPPv223timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t"></span><span id="timer_set_counter_value__timer_group_t.timer_idx_t.uint64_t"></span><span class="target" id="timer_8h_1aae5747bf6074896f72ef87c0d77acdee"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_counter_value</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint64_t <em>load_val</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv423timer_set_counter_value13timer_group_t11timer_idx_t8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set counter value to hardware timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">load_val</span></code>: Counter value to write to the hardware timer.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv411timer_start13timer_group_t11timer_idx_t">
<span id="_CPPv311timer_start13timer_group_t11timer_idx_t"></span><span id="_CPPv211timer_start13timer_group_t11timer_idx_t"></span><span id="timer_start__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a49c6d694d8f7ba13a584ac5217567ccb"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_start</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv411timer_start13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Start the counter of hardware timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1]</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv411timer_pause13timer_group_t11timer_idx_t">
<span id="_CPPv311timer_pause13timer_group_t11timer_idx_t"></span><span id="_CPPv211timer_pause13timer_group_t11timer_idx_t"></span><span id="timer_pause__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a9862cf904d5b2ef85003ab59deb70a3f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_pause</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv411timer_pause13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Pause the counter of hardware timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1]</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv422timer_set_counter_mode13timer_group_t11timer_idx_t17timer_count_dir_t">
<span id="_CPPv322timer_set_counter_mode13timer_group_t11timer_idx_t17timer_count_dir_t"></span><span id="_CPPv222timer_set_counter_mode13timer_group_t11timer_idx_t17timer_count_dir_t"></span><span id="timer_set_counter_mode__timer_group_t.timer_idx_t.timer_count_dir_t"></span><span class="target" id="timer_8h_1a3a64ee821808d92da43fd5f9aa0c2c8c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_counter_mode</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, timer_count_dir_t <em>counter_dir</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv422timer_set_counter_mode13timer_group_t11timer_idx_t17timer_count_dir_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set counting mode for hardware timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">counter_dir</span></code>: Counting direction of timer, count-up or count-down</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv421timer_set_auto_reload13timer_group_t11timer_idx_t18timer_autoreload_t">
<span id="_CPPv321timer_set_auto_reload13timer_group_t11timer_idx_t18timer_autoreload_t"></span><span id="_CPPv221timer_set_auto_reload13timer_group_t11timer_idx_t18timer_autoreload_t"></span><span id="timer_set_auto_reload__timer_group_t.timer_idx_t.timer_autoreload_t"></span><span class="target" id="timer_8h_1a9caa707e3765d3c537107f416dbd36e7"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_auto_reload</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, timer_autoreload_t <em>reload</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv421timer_set_auto_reload13timer_group_t11timer_idx_t18timer_autoreload_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable or disable counter reload function when alarm event occurs. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">reload</span></code>: Counter reload mode.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv417timer_set_divider13timer_group_t11timer_idx_t8uint32_t">
<span id="_CPPv317timer_set_divider13timer_group_t11timer_idx_t8uint32_t"></span><span id="_CPPv217timer_set_divider13timer_group_t11timer_idx_t8uint32_t"></span><span id="timer_set_divider__timer_group_t.timer_idx_t.uint32_t"></span><span class="target" id="timer_8h_1a72f6acd1b1104707cb765dbb4737d4f3"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_divider</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint32_t <em>divider</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv417timer_set_divider13timer_group_t11timer_idx_t8uint32_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set hardware timer source clock divider. Timer groups clock are divider from APB clock. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">divider</span></code>: Timer clock divider value. The divider’s range is from from 2 to 65536.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv421timer_set_alarm_value13timer_group_t11timer_idx_t8uint64_t">
<span id="_CPPv321timer_set_alarm_value13timer_group_t11timer_idx_t8uint64_t"></span><span id="_CPPv221timer_set_alarm_value13timer_group_t11timer_idx_t8uint64_t"></span><span id="timer_set_alarm_value__timer_group_t.timer_idx_t.uint64_t"></span><span class="target" id="timer_8h_1a71ea81c0fea42426fa41801dfaf8a556"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_alarm_value</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint64_t <em>alarm_value</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv421timer_set_alarm_value13timer_group_t11timer_idx_t8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set timer alarm value. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">alarm_value</span></code>: A 64-bit value to set the alarm value.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv421timer_get_alarm_value13timer_group_t11timer_idx_tP8uint64_t">
<span id="_CPPv321timer_get_alarm_value13timer_group_t11timer_idx_tP8uint64_t"></span><span id="_CPPv221timer_get_alarm_value13timer_group_t11timer_idx_tP8uint64_t"></span><span id="timer_get_alarm_value__timer_group_t.timer_idx_t.uint64_tP"></span><span class="target" id="timer_8h_1aa120811f51935a235dc4b4a2594c9f23"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_get_alarm_value</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint64_t *<em>alarm_value</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv421timer_get_alarm_value13timer_group_t11timer_idx_tP8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get timer alarm value. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">alarm_value</span></code>: Pointer of A 64-bit value to accept the alarm value.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv415timer_set_alarm13timer_group_t11timer_idx_t13timer_alarm_t">
<span id="_CPPv315timer_set_alarm13timer_group_t11timer_idx_t13timer_alarm_t"></span><span id="_CPPv215timer_set_alarm13timer_group_t11timer_idx_t13timer_alarm_t"></span><span id="timer_set_alarm__timer_group_t.timer_idx_t.timer_alarm_t"></span><span class="target" id="timer_8h_1a808da81f9bd82392c7818e7c3bff365e"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_set_alarm</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, timer_alarm_t <em>alarm_en</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv415timer_set_alarm13timer_group_t11timer_idx_t13timer_alarm_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable or disable generation of timer alarm events. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">alarm_en</span></code>: To enable or disable timer alarm function.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv422timer_isr_callback_add13timer_group_t11timer_idx_t11timer_isr_tPvi">
<span id="_CPPv322timer_isr_callback_add13timer_group_t11timer_idx_t11timer_isr_tPvi"></span><span id="_CPPv222timer_isr_callback_add13timer_group_t11timer_idx_t11timer_isr_tPvi"></span><span id="timer_isr_callback_add__timer_group_t.timer_idx_t.timer_isr_t.voidP.i"></span><span class="target" id="timer_8h_1acc3d45bcae8cfef16e8bfb07cd8c20b9"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_isr_callback_add</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, <a class="reference internal" href="timer.html#_CPPv411timer_isr_t" title="timer_isr_t">timer_isr_t</a> <em>isr_handler</em>, void *<em>arg</em>, int <em>intr_alloc_flags</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv422timer_isr_callback_add13timer_group_t11timer_idx_t11timer_isr_tPvi" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Add ISR handle callback for the corresponding timer. </p>
<p><p>If the intr_alloc_flags value ESP_INTR_FLAG_IRAM is set, the handler function must be declared with IRAM_ATTR attribute and can only call functions in IRAM or ROM. It cannot call other timer APIs.</p>
<dl class="docutils">
<dt><strong>Note</strong></dt>
<dd>This ISR handler will be called from an ISR. This ISR handler do not need to handle interrupt status, and should be kept short. If you want to realize some specific applications or write the whole ISR, you can call timer_isr_register(…) to register ISR.</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index of timer group </li>
<li><code class="docutils literal notranslate"><span class="pre">isr_handler</span></code>: Interrupt handler function, it is a callback function. </li>
<li><code class="docutils literal notranslate"><span class="pre">arg</span></code>: Parameter for handler function </li>
<li><code class="docutils literal notranslate"><span class="pre">intr_alloc_flags</span></code>: Flags used to allocate the interrupt. One or multiple (ORred) ESP_INTR_FLAG_* values. See esp_intr_alloc.h for more info.</li>
</ul>
</dd>
</dl>
</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv425timer_isr_callback_remove13timer_group_t11timer_idx_t">
<span id="_CPPv325timer_isr_callback_remove13timer_group_t11timer_idx_t"></span><span id="_CPPv225timer_isr_callback_remove13timer_group_t11timer_idx_t"></span><span id="timer_isr_callback_remove__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a9ee22b61191984b06d3756e0e24f07b1"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_isr_callback_remove</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv425timer_isr_callback_remove13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Remove ISR handle callback for the corresponding timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index of timer group</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv418timer_isr_register13timer_group_t11timer_idx_tPFvPvEPviP18timer_isr_handle_t">
<span id="_CPPv318timer_isr_register13timer_group_t11timer_idx_tPFvPvEPviP18timer_isr_handle_t"></span><span id="_CPPv218timer_isr_register13timer_group_t11timer_idx_tPFvPvEPviP18timer_isr_handle_t"></span><span class="target" id="timer_8h_1a73c02c4d92d6d3bc10284cc20b4f0dfd"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_isr_register</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, void (*<em>fn</em>)<span class="sig-paren">(</span>void *<span class="sig-paren">)</span>, void *<em>arg</em>, int <em>intr_alloc_flags</em>, <a class="reference internal" href="timer.html#_CPPv418timer_isr_handle_t" title="timer_isr_handle_t">timer_isr_handle_t</a> *<em>handle</em>, <span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv418timer_isr_register13timer_group_t11timer_idx_tPFvPvEPviP18timer_isr_handle_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Register Timer interrupt handler, the handler is an ISR. The handler will be attached to the same CPU core that this function is running on. </p>
<p><p>If the intr_alloc_flags value ESP_INTR_FLAG_IRAM is set, the handler function must be declared with IRAM_ATTR attribute and can only call functions in IRAM or ROM. It cannot call other timer APIs. Use direct register access to configure timers from inside the ISR in this case.</p>
<dl class="docutils">
<dt><strong>Note</strong></dt>
<dd>If use this function to reigster ISR, you need to write the whole ISR. In the interrupt handler, you need to call timer_spinlock_take(..) before your handling, and call timer_spinlock_give(…) after your handling.</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index of timer group </li>
<li><code class="docutils literal notranslate"><span class="pre">fn</span></code>: Interrupt handler function. </li>
<li><code class="docutils literal notranslate"><span class="pre">arg</span></code>: Parameter for handler function </li>
<li><code class="docutils literal notranslate"><span class="pre">intr_alloc_flags</span></code>: Flags used to allocate the interrupt. One or multiple (ORred) ESP_INTR_FLAG_* values. See esp_intr_alloc.h for more info. </li>
<li><code class="docutils literal notranslate"><span class="pre">handle</span></code>: Pointer to return handle. If non-NULL, a handle for the interrupt will be returned here.</li>
</ul>
</dd>
</dl>
</p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t">
<span id="_CPPv310timer_init13timer_group_t11timer_idx_tPK14timer_config_t"></span><span id="_CPPv210timer_init13timer_group_t11timer_idx_tPK14timer_config_t"></span><span id="timer_init__timer_group_t.timer_idx_t.timer_config_tCP"></span><span class="target" id="timer_8h_1a895264604076543631b605de5fe54011"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_init</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, <em class="property">const</em> timer_config_t *<em>config</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv410timer_init13timer_group_t11timer_idx_tPK14timer_config_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Initializes and configure the timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">config</span></code>: Pointer to timer initialization parameters.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv412timer_deinit13timer_group_t11timer_idx_t">
<span id="_CPPv312timer_deinit13timer_group_t11timer_idx_t"></span><span id="_CPPv212timer_deinit13timer_group_t11timer_idx_t"></span><span id="timer_deinit__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a445553bfe41e198511c7c86aa4c772bf"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_deinit</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv412timer_deinit13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Deinitializes the timer. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1]</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv416timer_get_config13timer_group_t11timer_idx_tP14timer_config_t">
<span id="_CPPv316timer_get_config13timer_group_t11timer_idx_tP14timer_config_t"></span><span id="_CPPv216timer_get_config13timer_group_t11timer_idx_tP14timer_config_t"></span><span id="timer_get_config__timer_group_t.timer_idx_t.timer_config_tP"></span><span class="target" id="timer_8h_1a506a2ba5af3cdd04b65051b796221309"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_get_config</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, timer_config_t *<em>config</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv416timer_get_config13timer_group_t11timer_idx_tP14timer_config_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get timer configure value. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index, 0 for hw_timer[0] &amp; 1 for hw_timer[1] </li>
<li><code class="docutils literal notranslate"><span class="pre">config</span></code>: Pointer of struct to accept timer parameters.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv423timer_group_intr_enable13timer_group_t12timer_intr_t">
<span id="_CPPv323timer_group_intr_enable13timer_group_t12timer_intr_t"></span><span id="_CPPv223timer_group_intr_enable13timer_group_t12timer_intr_t"></span><span id="timer_group_intr_enable__timer_group_t.timer_intr_t"></span><span class="target" id="timer_8h_1ae1fef53d62b120c45a708d509080b0e5"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_group_intr_enable</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_intr_t <em>intr_mask</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv423timer_group_intr_enable13timer_group_t12timer_intr_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable timer group interrupt, by enable mask. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">intr_mask</span></code>: Timer interrupt enable mask.<ul>
<li>TIMER_INTR_T0: t0 interrupt</li>
<li>TIMER_INTR_T1: t1 interrupt</li>
<li>TIMER_INTR_WDT: watchdog interrupt</li>
</ul>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv424timer_group_intr_disable13timer_group_t12timer_intr_t">
<span id="_CPPv324timer_group_intr_disable13timer_group_t12timer_intr_t"></span><span id="_CPPv224timer_group_intr_disable13timer_group_t12timer_intr_t"></span><span id="timer_group_intr_disable__timer_group_t.timer_intr_t"></span><span class="target" id="timer_8h_1abb625661d58a580c44119df4affa6aa1"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_group_intr_disable</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_intr_t <em>intr_mask</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv424timer_group_intr_disable13timer_group_t12timer_intr_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable timer group interrupt, by disable mask. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">intr_mask</span></code>: Timer interrupt disable mask.<ul>
<li>TIMER_INTR_T0: t0 interrupt</li>
<li>TIMER_INTR_T1: t1 interrupt</li>
<li>TIMER_INTR_WDT: watchdog interrupt</li>
</ul>
</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv417timer_enable_intr13timer_group_t11timer_idx_t">
<span id="_CPPv317timer_enable_intr13timer_group_t11timer_idx_t"></span><span id="_CPPv217timer_enable_intr13timer_group_t11timer_idx_t"></span><span id="timer_enable_intr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1ac789af230c99df69103718a05fa14a9f"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_enable_intr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv417timer_enable_intr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable timer interrupt. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv418timer_disable_intr13timer_group_t11timer_idx_t">
<span id="_CPPv318timer_disable_intr13timer_group_t11timer_idx_t"></span><span id="_CPPv218timer_disable_intr13timer_group_t11timer_idx_t"></span><span id="timer_disable_intr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a2eca7ef66f0a794384f6558a726b9862"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_disable_intr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv418timer_disable_intr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Disable timer interrupt. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv427timer_group_intr_clr_in_isr13timer_group_t11timer_idx_t">
<span id="_CPPv327timer_group_intr_clr_in_isr13timer_group_t11timer_idx_t"></span><span id="_CPPv227timer_group_intr_clr_in_isr13timer_group_t11timer_idx_t"></span><span id="timer_group_intr_clr_in_isr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1adb5b49e2ce40fb3c2d1419555a1b0c89"></span>void <code class="descname">timer_group_intr_clr_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv427timer_group_intr_clr_in_isr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clear timer interrupt status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv434timer_group_clr_intr_status_in_isr13timer_group_t11timer_idx_t">
<span id="_CPPv334timer_group_clr_intr_status_in_isr13timer_group_t11timer_idx_t"></span><span id="_CPPv234timer_group_clr_intr_status_in_isr13timer_group_t11timer_idx_t"></span><span id="timer_group_clr_intr_status_in_isr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1a3665e44bd3417c30de647b8638831b42"></span>void <code class="descname">timer_group_clr_intr_status_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv434timer_group_clr_intr_status_in_isr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clear timer interrupt status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv431timer_group_enable_alarm_in_isr13timer_group_t11timer_idx_t">
<span id="_CPPv331timer_group_enable_alarm_in_isr13timer_group_t11timer_idx_t"></span><span id="_CPPv231timer_group_enable_alarm_in_isr13timer_group_t11timer_idx_t"></span><span id="timer_group_enable_alarm_in_isr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1abe7384a77e675d77eb8ad268d919f5e2"></span>void <code class="descname">timer_group_enable_alarm_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv431timer_group_enable_alarm_in_isr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable alarm interrupt, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv436timer_group_get_counter_value_in_isr13timer_group_t11timer_idx_t">
<span id="_CPPv336timer_group_get_counter_value_in_isr13timer_group_t11timer_idx_t"></span><span id="_CPPv236timer_group_get_counter_value_in_isr13timer_group_t11timer_idx_t"></span><span id="timer_group_get_counter_value_in_isr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1abe2a7a6c93f12f3e1b9eb5b096b7195e"></span>uint64_t <code class="descname">timer_group_get_counter_value_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv436timer_group_get_counter_value_in_isr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the current counter value, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>Counter value </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv434timer_group_set_alarm_value_in_isr13timer_group_t11timer_idx_t8uint64_t">
<span id="_CPPv334timer_group_set_alarm_value_in_isr13timer_group_t11timer_idx_t8uint64_t"></span><span id="_CPPv234timer_group_set_alarm_value_in_isr13timer_group_t11timer_idx_t8uint64_t"></span><span id="timer_group_set_alarm_value_in_isr__timer_group_t.timer_idx_t.uint64_t"></span><span class="target" id="timer_8h_1ae15fe9e1bd73f33f8d9e9ca240cf2aef"></span>void <code class="descname">timer_group_set_alarm_value_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, uint64_t <em>alarm_val</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv434timer_group_set_alarm_value_in_isr13timer_group_t11timer_idx_t8uint64_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Set the alarm threshold for the timer, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index. </li>
<li><code class="docutils literal notranslate"><span class="pre">alarm_val</span></code>: Alarm threshold.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv437timer_group_set_counter_enable_in_isr13timer_group_t11timer_idx_t13timer_start_t">
<span id="_CPPv337timer_group_set_counter_enable_in_isr13timer_group_t11timer_idx_t13timer_start_t"></span><span id="_CPPv237timer_group_set_counter_enable_in_isr13timer_group_t11timer_idx_t13timer_start_t"></span><span id="timer_group_set_counter_enable_in_isr__timer_group_t.timer_idx_t.timer_start_t"></span><span class="target" id="timer_8h_1a2bc3e950798a4dc3d5f3e5600fa3727f"></span>void <code class="descname">timer_group_set_counter_enable_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em>, timer_start_t <em>counter_en</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv437timer_group_set_counter_enable_in_isr13timer_group_t11timer_idx_t13timer_start_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Enable/disable a counter, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index. </li>
<li><code class="docutils literal notranslate"><span class="pre">counter_en</span></code>: Enable/disable.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv427timer_group_intr_get_in_isr13timer_group_t">
<span id="_CPPv327timer_group_intr_get_in_isr13timer_group_t"></span><span id="_CPPv227timer_group_intr_get_in_isr13timer_group_t"></span><span id="timer_group_intr_get_in_isr__timer_group_t"></span><span class="target" id="timer_8h_1a5cca90c2b4291b82356a89477b5fa055"></span>timer_intr_t <code class="descname">timer_group_intr_get_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv427timer_group_intr_get_in_isr13timer_group_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get the masked interrupt status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>Interrupt status </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv434timer_group_get_intr_status_in_isr13timer_group_t">
<span id="_CPPv334timer_group_get_intr_status_in_isr13timer_group_t"></span><span id="_CPPv234timer_group_get_intr_status_in_isr13timer_group_t"></span><span id="timer_group_get_intr_status_in_isr__timer_group_t"></span><span class="target" id="timer_8h_1adb0665f78de877c083ea99401da7504f"></span>uint32_t <code class="descname">timer_group_get_intr_status_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv434timer_group_get_intr_status_in_isr13timer_group_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get interrupt status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>Interrupt status </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv431timer_group_clr_intr_sta_in_isr13timer_group_t12timer_intr_t">
<span id="_CPPv331timer_group_clr_intr_sta_in_isr13timer_group_t12timer_intr_t"></span><span id="_CPPv231timer_group_clr_intr_sta_in_isr13timer_group_t12timer_intr_t"></span><span id="timer_group_clr_intr_sta_in_isr__timer_group_t.timer_intr_t"></span><span class="target" id="timer_8h_1accf67463fcaee7da5b5c578412e57454"></span>void <code class="descname">timer_group_clr_intr_sta_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_intr_t <em>intr_mask</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv431timer_group_clr_intr_sta_in_isr13timer_group_t12timer_intr_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Clear the masked interrupt status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>None </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">intr_mask</span></code>: Masked interrupt.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv434timer_group_get_auto_reload_in_isr13timer_group_t11timer_idx_t">
<span id="_CPPv334timer_group_get_auto_reload_in_isr13timer_group_t11timer_idx_t"></span><span id="_CPPv234timer_group_get_auto_reload_in_isr13timer_group_t11timer_idx_t"></span><span id="timer_group_get_auto_reload_in_isr__timer_group_t.timer_idx_t"></span><span class="target" id="timer_8h_1ab6dc455596dafab00cd1ad0105775aad"></span>bool <code class="descname">timer_group_get_auto_reload_in_isr</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em>, timer_idx_t <em>timer_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv434timer_group_get_auto_reload_in_isr13timer_group_t11timer_idx_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Get auto reload enable status, just used in ISR. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>True Auto reload enabled</li>
<li>False Auto reload disabled </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1 </li>
<li><code class="docutils literal notranslate"><span class="pre">timer_num</span></code>: Timer index</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv419timer_spinlock_take13timer_group_t">
<span id="_CPPv319timer_spinlock_take13timer_group_t"></span><span id="_CPPv219timer_spinlock_take13timer_group_t"></span><span id="timer_spinlock_take__timer_group_t"></span><span class="target" id="timer_8h_1ac370e6479dd5518403e58d7e851efab3"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_spinlock_take</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv419timer_spinlock_take13timer_group_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Take timer spinlock to enter critical protect. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

<dl class="function">
<dt id="_CPPv419timer_spinlock_give13timer_group_t">
<span id="_CPPv319timer_spinlock_give13timer_group_t"></span><span id="_CPPv219timer_spinlock_give13timer_group_t"></span><span id="timer_spinlock_give__timer_group_t"></span><span class="target" id="timer_8h_1a9e1782f7b26cef32adc10dafa5737e72"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">timer_spinlock_give</code><span class="sig-paren">(</span>timer_group_t <em>group_num</em><span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv419timer_spinlock_give13timer_group_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Give timer spinlock to exit critical protect. </p>
<p><dl class="docutils">
<dt><strong>Return</strong></dt>
<dd><ul class="simple">
<li>ESP_OK Success</li>
<li>ESP_ERR_INVALID_ARG Parameter error </li>
</ul>
</dd>
<dt><strong>Parameters</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">group_num</span></code>: Timer group number, 0 for TIMERG0 or 1 for TIMERG1</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>

</div>
<div class="section" id="macros">
<h3>Macros<a class="headerlink" href="timer.html#macros" title="Permalink to this headline">¶</a></h3>
<dl class="macro">
<dt id="c.TIMER_BASE_CLK">
<span class="target" id="timer_8h_1afd3d7ef0475a0247df1cb04a33078036"></span><code class="descname">TIMER_BASE_CLK</code><a class="headerlink" href="timer.html#c.TIMER_BASE_CLK" title="Permalink to this definition">¶</a></dt>
<dd><p>Frequency of the clock on the input of the timer groups </p>
</dd></dl>

</div>
<div class="section" id="type-definitions">
<h3>Type Definitions<a class="headerlink" href="timer.html#type-definitions" title="Permalink to this headline">¶</a></h3>
<dl class="type">
<dt id="_CPPv411timer_isr_t">
<span id="_CPPv311timer_isr_t"></span><span id="_CPPv211timer_isr_t"></span><span id="timer_isr_t"></span><span class="target" id="timer_8h_1a4504180b55d74f6c87ac6a3b20283a3b"></span><em class="property">typedef </em>void (*<code class="descname">timer_isr_t</code>)<span class="sig-paren">(</span>void *<span class="sig-paren">)</span><a class="headerlink" href="timer.html#_CPPv411timer_isr_t" title="Permalink to this definition">¶</a><br /></dt>
<dd></dd></dl>

<dl class="type">
<dt id="_CPPv418timer_isr_handle_t">
<span id="_CPPv318timer_isr_handle_t"></span><span id="_CPPv218timer_isr_handle_t"></span><span id="timer_isr_handle_t"></span><span class="target" id="timer_8h_1a1d6b76140d80f1b972aae3e3853c97b0"></span><em class="property">typedef </em><a class="reference internal" href="../system/intr_alloc.html#_CPPv413intr_handle_t" title="intr_handle_t">intr_handle_t</a> <code class="descname">timer_isr_handle_t</code><a class="headerlink" href="timer.html#_CPPv418timer_isr_handle_t" title="Permalink to this definition">¶</a><br /></dt>
<dd><p>Interrupt handle, used in order to free the isr after use. Aliases to an int handle for now. </p>
</dd></dl>

</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="touch_pad.html" class="btn btn-neutral float-right" title="Touch Sensor" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="temp_sensor.html" class="btn btn-neutral float-left" title="ESP32-S2 Temperature Sensor" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 - 2019, Espressif Systems (Shanghai) CO., LTD
      
        <span class="commit">
          Revision <code>f9108063</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>