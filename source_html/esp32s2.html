

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ESP32-S2 Preview Support &mdash; ESP-IDF Programming Guide v4.1-dev-2071-gf91080637 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script type="text/javascript" src="_static/jquery.js"></script>
        <script type="text/javascript" src="_static/underscore.js"></script>
        <script type="text/javascript" src="_static/doctools.js"></script>
        <script type="text/javascript" src="_static/language_data.js"></script>
        <script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
    <link rel="author" title="About these documents" href="about.html" />
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="API Guides" href="api-guides/index.html" />
    <link rel="prev" title="Previous Versions of ESP32 Modules and Boards" href="hw-reference/modules-and-boards-previous.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/latest/esp32s2.html" />

<link rel="stylesheet" href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "esp32s2"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
<script async type="text/javascript" src="../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="espressif-esp-idf" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/esp32s2.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home"> ESP-IDF Programming Guide
          

          
            
            <img src="_static/espressif-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="get-started/index.html">Get Started</a></li>
<li class="toctree-l1"><a class="reference internal" href="api-reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="hw-reference/index.html">H/W Reference</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="esp32s2.html#">ESP32-S2 Preview Support</a><ul>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#documentation">Documentation</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#setting-up-for-esp32-s2">Setting up for ESP32-S2</a><ul>
<li class="toctree-l3"><a class="reference internal" href="esp32s2.html#manual-toolchain-urls">Manual toolchain URLs</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#building-a-project-for-esp32-s2">Building a project for ESP32-S2</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#limitations">Limitations</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#roadmap">Roadmap</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp32s2.html#issues">Issues</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="contribute/index.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="COPYRIGHT.html">Copyrights</a></li>
<li class="toctree-l1"><a class="reference internal" href="about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="languages.html">语言/Languages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">Guide Downloads</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">ESP-IDF Programming Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html">Docs</a> &raquo;</li>
        
      <li>ESP32-S2 Preview Support</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/espressif/esp-idf/blob/master/docs/en/esp32s2.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="esp32-s2-preview-support">
<h1>ESP32-S2 Preview Support<a class="headerlink" href="esp32s2.html#esp32-s2-preview-support" title="Permalink to this headline">¶</a></h1>
<p>The current master branch of ESP-IDF (pre-V4.2) contains preview support for ESP32-S2.</p>
<p>Software support is still being developed ahead of the final ESP32-S2 release (see <a class="reference internal" href="esp32s2.html#esp32s2-limitations"><span class="std std-ref">Limitations</span></a> and <a class="reference internal" href="esp32s2.html#esp32s2-roadmap"><span class="std std-ref">Roadmap</span></a> sections below).</p>
<div class="section" id="documentation">
<h2>Documentation<a class="headerlink" href="esp32s2.html#documentation" title="Permalink to this headline">¶</a></h2>
<p>Except where it specifically mentions ESP32-S2, this version of the ESP-IDF Programming Guide is written for ESP32 only. Most software APIs and components are the same or very similar for ESP32-S2, but differences may not be documented yet.</p>
</div>
<div class="section" id="setting-up-for-esp32-s2">
<h2>Setting up for ESP32-S2<a class="headerlink" href="esp32s2.html#setting-up-for-esp32-s2" title="Permalink to this headline">¶</a></h2>
<p>To start with, follow the <a class="reference internal" href="get-started/index.html"><span class="doc">Get Started</span></a> guide to configure the CMake-based build system for ESP32.</p>
<p>When running <code class="docutils literal notranslate"><span class="pre">install.sh</span></code> or <code class="docutils literal notranslate"><span class="pre">install.bat</span></code> as part of the Get Started guide, the ESP32-S2 toolchain will be automatically downloaded and added to the IDF Tools directory. If you had already run <code class="docutils literal notranslate"><span class="pre">install.sh</span></code> or <code class="docutils literal notranslate"><span class="pre">install.bat</span></code> before updating to a version with ESP32-S2 support, you may need to re-run it.</p>
<p>The toolchain tuple is <cite>xtensa-esp32s2-elf-</cite>, for example the GCC compiler for this target is named <cite>xtensa-esp32s2-elf-gcc</cite>.</p>
<div class="section" id="manual-toolchain-urls">
<h3>Manual toolchain URLs<a class="headerlink" href="esp32s2.html#manual-toolchain-urls" title="Permalink to this headline">¶</a></h3>
<p>If not using <code class="docutils literal notranslate"><span class="pre">install.sh</span></code> or <code class="docutils literal notranslate"><span class="pre">install.bat</span></code>, you can download the manual toolchain manually from here:</p>
<ul class="simple">
<li><a class="reference external" href="https://dl.espressif.com/dl/xtensa-esp32s2-elf-gcc8_2_0-esp-2019r2-win32.zip">Windows</a></li>
<li><a class="reference external" href="https://dl.espressif.com/dl/xtensa-esp32s2-elf-gcc8_2_0-esp-2019r2-macos.tar.gz">macOS</a></li>
<li><a class="reference external" href="https://dl.espressif.com/dl/xtensa-esp32s2-elf-gcc8_2_0-esp-2019r2-linux-amd64.tar.gz">Linux 64-bit x86</a></li>
<li><a class="reference external" href="https://dl.espressif.com/dl/xtensa-esp32s2-elf-gcc8_2_0-esp-2019r2-linux-i686.tar.gz">Linux 32-bit x86</a></li>
</ul>
<p>If installing the toolchain manually, unpack it somewhere and add the <code class="docutils literal notranslate"><span class="pre">bin</span></code> subdirectory to your <cite>PATH</cite>.</p>
</div>
</div>
<div class="section" id="building-a-project-for-esp32-s2">
<h2>Building a project for ESP32-S2<a class="headerlink" href="esp32s2.html#building-a-project-for-esp32-s2" title="Permalink to this headline">¶</a></h2>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p>Not all ESP-IDF examples support ESP32-S2.</p>
<p>For some examples this is because required hardware is not included in ESP32-S2 so it cannot be supported. For some examples this is because the example has not yet been updated for ESP32-S2.</p>
<p class="last">If building an example, please check the example CMakeLists.txt file for the clause <code class="docutils literal notranslate"><span class="pre">SUPPORTED_TARGETS</span> <span class="pre">esp32</span></code>. If this is present, the example won’t work on ESP32-S2.</p>
</div>
<p>Before building an ESP-IDF project, run the following command to switch the target to ESP32-S2:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>idf.py set-target esp32s2
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">Running <code class="docutils literal notranslate"><span class="pre">set-target</span></code> will clear the project configuration and create a new empty <code class="docutils literal notranslate"><span class="pre">sdkconfig</span></code> file for the project. The old configuration will be saved in <code class="docutils literal notranslate"><span class="pre">sdkconfig.old</span></code>.</p>
</div>
<p>Then configure the project:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>idf.py menuconfig
</pre></div>
</div>
<div class="admonition important">
<p class="first admonition-title">Important</p>
<p class="last">There are 3 versions of ESP32-S2 available with different Wi-Fi PHYs. They can be identified by the marking on the chip itself. The project must be configured to match the chip via the project setting “ESP32-S2 chip version” (<code class="docutils literal notranslate"><span class="pre">CONFIG_ESP32S2_CHIP_VERSION</span></code>). This can be found under Component Config -&gt; ESP32S2-specific. If the project setting doesn’t match the chip then Wi-Fi performance may be very poor, or the chip may crash when initializing Wi-Fi.</p>
</div>
<p>Build and flash the project as usual, for example:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>idf.py -p PORT flash monitor
</pre></div>
</div>
<p>Consult the <a class="reference internal" href="get-started/index.html"><span class="doc">Get Started</span></a> guide for more details on building and flashing an ESP-IDF project.</p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">It is possible to set the project target back to ESP32 by running <code class="docutils literal notranslate"><span class="pre">idf.py</span> <span class="pre">set-target</span> <span class="pre">esp32</span></code>. This also clears the project configuration.</p>
</div>
</div>
<div class="section" id="limitations">
<span id="esp32s2-limitations"></span><h2>Limitations<a class="headerlink" href="esp32s2.html#limitations" title="Permalink to this headline">¶</a></h2>
<p>ESP32-S2 support is currently a preview and does not support all features. Espressif firmware developers are working hard on the remaining support, so please update the <code class="docutils literal notranslate"><span class="pre">master</span></code> branch regularly to receive the latest code.</p>
<ul class="simple">
<li>The integrated USB OTG peripheral is not supported</li>
<li>Documentation not updated for ESP32-S2 in most places</li>
<li>Peripheral drivers are a work in progress</li>
<li>No power saving modes</li>
<li>No hardware security features or cryptographic accelerator support</li>
<li>Time-of-Flight (TOF) measurements with normal Wi-Fi packets is not supported</li>
</ul>
</div>
<div class="section" id="roadmap">
<span id="esp32s2-roadmap"></span><h2>Roadmap<a class="headerlink" href="esp32s2.html#roadmap" title="Permalink to this headline">¶</a></h2>
<ul class="simple">
<li>ESP-IDF V4.1 will support ESP32-S2beta chip as a preview with some limitations.</li>
<li>ESP-IDF V4.2 will support ESP32-S2 (the previous ESP32-S2beta chip can’t work on V4.2).</li>
</ul>
<p>Support for ESP32-S2beta will be removed from ESP-IDF once ESP32-S2 is available.</p>
</div>
<div class="section" id="issues">
<h2>Issues<a class="headerlink" href="esp32s2.html#issues" title="Permalink to this headline">¶</a></h2>
<p>If you find issues which are not mentioned in <a class="reference internal" href="esp32s2.html#esp32s2-limitations"><span class="std std-ref">Limitations</span></a>, please <a class="reference external" href="https://github.com/espressif/esp-idf/issues">open an issue on GitHub</a>.</p>
<p>Please make sure to mention that you are using the ESP32-S2 preview support and give your exact version of ESP-IDF.</p>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="api-guides/index.html" class="btn btn-neutral float-right" title="API Guides" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="hw-reference/modules-and-boards-previous.html" class="btn btn-neutral float-left" title="Previous Versions of ESP32 Modules and Boards" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 - 2019, Espressif Systems (Shanghai) CO., LTD
      
        <span class="commit">
          Revision <code>f9108063</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>