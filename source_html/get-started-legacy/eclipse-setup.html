

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Build and Flash with Eclipse IDE (Legacy GNU Make) &mdash; ESP-IDF Programming Guide v4.1-dev-2071-gf91080637 documentation</title>
  

  
  
  
  

  
  <script type="text/javascript" src="../_static/js/modernizr.min.js"></script>
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script type="text/javascript" src="../_static/jquery.js"></script>
        <script type="text/javascript" src="../_static/underscore.js"></script>
        <script type="text/javascript" src="../_static/doctools.js"></script>
        <script type="text/javascript" src="../_static/language_data.js"></script>
        <script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/theme_overrides.css" type="text/css" />
    <link rel="author" title="About these documents" href="../about.html" />
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Customized Setup of Toolchain (Legacy GNU Make)" href="toolchain-setup-scratch.html" />
    <link rel="prev" title="Build and Flash with Make (Legacy GNU Make)" href="make-project.html" /> 

<!-- RTD Extra Head -->

<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link rel="canonical" href="https://docs.espressif.com/projects/esp-idf/en/latest/get-started-legacy/eclipse-setup.html" />

<link rel="stylesheet" href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" type="text/css" />

<script type="text/javascript" src="../_static/readthedocs-data.js"></script>

<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "get-started-legacy/eclipse-setup"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>

<script type="text/javascript" src="https://media.readthedocs.com/javascript/readthedocs-analytics.js"></script>

<!-- end RTD <extrahead> -->
<script async type="text/javascript" src="../../../../../_/static/javascript/readthedocs-addons.js"></script><meta name="readthedocs-project-slug" content="espressif-esp-idf" /><meta name="readthedocs-version-slug" content="latest" /><meta name="readthedocs-resolver-filename" content="/get-started-legacy/eclipse-setup.html" /><meta name="readthedocs-http-status" content="200" /></head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> ESP-IDF Programming Guide
          

          
            
            <img src="../_static/espressif-logo.svg" class="logo" alt="Logo"/>
          
          </a>

          
            
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../get-started/index.html">Get Started</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#introduction">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#what-you-need">What You Need</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#development-board-overviews">Development Board Overviews</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#installation-step-by-step">Installation Step by Step</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-1-install-prerequisites">Step 1. Install prerequisites</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-2-get-esp-idf">Step 2. Get ESP-IDF</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-3-set-up-the-tools">Step 3. Set up the tools</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-4-set-up-the-environment-variables">Step 4. Set up the environment variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-5-start-a-project">Step 5. Start a Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-6-connect-your-device">Step 6. Connect Your Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-7-configure">Step 7. Configure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-8-build-the-project">Step 8. Build the Project</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-9-flash-onto-the-device">Step 9. Flash onto the Device</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#step-10-monitor">Step 10. Monitor</a></li>
<li class="toctree-l2"><a class="reference internal" href="../get-started/index.html#updating-esp-idf">Updating ESP-IDF</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="../get-started/index.html#related-documents">Related Documents</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="../get-started/establish-serial-connection.html">Establish Serial Connection with ESP32</a></li>
<li class="toctree-l3"><a class="reference internal" href="../get-started/eclipse-setup.html">Build and Flash with Eclipse IDE</a></li>
<li class="toctree-l3"><a class="reference internal" href="../api-guides/tools/idf-monitor.html">IDF Monitor</a></li>
<li class="toctree-l3"><a class="reference internal" href="../get-started/toolchain-setup-scratch.html">Customized Setup of Toolchain</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html">Get Started (Legacy GNU Make)</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="index.html#introduction">Introduction</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#what-you-need">What You Need</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#development-board-overviews">Development Board Overviews</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#installation-step-by-step">Installation Step by Step</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-1-set-up-the-toolchain">Step 1. Set up the Toolchain</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-2-get-esp-idf">Step 2. Get ESP-IDF</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-3-set-environment-variables">Step 3. Set Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-4-install-the-required-python-packages">Step 4. Install the Required Python Packages</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-5-start-a-project">Step 5. Start a Project</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-6-connect-your-device">Step 6. Connect Your Device</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-7-configure">Step 7. Configure</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-8-build-and-flash">Step 8. Build and Flash</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#step-9-monitor">Step 9. Monitor</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#environment-variables">Environment Variables</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#updating-esp-idf">Updating ESP-IDF</a></li>
<li class="toctree-l4 current"><a class="reference internal" href="index.html#related-documents">Related Documents</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/index.html">API Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hw-reference/index.html">H/W Reference</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32s2.html">ESP32-S2 Preview Support</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-guides/index.html">API Guides</a></li>
<li class="toctree-l1"><a class="reference internal" href="../libraries-and-frameworks/index.html">Libraries and Frameworks</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">Contribute</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">Versions</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">Resources</a></li>
<li class="toctree-l1"><a class="reference internal" href="../COPYRIGHT.html">Copyrights</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">About</a></li>
<li class="toctree-l1"><a class="reference internal" href="../languages.html">语言/Languages</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">Guide Downloads</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">ESP-IDF Programming Guide</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="../get-started/index.html">Get Started</a> &raquo;</li>
        
          <li><a href="index.html">Get Started (Legacy GNU Make)</a> &raquo;</li>
        
      <li>Build and Flash with Eclipse IDE (Legacy GNU Make)</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            
              <a href="https://github.com/espressif/esp-idf/blob/master/docs/en/get-started-legacy/eclipse-setup.rst" class="fa fa-github"> Edit on GitHub</a>
            
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="build-and-flash-with-eclipse-ide-legacy-gnu-make">
<h1>Build and Flash with Eclipse IDE (Legacy GNU Make)<a class="headerlink" href="eclipse-setup.html#build-and-flash-with-eclipse-ide-legacy-gnu-make" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/get-started-legacy/eclipse-setup.html">[中文]</a></p>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">Since ESP-IDF V4.0, the default build system is based on CMake. This documentation is for the legacy build system based on GNU Make. Support for this build system may be removed in future major releases.</p>
</div>
<div class="section" id="installing-eclipse-ide">
<span id="eclipse-install-steps-legacy"></span><h2>Installing Eclipse IDE<a class="headerlink" href="eclipse-setup.html#installing-eclipse-ide" title="Permalink to this headline">¶</a></h2>
<p>The Eclipse IDE gives you a graphical integrated development environment for writing, compiling and debugging ESP-IDF projects.</p>
<ul class="simple">
<li>Start by installing the esp-idf for your platform (see files in this directory with steps for Windows, OS X, Linux).</li>
<li>We suggest building a project from the command line first, to get a feel for how that process works. You also need to use the command line to configure your esp-idf project (via <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code>), this is not currently supported inside Eclipse.</li>
<li>Download the Eclipse Installer for your platform from <a class="reference external" href="https://www.eclipse.org/">eclipse.org</a>.</li>
<li>When running the Eclipse Installer, choose “Eclipse for C/C++ Development” (in other places you’ll see this referred to as CDT.)</li>
</ul>
</div>
<div class="section" id="setting-up-eclipse">
<h2>Setting up Eclipse<a class="headerlink" href="eclipse-setup.html#setting-up-eclipse" title="Permalink to this headline">¶</a></h2>
<p>Once your new Eclipse installation launches, follow these steps:</p>
<div class="section" id="import-new-project">
<h3>Import New Project<a class="headerlink" href="eclipse-setup.html#import-new-project" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>Eclipse makes use of the Makefile support in ESP-IDF. This means you need to start by creating an ESP-IDF project. You can use the idf-template project from github, or open one of the examples in the esp-idf examples subdirectory.</li>
<li>Once Eclipse is running, choose File -&gt; Import…</li>
<li>In the dialog that pops up, choose “C/C++” -&gt; “Existing Code as Makefile Project” and click Next.</li>
<li>On the next page, enter “Existing Code Location” to be the directory of your IDF project. Don’t specify the path to the ESP-IDF directory itself (that comes later). The directory you specify should contain a file named “Makefile” (the project Makefile).</li>
<li>On the same page, under “Toolchain for Indexer Settings” choose “Cross GCC”. Then click Finish.</li>
</ul>
</div>
<div class="section" id="project-properties">
<h3>Project Properties<a class="headerlink" href="eclipse-setup.html#project-properties" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li>The new project will appear under Project Explorer. Right-click the project and choose Properties from the context menu.</li>
<li>Click on the “Environment” properties page under “C/C++ Build”. Click “Add…” and enter name <code class="docutils literal notranslate"><span class="pre">BATCH_BUILD</span></code> and value <code class="docutils literal notranslate"><span class="pre">1</span></code>.</li>
<li>Click “Add…” again, and enter name <code class="docutils literal notranslate"><span class="pre">IDF_PATH</span></code>. The value should be the full path where ESP-IDF is installed. Windows users can copy the <code class="docutils literal notranslate"><span class="pre">IDF_PATH</span></code> from windows explorer.</li>
<li>Edit the <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable. Keep the current value, and append the path to the Xtensa toolchain installed as part of IDF setup, if this is not already listed on the PATH. A typical path to the toolchain looks like <code class="docutils literal notranslate"><span class="pre">/home/user-name/esp/xtensa-esp32-elf/bin</span></code>. Note that you need to add a colon <code class="docutils literal notranslate"><span class="pre">:</span></code> before the appended path. Windows users will need to prepend <code class="docutils literal notranslate"><span class="pre">C:\msys32\mingw32\bin;C:\msys32\opt\xtensa-esp32-elf\bin;C:\msys32\usr\bin</span></code> to <code class="docutils literal notranslate"><span class="pre">PATH</span></code> environment variable (If you installed msys32 to a different directory then you’ll need to change these paths to match).</li>
<li>On macOS, add a <code class="docutils literal notranslate"><span class="pre">PYTHONPATH</span></code> environment variable and set it to <code class="docutils literal notranslate"><span class="pre">/Library/Frameworks/Python.framework/Versions/2.7/lib/python2.7/site-packages</span></code>. This is so that the system Python, which has pyserial installed as part of the setup steps, overrides any built-in Eclipse Python.</li>
</ul>
<p><strong>ADDITIONAL NOTE</strong>: If either the IDF_PATH directory or the project directory is located outside <code class="docutils literal notranslate"><span class="pre">C:\msys32\home</span></code> directory, you will have to give custom build command in C/C++ Build properties as: <code class="docutils literal notranslate"><span class="pre">python</span> <span class="pre">${IDF_PATH}/tools/windows/eclipse_make.py</span></code> (Please note that the build time may get significantly increased by this method.)</p>
<p>Navigate to “C/C++ General” -&gt; “Preprocessor Include Paths” property page:</p>
<ul class="simple">
<li>Click the “Providers” tab</li>
<li>In the list of providers, click “CDT Cross GCC Built-in Compiler Settings”. Change “Command to get compiler specs” to <code class="docutils literal notranslate"><span class="pre">xtensa-esp32-elf-gcc</span> <span class="pre">${FLAGS}</span> <span class="pre">-std=c++11</span> <span class="pre">-E</span> <span class="pre">-P</span> <span class="pre">-v</span> <span class="pre">-dD</span> <span class="pre">&quot;${INPUTS}&quot;</span></code>.</li>
<li>In the list of providers, click “CDT GCC Build Output Parser” and change the “Compiler command pattern” to <code class="docutils literal notranslate"><span class="pre">xtensa-esp32-elf-(gcc|g\+\+|c\+\+|cc|cpp|clang)</span></code></li>
</ul>
<p>Navigate to “C/C++ General” -&gt; “Indexer” property page:</p>
<ul class="simple">
<li>Check “Enable project specific settings” to enable the rest of the settings on this page.</li>
<li>Uncheck “Allow heuristic resolution of includes”. When this option is enabled Eclipse sometimes fails to find correct header directories.</li>
</ul>
<p>Navigate to “C/C++ Build” -&gt; “Behavior” property page:</p>
<ul class="simple">
<li>Check “Enable parallel build” to enable multiple build jobs in parallel.</li>
</ul>
</div>
<div class="section" id="building-in-eclipse">
<span id="eclipse-build-project-legacy"></span><h3>Building in Eclipse<a class="headerlink" href="eclipse-setup.html#building-in-eclipse" title="Permalink to this headline">¶</a></h3>
<p>Before your project is first built, Eclipse may show a lot of errors and warnings about undefined values. This is because some source files are automatically generated as part of the esp-idf build process. These errors and warnings will go away after you build the project.</p>
<ul class="simple">
<li>Click OK to close the Properties dialog in Eclipse.</li>
<li>Outside Eclipse, open a command line prompt. Navigate to your project directory, and run <code class="docutils literal notranslate"><span class="pre">make</span> <span class="pre">menuconfig</span></code> to configure your project’s esp-idf settings. This step currently has to be run outside Eclipse.</li>
</ul>
<p><em>If you try to build without running a configuration step first, esp-idf will prompt for configuration on the command line - but Eclipse is not able to deal with this, so the build will hang or fail.</em></p>
<ul class="simple">
<li>Back in Eclipse, choose Project -&gt; Build to build your project.</li>
</ul>
<p><strong>TIP</strong>: If your project had already been built outside Eclipse, you may need to do a Project -&gt; Clean before choosing Project -&gt; Build. This is so Eclipse can see the compiler arguments for all source files. It uses these to determine the header include paths.</p>
</div>
<div class="section" id="flash-from-eclipse">
<h3>Flash from Eclipse<a class="headerlink" href="eclipse-setup.html#flash-from-eclipse" title="Permalink to this headline">¶</a></h3>
<p>You can integrate the “make flash” target into your Eclipse project to flash using esptool.py from the Eclipse UI:</p>
<ul class="simple">
<li>Right-click your project in Project Explorer (important to make sure you select the project, not a directory in the project, or Eclipse may find the wrong Makefile.)</li>
<li>Select Build Targets -&gt; Create… from the context menu.</li>
<li>Type “flash” as the target name. Leave the other options as their defaults.</li>
<li>Now you can use Project -&gt; Build Target -&gt; Build (Shift+F9) to build the custom flash target, which will compile and flash the project.</li>
</ul>
<p>Note that you will need to use “make menuconfig” to set the serial port and other config options for flashing. “make menuconfig” still requires a command line terminal (see the instructions for your platform.)</p>
<p>Follow the same steps to add <code class="docutils literal notranslate"><span class="pre">bootloader</span></code> and <code class="docutils literal notranslate"><span class="pre">partition_table</span></code> targets, if necessary.</p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="toolchain-setup-scratch.html" class="btn btn-neutral float-right" title="Customized Setup of Toolchain (Legacy GNU Make)" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="make-project.html" class="btn btn-neutral float-left" title="Build and Flash with Make (Legacy GNU Make)" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016 - 2019, Espressif Systems (Shanghai) CO., LTD
      
        <span class="commit">
          Revision <code>f9108063</code>.
        </span>
      

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  



  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
   

</body>
</html>