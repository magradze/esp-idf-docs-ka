
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ESP SDIO Slave-თან კომუნიკაცია — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../../_static/js/theme.js" type="text/javascript"></script>
<link href="../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="sigmadelta.html" rel="next" title="Sigma-delta Modulation"/>
<link href="sdio_slave.html" rel="prev" title="SDIO Card Slave Driver"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/peripherals/esp_slave_protocol.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-reference/peripherals/esp_slave_protocol"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-reference/peripherals/esp_slave_protocol.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API მითითება</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">ქსელური მუშაობა</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">პერიფერიული მოწყობილობები</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="adc.html">ანალოგური კომბინაციის კოდი</a></li>
<li class="toctree-l3"><a class="reference internal" href="can.html">შეიძლება</a></li>
<li class="toctree-l3"><a class="reference internal" href="dac.html">ციფრულ-ანალოგური AC</a></li>
<li class="toctree-l3"><a class="reference internal" href="gpio.html">GPIO (RTC დაბალი სიმძლავრის შეყვანა/გამოყვანის ჩათვლით)</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2c.html">I2C</a></li>
<li class="toctree-l3"><a class="reference internal" href="i2s.html">I2S</a></li>
<li class="toctree-l3"><a class="reference internal" href="ledc.html">LED კონტროლი</a></li>
<li class="toctree-l3"><a class="reference internal" href="mcpwm.html">MCPWM</a></li>
<li class="toctree-l3"><a class="reference internal" href="pcnt.html">პულსის მრიცხველი</a></li>
<li class="toctree-l3"><a class="reference internal" href="rmt.html">დისტანციური მართვა</a></li>
<li class="toctree-l3"><a class="reference internal" href="sd_pullup_requirements.html">SD Pull-up-ის მოთხოვნები</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdmmc_host.html">SDMMC ჰოსტი</a></li>
<li class="toctree-l3"><a class="reference internal" href="sdspi_host.html">SD SPI მასპინძელი</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="sdio_slave.html">SDIO მონა</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="sdio_slave.html#overview">მიმოხილვა</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdio_slave.html#application-example">განაცხადის მაგალითი</a></li>
<li class="toctree-l4"><a class="reference internal" href="sdio_slave.html#api-reference">API მითითება</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="sigmadelta.html">სიგმა-დელტა მოდულაცია</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_master.html">SPI ოსტატი</a></li>
<li class="toctree-l3"><a class="reference internal" href="spi_slave.html">SPI მონა</a></li>
<li class="toctree-l3"><a class="reference internal" href="temp_sensor.html">ტემპერატურის სენსორი</a></li>
<li class="toctree-l3"><a class="reference internal" href="timer.html">ტაიმერი</a></li>
<li class="toctree-l3"><a class="reference internal" href="touch_pad.html">შეხების სენსორი</a></li>
<li class="toctree-l3"><a class="reference internal" href="uart.html">UART</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">პროტოკოლები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">უზრუნველყოფა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">შენახვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">კონფიგურაციის პარამეტრები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">შეცდომის კოდების მითითება</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API სახელმძღვანელოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../../index.html">დოკუმენტები</a> »</li>
<li><a href="../index.html">API მითითება</a> »</li>
<li><a href="index.html">პერიფერიული მოწყობილობების API</a> »</li>
<li><a href="sdio_slave.html">SDIO ბარათის დამხმარე დრაივერი</a> »</li>
<li>კომუნიკაცია ESP SDIO Slave-თან</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-reference/peripherals/esp_slave_protocol.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="communication-with-esp-sdio-slave">
<h1>კომუნიკაცია ESP SDIO Slave-თან<a class="headerlink" href="esp_slave_protocol.html#communication-with-esp-sdio-slave" title="Permalink to this headline">¶</a></h1>
<div class="section" id="esp-sdio-slave-initialization">
<span id="esp-slave-init"></span><h2>ESP SDIO მონა-მონაწილის ინიციალიზაცია<a class="headerlink" href="esp_slave_protocol.html#esp-sdio-slave-initialization" title="Permalink to this headline">¶</a></h2>
<p>მასპინძელმა უნდა მოახდინოს ESP32 SDIO მონა-მოთამაშის ინიციალიზაცია სტანდარტული SDIO ინიციალიზაციის პროცესის შესაბამისად (სექტორი 3.1.2). <a class="reference external" href="https://www.sdcard.org/downloads/pls/">SDIO გამარტივებული სპეციფიკაცია</a>). ამ და ქვემოთ მოცემულ სპეციფიკაციაში, SDIO მონა ასევე ცნობილია, როგორც (SD)IO ბარათი. ყველა ინიციალიზაციის CMD52 და CMD53 იგზავნება Func 0-ში (CIA რეგიონი). აქ მოცემულია მოკლე მაგალითი, თუ როგორ უნდა გააკეთოთ ეს:</p>
<ol class="arabic">
<li><dl class="first docutils">
<dt>SDIO reset</dt>
<dd><p class="first last">CMD52 (ჩაწერეთ 0x6=0x8)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>SD reset</dt>
<dd><p class="first last">CMD0</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Check whether IO card (optional)</dt>
<dd><p class="first last">CMD8</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Send SDIO op cond and wait for card ready</dt>
<dd><p class="first">CMD5 არგუმენტი = 0x00000000</p>
<p>CMD5 arg = 0x00ff8000 (ზემოთ მოცემული პასუხის მიხედვით, გამოკითხვა მზადყოფნამდე)</p>
<dl class="last docutils">
<dt><strong>მაგალითი:</strong></dt>
<dd><p class="first">პირველი CMD5-ის შემდეგ R4-ის Arg (arg=0x00000000) არის 0xXXFFFF00.</p>
<p class="last">განაგრძეთ CMD5-ის გაგზავნა arg=0x00FFFF00-ით, სანამ R4 არ აჩვენებს, რომ ბარათი მზადაა (arg bit 31=1).</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Set address</dt>
<dd><p class="first last">CMD3</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Select card</dt>
<dd><p class="first">CMD7 (arg მისამართი CMD3 პასუხის მიხედვით)</p>
<dl class="last docutils">
<dt><strong>მაგალითი:</strong></dt>
<dd><p class="first">CMD3-ის შემდეგ R6-ის Arg არის 0x0001xxxx.</p>
<p class="last">CMD7-ის Arg უნდა იყოს 0x00010000.</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Select 4-bit mode (optional)</dt>
<dd><p class="first last">CMD52 (ჩაწერეთ 0x07=0x02)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Enable func1</dt>
<dd><p class="first last">CMD52 (ჩაწერეთ 0x02=0x02)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Enable SDIO interrupt (required if interrupt line (DAT1) is used)</dt>
<dd><p class="first last">CMD52 (ჩაწერეთ 0x04=0x03)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Set Func0 blocksize (optional, default value is 512 (0x200))</dt>
<dd><p class="first">CMD52/53 (წაკითხვა 0x10~0x11)</p>
<p>CMD52/53 (ჩაწერეთ 0x10=0x00)</p>
<p>CMD52/53 (ჩაწერეთ 0x11=0x02)</p>
<p class="last">CMD52/53 (წაიკითხეთ 0x10~0x11, წაიკითხეთ საბოლოო მნიშვნელობის შესამოწმებლად)</p>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Set Func1 blocksize (optional, default value is 512 (0x200))</dt>
<dd><p class="first">CMD52/53 (წაკითხვა 0x110~0x111)</p>
<p>CMD52/53 (ჩაწერა 0x110=0x00)</p>
<p>CMD52/53 (ჩაწერა 0x111=0x02)</p>
<p class="last">CMD52/53 (წაიკითხეთ 0x110~0x111, წაიკითხეთ საბოლოო მნიშვნელობის შესამოწმებლად)</p>
</dd>
</dl>
</li>
</ol>
</div>
<div class="section" id="esp-sdio-slave-protocol">
<span id="esp-slave-protocol-layer"></span><h2>ESP SDIO მონა პროტოკოლი<a class="headerlink" href="esp_slave_protocol.html#esp-sdio-slave-protocol" title="Permalink to this headline">¶</a></h2>
<p>პროტოკოლი ეფუძნება CMD52-ისა და CMD53-ის მიერ ფუნქცია 1-ზე წვდომას და გთავაზობთ 3 სერვისს: (1) FIFO-ს გაგზავნა და მიღება, (2) ჰოსტისა და მონის მიერ გაზიარებული 52 8-ბიტიანი R/W რეგისტრი, (3) ჰოსტიდან მონისკენ გადამცემი 8 ზოგადი დანიშნულების შეფერხების წყარო და 8 საპირისპირო მიმართულებით.</p>
<p>არსებობს კომპონენტი <cite>esp_serial_slave_link</cite> ამ პროტოკოლის ლოგიკის იმპლემენტაცია ESP32 მასტერისთვის ESP32 მონასთან კომუნიკაციისთვის. იხილეთ <a class="reference internal" href="../protocols/esp_serial_slave_link.html"><span class="doc">ESP სერიული მონა ბმული</span></a>.</p>
<p>ჰოსტმა უნდა გამოიყენოს ქვემოთ მოცემული რეგისტრები, როგორც ეს აღწერილია მონა სერვერთან კომუნიკაციისთვის.</p>
<div class="section" id="slave-register-table">
<h3>მონათა რეგისტრაციის ცხრილი<a class="headerlink" href="esp_slave_protocol.html#slave-register-table" title="Permalink to this headline">¶</a></h3>
<div class="section" id="bit">
<h4>32-ბიტიანი<a class="headerlink" href="esp_slave_protocol.html#bit" title="Permalink to this headline">¶</a></h4>
<ul class="simple">
<li>0x044 (TOKEN_RDATA): რომელშიც 27-16 ბიტი შეიცავს მიმღები ბუფერის ნომერს.</li>
<li>0x058 (INT_ST): ინახავს შეწყვეტის წყაროს ბიტებს მონიდან მასპინძელამდე.</li>
<li>0x060 (PKT_LEN): ინახავს დაგროვილ სიგრძეს (ბაიტებით), რომელიც უნდა გაიგზავნოს მონიდან მასპინძელზე.</li>
<li>0x0D4 (INT_CLR): ჩაწერეთ 1 INT_ST-ის შესაბამისი შეწყვეტის ბიტების გასასუფთავებლად.</li>
<li>0x0DC (INT_ENA): ნიღბის ბიტები მონიდან მასპინძელამდე შეფერხებებისთვის.</li>
</ul>
</div>
<div class="section" id="id1">
<h4>8-ბიტიანი<a class="headerlink" href="esp_slave_protocol.html#id1" title="Permalink to this headline">¶</a></h4>
<p>საერთო დანიშნულების რეგისტრები:</p>
<ul class="simple">
<li>0x06C-0x077: R/W რეგისტრებს 0-11, რომლებიც გაზიარებულია მონა და მასპინძელ სერვერებზე.</li>
<li>0x07A-0x07B: R/W რეგისტრები 14-15, რომლებიც გაზიარებულია მონა და მასპინძელ სერვერებზე.</li>
<li>0x07E-0x07F: R/W რეგისტრები 18-19, რომლებიც გაზიარებულია მონა და მასპინძელ სისტემებს შორის.</li>
<li>0x088-0x08B: R/W რეგისტრები 24-27, რომლებიც გაზიარებულია მონა და მასპინძელ სერვერებზე.</li>
<li>0x09C-0x0BB: R/W რეგისტრები 32-63, რომლებიც გაზიარებულია მონა და მასპინძელ სისტემებს შორის.</li>
</ul>
<p>შეწყვეტის რეგისტრები: - 0x08D (SLAVE_INT): მასპინძლისთვის განკუთვნილი ბიტები მონა-ოპერატორის შეწყვეტისთვის. ავტომატური გასუფთავება.</p>
</div>
<div class="section" id="fifo-sending-and-receiving">
<h4>FIFO (გაგზავნა და მიღება)<a class="headerlink" href="esp_slave_protocol.html#fifo-sending-and-receiving" title="Permalink to this headline">¶</a></h4>
<p>0x090 - 0x1F7FF FIFO-ებისთვისაა განკუთვნილი.</p>
<p>CMD53-ის მისამართი დაკავშირებულია მონა კომპიუტერიდან წასაკითხად/ჩასაწერად მოთხოვნილ სიგრძესთან ერთი გადაცემის დროს:</p>
<blockquote>
<div><em>მოთხოვნილი სიგრძე = 0x1F800-მისამართი</em></div></blockquote>
<p>მონა უპასუხებს CMD53-ში მოცემული სიგრძის ველის მიხედვით სიგრძის მითითებით, მონაცემებით, რომელიც აღემატება <em>მოთხოვნილი სიგრძე</em> ივსება 0-ით (გაგზავნა) ან იკარგება (მიღება).</p>
<div class="admonition note">
<p class="first admonition-title">შენიშვნა</p>
<p>ეს მოიცავს CMD53-ის როგორც ბლოკურ, ასევე ბაიტურ რეჟიმს.</p>
<p>ფუნქციის ნომერი უნდა იყოს დაყენებული 1-ზე, OP კოდი კი 1-ზე (CMD53-ისთვის).</p>
<p>FIFO-ზე ნებისმიერი სიგრძით წვდომისას უფრო მაღალი ეფექტურობის მისაღწევად დაშვებულია CMD53 რეჟიმის ბლოკი+ბაიტის კომბინაციის გამოყენება. მაგალითად, ბლოკის ზომა ნაგულისხმევად დაყენებულია 512-ზე, თქვენ შეგიძლიათ ჩაწეროთ/მიიღოთ 1031 ბაიტი მონაცემები FIFO-დან/FIFO-დან შემდეგნაირად:</p>
<ol class="last arabic simple">
<li>ბლოკის რეჟიმში CMD53-ის გაგზავნა, ბლოკების რაოდენობა=2 (1024 ბაიტი) მისამართზე 0x1F3F9=0x1F800-<strong>1031</strong>.</li>
<li>შემდეგ გაგზავნეთ CMD53 ბაიტის რეჟიმში, ბაიტების რაოდენობა=8 (ან 7, თუ თქვენი კონტროლერი მხარს უჭერს ამას) მისამართზე 0x1F7F9=0x1F800-<strong>7</strong>.</li>
</ol>
</div>
</div>
</div>
<div class="section" id="interrupts">
<h3>შეწყვეტები<a class="headerlink" href="esp_slave_protocol.html#interrupts" title="Permalink to this headline">¶</a></h3>
<p>ჰოსტის შეფერხებების შემთხვევაში, მონა აჩერებს შეფერხებას DAT1 ხაზის შესაბამის დროს ქვემოთ ჩამოწევით (დონისადმი მგრძნობიარე). ჰოსტი აფიქსირებს ამას და კითხულობს INT_ST რეგისტრს წყაროს სანახავად. შემდეგ ჰოსტს შეუძლია წაშალოს ის INT_CLR რეგისტრში ჩაწერით და რაიმე გააკეთოს შეფერხებასთან დაკავშირებით. ჰოსტს ასევე შეუძლია არასაჭირო წყაროების შენიღბვა წყაროების შესაბამისი INT_ENA რეგისტრში ბიტების წაშლით. თუ ყველა წყარო წაიშლება (ან შენიღბულია), DAT1 ხაზი არააქტიური ხდება.</p>
<p><code class="docutils literal notranslate"><span class="pre">sdio_slave_hostint_t</span></code> (<a class="reference internal" href="sdio_slave.html"><span class="doc">SDIO ბარათის დამხმარე დრაივერი</span></a>) აჩვენებს მასპინძლის შეწყვეტის წყაროების შესაბამის ბიტის განმარტებას.</p>
<p>დაქვემდებარებული სისტემის შეფერხებების შემთხვევაში, ჰოსტი აგზავნის გადაცემებს SLAVE_INT რეგისტრის ჩასაწერად. როგორც კი ბიტი ჩაიწერება 0-დან 1-მდე, დაქვემდებარებული სისტემის აპარატურა და დრაივერი აღმოაჩენენ მას და აცნობებენ აპლიკაციას.</p>
</div>
<div class="section" id="receiving-fifo">
<h3>FIFO-ს მიღება<a class="headerlink" href="esp_slave_protocol.html#receiving-fifo" title="Permalink to this headline">¶</a></h3>
<p>მიმღები FIFO-ს მონაში ჩასაწერად, ჰოსტმა უნდა შეასრულოს შემდეგი ნაბიჯები:</p>
<ol class="arabic simple">
<li>წაიკითხეთ TOKEN_RDATA (0x044) რეგისტრის TOKEN1 ველი (ბიტები 27-16). დარჩენილი ბუფერის ნომერია TOKEN1-ს გამოკლებული ჰოსტის მიერ გამოყენებული ბუფერების რაოდენობა.</li>
<li>დარწმუნდით, რომ ბუფერის რაოდენობა საკმარისია (<em>recv_buffer_size</em> * <em>ბუფერის_ნომერი</em> ჩასაწერ მონაცემებზე მეტია, <em>recv_buffer_size</em>
წინასწარ განსაზღვრულია მასპინძელსა და მონას შორის კომუნიკაციის დაწყებამდე). ან დაბრუნდით 1-ელ ნაბიჯზე, სანამ ბუფერი საკმარისი არ იქნება.</li>
<li>FIFO მისამართზე CMD53-ით ჩაწერეთ. გაითვალისწინეთ, რომ <em>მოთხოვნილი სიგრძე</em> არ უნდა იყოს უფრო დიდი, ვიდრე გამოითვალა მე-2 ეტაპზე და FIFO მისამართი დაკავშირებულია <em>მოთხოვნილი სიგრძე</em>.</li>
<li>გამოთვალეთ გამოყენებული ბუფერები, გაითვალისწინეთ, რომ კუდის არასრული ბუფერი გამოყენებულ ბუფერად უნდა ჩაითვალოს.</li>
</ol>
</div>
<div class="section" id="sending-fifo">
<h3>FIFO-ს გაგზავნა<a class="headerlink" href="esp_slave_protocol.html#sending-fifo" title="Permalink to this headline">¶</a></h3>
<p>სლეში გამგზავნი FIFO-ს წასაკითხად, ჰოსტმა უნდა შეასრულოს შემდეგი ნაბიჯები:</p>
<ol class="arabic simple">
<li>დაელოდეთ შეწყვეტის ხაზის გააქტიურებას (სურვილისამებრ, ნაგულისხმევად დაბალი).</li>
<li>წაიკითხეთ (გამოკითხვა) INT_ST რეგისტრში შეწყვეტის ბიტები, რათა ნახოთ, არსებობს თუ არა ახალი პაკეტები.</li>
<li>თუ ახალი პაკეტები მზადაა, კითხულობს PKT_LEN რეგულატორს. მონიდან წასაკითხი მონაცემების სიგრძეა PKT_LEN, გამოკლებული ჰოსტიდან წაკითხული სიგრძე. თუ PKT_LEN არ აღემატება გამოყენებულს, დაელოდეთ და გამოკითხეთ სანამ მონური მოწყობილობა მზად იქნება და განაახლეთ PKT_LEN.</li>
<li>წაიკითხეთ FIFO-დან CMD53-ის გამოყენებით. გაითვალისწინეთ, რომ <em>მოთხოვნილი სიგრძე</em> არ უნდა იყოს უფრო დიდი, ვიდრე მე-3 ეტაპზე გამოთვლილია და FIFO მისამართი დაკავშირებულია <em>მოთხოვნილი სიგრძე</em>.</li>
<li>ჩაწერილი წაკითხვის ხანგრძლივობა.</li>
</ol>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="sigmadelta.html" rel="next" title="Sigma-delta Modulation">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="sdio_slave.html" rel="prev" title="SDIO Card Slave Driver"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>