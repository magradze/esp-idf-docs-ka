
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>ESP ლოკალური კონტროლი — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../../_static/js/theme.js" type="text/javascript"></script>
<link href="../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="mdns.html" rel="next" title="mDNS Service"/>
<link href="icmp_echo.html" rel="prev" title="ICMP Echo"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/protocols/esp_local_ctrl.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-reference/protocols/esp_local_ctrl"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-reference/protocols/esp_local_ctrl.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API მითითება</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">ქსელური მუშაობა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">პერიფერიული მოწყობილობები</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">პროტოკოლები</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="asio.html">ASIO</a></li>
<li class="toctree-l3"><a class="reference internal" href="mqtt.html">ESP-MQTT</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_tls.html">ESP-TLS</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_client.html">HTTP კლიენტი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_http_server.html">HTTP სერვერი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_server.html">HTTPS სერვერი</a></li>
<li class="toctree-l3"><a class="reference internal" href="icmp_echo.html">ICMP Echo</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="esp_local_ctrl.html#">ადგილობრივი კონტროლი</a><ul>
<li class="toctree-l4"><a class="reference internal" href="esp_local_ctrl.html#overview">მიმოხილვა</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_local_ctrl.html#creating-a-property">ქონების შექმნა</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_local_ctrl.html#client-side-implementation">კლიენტის მხარის იმპლემენტაცია</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_local_ctrl.html#api-reference">API მითითება</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="mdns.html">mDNS</a></li>
<li class="toctree-l3"><a class="reference internal" href="modbus.html">მოდბუსი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_websocket_client.html">Websocket კლიენტი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_serial_slave_link.html">ESP სერიული მონა ბმული</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ip-network-layer">IP ქსელის ფენა</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">უზრუნველყოფა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">შენახვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">კონფიგურაციის პარამეტრები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">შეცდომის კოდების მითითება</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API სახელმძღვანელოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../../index.html">დოკუმენტები</a> »</li>
<li><a href="../index.html">API მითითება</a> »</li>
<li><a href="index.html">აპლიკაციის პროტოკოლები</a> »</li>
<li>ESP ლოკალური კონტროლი</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-reference/protocols/esp_local_ctrl.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="esp-local-control">
<h1>ESP ლოკალური კონტროლი<a class="headerlink" href="esp_local_ctrl.html#esp-local-control" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>მიმოხილვა<a class="headerlink" href="esp_local_ctrl.html#overview" title="Permalink to this headline">¶</a></h2>
<p>ESP ლოკალური კონტროლი (<strong>esp_local_ctrl</strong>) კომპონენტი ESP-IDF ში იძლევა ESP მოწყობილობის Wi-Fi + HTTPS ან BLE-ის მეშვეობით მართვის შესაძლებლობას. ის უზრუნველყოფს წვდომას აპლიკაციით განსაზღვრულ <strong>თვისებები</strong> რომლებიც ხელმისაწვდომია წასაკითხად/ჩასაწერად კონფიგურირებადი დამმუშავებლების ნაკრების მეშვეობით.</p>
<p>ინიციალიზაცია <strong>esp_local_ctrl</strong> BLE ტრანსპორტით მომსახურება ხორციელდება შემდეგნაირად:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">esp_local_ctrl_config_t</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">.</span><span class="n">transport</span> <span class="o">=</span> <span class="n">ESP_LOCAL_CTRL_TRANSPORT_BLE</span><span class="p">,</span>
    <span class="p">.</span><span class="n">transport_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">ble</span> <span class="o">=</span> <span class="o">&amp;</span> <span class="p">(</span><span class="n">protocomm_ble_config_t</span><span class="p">)</span> <span class="p">{</span>
            <span class="p">.</span><span class="n">device_name</span>  <span class="o">=</span> <span class="n">SERVICE_NAME</span><span class="p">,</span>
            <span class="p">.</span><span class="n">service_uuid</span> <span class="o">=</span> <span class="p">{</span>
                <span class="cm">/* LSB &lt;---------------------------------------</span>
<span class="cm">                * ---------------------------------------&gt; MSB */</span>
                <span class="mh">0x21</span><span class="p">,</span> <span class="mh">0xd5</span><span class="p">,</span> <span class="mh">0x3b</span><span class="p">,</span> <span class="mh">0x8d</span><span class="p">,</span> <span class="mh">0xbd</span><span class="p">,</span> <span class="mh">0x75</span><span class="p">,</span> <span class="mh">0x68</span><span class="p">,</span> <span class="mh">0x8a</span><span class="p">,</span>
                <span class="mh">0xb4</span><span class="p">,</span> <span class="mh">0x42</span><span class="p">,</span> <span class="mh">0xeb</span><span class="p">,</span> <span class="mh">0x31</span><span class="p">,</span> <span class="mh">0x4a</span><span class="p">,</span> <span class="mh">0x1e</span><span class="p">,</span> <span class="mh">0x98</span><span class="p">,</span> <span class="mh">0x3d</span>
            <span class="p">}</span>
        <span class="p">}</span>
    <span class="p">},</span>
    <span class="p">.</span><span class="n">handlers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="cm">/* User defined handler functions */</span>
        <span class="p">.</span><span class="n">get_prop_values</span> <span class="o">=</span> <span class="n">get_property_values</span><span class="p">,</span>
        <span class="p">.</span><span class="n">set_prop_values</span> <span class="o">=</span> <span class="n">set_property_values</span><span class="p">,</span>
        <span class="p">.</span><span class="n">usr_ctx</span>         <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">usr_ctx_free_fn</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="cm">/* Maximum number of properties that may be set */</span>
    <span class="p">.</span><span class="n">max_properties</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="cm">/* Start esp_local_ctrl service */</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">esp_local_ctrl_start</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
<p>ანალოგიურად HTTPS ტრანსპორტირებისთვის:</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Set the configuration */</span>
<span class="n">httpd_ssl_config_t</span> <span class="n">https_conf</span> <span class="o">=</span> <span class="n">HTTPD_SSL_CONFIG_DEFAULT</span><span class="p">();</span>

<span class="cm">/* Load server certificate */</span>
<span class="k">extern</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">cacert_pem_start</span><span class="p">[]</span> <span class="k">asm</span><span class="p">(</span><span class="s">"_binary_cacert_pem_start"</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">cacert_pem_end</span><span class="p">[]</span>   <span class="k">asm</span><span class="p">(</span><span class="s">"_binary_cacert_pem_end"</span><span class="p">);</span>
<span class="n">https_conf</span><span class="p">.</span><span class="n">cacert_pem</span> <span class="o">=</span> <span class="n">cacert_pem_start</span><span class="p">;</span>
<span class="n">https_conf</span><span class="p">.</span><span class="n">cacert_len</span> <span class="o">=</span> <span class="n">cacert_pem_end</span> <span class="o">-</span> <span class="n">cacert_pem_start</span><span class="p">;</span>

<span class="cm">/* Load server private key */</span>
<span class="k">extern</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">prvtkey_pem_start</span><span class="p">[]</span> <span class="k">asm</span><span class="p">(</span><span class="s">"_binary_prvtkey_pem_start"</span><span class="p">);</span>
<span class="k">extern</span> <span class="k">const</span> <span class="kt">unsigned</span> <span class="kt">char</span> <span class="n">prvtkey_pem_end</span><span class="p">[]</span>   <span class="k">asm</span><span class="p">(</span><span class="s">"_binary_prvtkey_pem_end"</span><span class="p">);</span>
<span class="n">https_conf</span><span class="p">.</span><span class="n">prvtkey_pem</span> <span class="o">=</span> <span class="n">prvtkey_pem_start</span><span class="p">;</span>
<span class="n">https_conf</span><span class="p">.</span><span class="n">prvtkey_len</span> <span class="o">=</span> <span class="n">prvtkey_pem_end</span> <span class="o">-</span> <span class="n">prvtkey_pem_start</span><span class="p">;</span>

<span class="n">esp_local_ctrl_config_t</span> <span class="n">config</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">.</span><span class="n">transport</span> <span class="o">=</span> <span class="n">ESP_LOCAL_CTRL_TRANSPORT_HTTPD</span><span class="p">,</span>
    <span class="p">.</span><span class="n">transport_config</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">httpd</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">https_conf</span>
    <span class="p">},</span>
    <span class="p">.</span><span class="n">handlers</span> <span class="o">=</span> <span class="p">{</span>
        <span class="cm">/* User defined handler functions */</span>
        <span class="p">.</span><span class="n">get_prop_values</span> <span class="o">=</span> <span class="n">get_property_values</span><span class="p">,</span>
        <span class="p">.</span><span class="n">set_prop_values</span> <span class="o">=</span> <span class="n">set_property_values</span><span class="p">,</span>
        <span class="p">.</span><span class="n">usr_ctx</span>         <span class="o">=</span> <span class="nb">NULL</span><span class="p">,</span>
        <span class="p">.</span><span class="n">usr_ctx_free_fn</span> <span class="o">=</span> <span class="nb">NULL</span>
    <span class="p">},</span>
    <span class="cm">/* Maximum number of properties that may be set */</span>
    <span class="p">.</span><span class="n">max_properties</span> <span class="o">=</span> <span class="mi">10</span>
<span class="p">};</span>

<span class="cm">/* Start esp_local_ctrl service */</span>
<span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">esp_local_ctrl_start</span><span class="p">(</span><span class="o">&amp;</span><span class="n">config</span><span class="p">));</span>
</pre></div>
</div>
</div></blockquote>
</div>
<div class="section" id="creating-a-property">
<h2>ქონების შექმნა<a class="headerlink" href="esp_local_ctrl.html#creating-a-property" title="Permalink to this headline">¶</a></h2>
<p>ახლა, როდესაც ვიცით, როგორ დავიწყოთ <strong>esp_local_ctrl</strong> სერვისს, მოდით დავამატოთ მას თვისება. თითოეულ თვისებას უნდა ჰქონდეს უნიკალური <cite>name</cite> (სტრიქონი), ა <cite>type</cite> (მაგ. enum), <cite>flags</cite> (ბიტების ველები) და <cite>size</cite>.</p>
<p>ის <cite>size</cite> თუ გვინდა, რომ ჩვენი თვისების მნიშვნელობა იყოს ცვლადი სიგრძის (მაგ., თუ ეს არის სტრიქონი ან ბაიტური ნაკადი), უნდა შენარჩუნდეს 0. ფიქსირებული სიგრძის თვისების მნიშვნელობის მონაცემთა ტიპებისთვის, როგორიცაა int, float და ა.შ., <cite>size</cite> ველის სწორ მნიშვნელობაზე გადატანა დაგეხმარებათ <strong>esp_local_ctrl</strong> ჩაწერის მოთხოვნებთან ერთად მიღებული არგუმენტების შიდა შემოწმების ჩასატარებლად.</p>
<p>ინტერპრეტაცია <cite>type</cite> და <cite>flags</cite> ველები მთლიანად აპლიკაციის მიხედვით არის დამოკიდებული, ამიტომ მათი გამოყენება შესაძლებელია როგორც ჩამოთვლები, ბიტველები ან თუნდაც მარტივი მთელი რიცხვები. ერთ-ერთი გზაა <cite>type</cite> მნიშვნელობები თვისებების კლასიფიკაციისთვის, ხოლო <cite>flags</cite> ქონების მახასიათებლების დასადგენად.</p>
<p>აქ მოცემულია თვისების მაგალითი, რომელიც დროის ნიშნულის ფუნქციას შეასრულებს. ვარაუდობენ, რომ აპლიკაცია განსაზღვრავს <cite>TYPE_TIMESTAMP</cite> და <cite>READONLY</cite>, რომლებიც გამოიყენება დასაყენებლად <cite>type</cite> და <cite>flags</cite> მინდვრები აქ.</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="cm">/* Create a timestamp property */</span>
<span class="n">esp_local_ctrl_prop_t</span> <span class="n">timestamp</span> <span class="o">=</span> <span class="p">{</span>
    <span class="p">.</span><span class="n">name</span>        <span class="o">=</span> <span class="s">"timestamp"</span><span class="p">,</span>
    <span class="p">.</span><span class="n">type</span>        <span class="o">=</span> <span class="n">TYPE_TIMESTAMP</span><span class="p">,</span>
    <span class="p">.</span><span class="n">size</span>        <span class="o">=</span> <span class="k">sizeof</span><span class="p">(</span><span class="kt">int32_t</span><span class="p">),</span>
    <span class="p">.</span><span class="n">flags</span>       <span class="o">=</span> <span class="n">READONLY</span><span class="p">,</span>
    <span class="p">.</span><span class="n">ctx</span>         <span class="o">=</span> <span class="n">func_get_time</span><span class="p">,</span>
    <span class="p">.</span><span class="n">ctx_free_fn</span> <span class="o">=</span> <span class="nb">NULL</span>
<span class="p">};</span>

<span class="cm">/* Now register the property */</span>
<span class="n">esp_local_ctrl_add_property</span><span class="p">(</span><span class="o">&amp;</span><span class="n">timestamp</span><span class="p">);</span>
</pre></div>
</div>
</div></blockquote>
<p>ასევე გაითვალისწინეთ, რომ არსებობს ctx ველი, რომელიც დაყენებულია გარკვეულ მორგებულ მნიშვნელობებზე მითითებისთვის. <cite>func_get_time()</cite>დროის ნიშნულის მისაღებად, ამის გამოყენება შესაძლებელია get / set თვისებების დამმუშავებლებში.</p>
<p>აქ მოცემულია მაგალითი <cite>get_prop_values()</cite> დამმუშავებელი, რომელიც გამოიყენება დროის ნიშნულის მისაღებად.</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">esp_err_t</span> <span class="nf">get_property_values</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">props_count</span><span class="p">,</span>
                                     <span class="k">const</span> <span class="n">esp_local_ctrl_prop_t</span> <span class="o">*</span><span class="n">props</span><span class="p">,</span>
                                     <span class="n">esp_local_ctrl_prop_val_t</span> <span class="o">*</span><span class="n">prop_values</span><span class="p">,</span>
                                     <span class="kt">void</span> <span class="o">*</span><span class="n">usr_ctx</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">props_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Reading %s"</span><span class="p">,</span> <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">type</span> <span class="o">==</span> <span class="n">TYPE_TIMESTAMP</span><span class="p">)</span> <span class="p">{</span>
            <span class="cm">/* Obtain the timer function from ctx */</span>
            <span class="kt">int32_t</span> <span class="p">(</span><span class="o">*</span><span class="n">func_get_time</span><span class="p">)(</span><span class="kt">void</span><span class="p">)</span> <span class="o">=</span> <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">ctx</span><span class="p">;</span>

            <span class="cm">/* Use static variable for saving the value.</span>
<span class="cm">             * This is essential because the value has to be</span>
<span class="cm">             * valid even after this function returns.</span>
<span class="cm">             * Alternative is to use dynamic allocation</span>
<span class="cm">             * and set the free_fn field */</span>
            <span class="k">static</span> <span class="kt">int32_t</span> <span class="n">ts</span> <span class="o">=</span> <span class="n">func_get_time</span><span class="p">();</span>
            <span class="n">prop_values</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">data</span> <span class="o">=</span> <span class="o">&amp;</span><span class="n">ts</span><span class="p">;</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ESP_OK</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>აქ მოცემულია მაგალითი <cite>set_prop_values()</cite> დამმუშავებელი. ყურადღება მიაქციეთ, თუ როგორ ვზღუდავთ ჩაწერას მხოლოდ წასაკითხი თვისებებით.</p>
<blockquote>
<div><div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">static</span> <span class="n">esp_err_t</span> <span class="nf">set_property_values</span><span class="p">(</span><span class="kt">size_t</span> <span class="n">props_count</span><span class="p">,</span>
                                     <span class="k">const</span> <span class="n">esp_local_ctrl_prop_t</span> <span class="o">*</span><span class="n">props</span><span class="p">,</span>
                                     <span class="k">const</span> <span class="n">esp_local_ctrl_prop_val_t</span> <span class="o">*</span><span class="n">prop_values</span><span class="p">,</span>
                                     <span class="kt">void</span> <span class="o">*</span><span class="n">usr_ctx</span><span class="p">)</span>
<span class="p">{</span>
    <span class="k">for</span> <span class="p">(</span><span class="kt">uint32_t</span> <span class="n">i</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="n">i</span> <span class="o">&lt;</span> <span class="n">props_count</span><span class="p">;</span> <span class="n">i</span><span class="o">++</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">if</span> <span class="p">(</span><span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">flags</span> <span class="o">&amp;</span> <span class="n">READONLY</span><span class="p">)</span> <span class="p">{</span>
            <span class="n">ESP_LOGE</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Cannot write to read-only property %s"</span><span class="p">,</span> <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>
            <span class="k">return</span> <span class="n">ESP_ERR_INVALID_ARG</span><span class="p">;</span>
        <span class="p">}</span> <span class="k">else</span> <span class="p">{</span>
            <span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"Setting %s"</span><span class="p">,</span> <span class="n">props</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">name</span><span class="p">);</span>

            <span class="cm">/* For keeping it simple, lets only log the incoming data */</span>
            <span class="n">ESP_LOG_BUFFER_HEX_LEVEL</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="n">prop_values</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">data</span><span class="p">,</span>
                                     <span class="n">prop_values</span><span class="p">[</span><span class="n">i</span><span class="p">].</span><span class="n">size</span><span class="p">,</span> <span class="n">ESP_LOG_INFO</span><span class="p">);</span>
        <span class="p">}</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="n">ESP_OK</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</div></blockquote>
<p>სრული მაგალითისთვის იხილეთ <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/protocols/esp_local_ctrl">პროტოკოლები/esp_local_ctrl</a></p>
</div>
<div class="section" id="client-side-implementation">
<h2>კლიენტის მხარის იმპლემენტაცია<a class="headerlink" href="esp_local_ctrl.html#client-side-implementation" title="Permalink to this headline">¶</a></h2>
<p>კლიენტის მხარის იმპლემენტაცია თავდაპირველად მოწყობილობასთან დაამყარებს პროტოკომის სესიას ტრანსპორტირების მხარდაჭერილი რეჟიმის გამოყენებით და შემდეგ გაგზავნის და მიიღებს პროტოკომის შეტყობინებებს, რომლებიც გაგებულია ამ მოწყობილობის მიერ. <strong>esp_local_ctrl</strong> სერვისი. სერვისი ამ შეტყობინებებს მოთხოვნებად გარდაქმნის და შემდეგ შესაბამის დამმუშავებლებს გამოიძახებს (set / get). შემდეგ, თითოეული დამმუშავებლისთვის გენერირებული პასუხი კვლავ შეფუთულია protobuf შეტყობინებაში და უკან გადაეცემა კლიენტს.</p>
<p>ქვემოთ იხილეთ პროტობუფის სხვადასხვა შეტყობინება, რომლებსაც ესმით <strong>esp_local_ctrl</strong> მომსახურება:</p>
<ol class="arabic simple">
<li><cite>get_prop_count</cite> ეს უბრალოდ უნდა აბრუნებდეს სერვისის მიერ მხარდაჭერილი თვისებების საერთო რაოდენობას.</li>
<li><cite>get_prop_values</cite> ეს იღებს ინდექსების მასივს და უნდა დააბრუნოს ინფორმაცია (სახელი, ტიპი, დროშები) და ამ ინდექსების შესაბამისი თვისებების მნიშვნელობები.</li>
<li><cite>set_prop_values</cite> ეს იღებს ინდექსების მასივს და ახალი მნიშვნელობების მასივს, რომლებიც გამოიყენება ინდექსების შესაბამისი თვისებების მნიშვნელობების დასაყენებლად.</li>
</ol>
<p>გაითვალისწინეთ, რომ ინდექსები შეიძლება იყოს ან არ იყოს იგივე თვისებისთვის, რამდენიმე სესიის განმავლობაში. ამიტომ, კლიენტმა მხოლოდ თვისებების სახელები უნდა გამოიყენოს მათი უნიკალურად იდენტიფიცირებისთვის. ამგვარად, ყოველ ჯერზე, როდესაც ახალი სესია იქმნება, კლიენტმა ჯერ უნდა გამოიძახოს <cite>get_prop_count</cite> და შემდეგ <cite>get_prop_values</cite>, შესაბამისად, ყველა თვისების შესაბამისობის დასასახელებლად ინდექსი იქმნება. ახლა, როდესაც გამოძახებთ <cite>set_prop_values</cite> თვისებების ნაკრებისთვის, მან ჯერ სახელები ინდექსებად უნდა გარდაქმნას შექმნილი შესაბამისობის გამოყენებით. როგორც ადრე აღვნიშნეთ, კლიენტმა ინდექსი სახელების შესაბამისობისთვის ყოველ ჯერზე უნდა განაახლოს, როდესაც ერთი და იგივე მოწყობილობით ახალი სესია დამყარდება.</p>
<p>სხვადასხვა პროტოკომის საბოლოო წერტილები, რომლებიც მოწოდებულია <strong>esp_local_ctrl</strong> ქვემოთ ჩამოთვლილია:</p>
<table border="1" class="colwidths-given docutils" id="id1">
<caption><span class="caption-text">ESP ლოკალური კონტროლის მიერ მოწოდებული საბოლოო წერტილები</span><a class="headerlink" href="esp_local_ctrl.html#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col width="12%"/>
<col width="29%"/>
<col width="59%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">საბოლოო წერტილის სახელი (BLE + GATT სერვერი)</th>
<th class="head">URI (HTTPS სერვერი + mDNS)</th>
<th class="head">აღწერა</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>esp_local_ctrl/ვერსია</td>
<td><a class="reference external" href="https:/">https:/</a>/&lt;mdns-hostname&gt; .local/esp_local_ctrl/version</td>
<td>ვერსიის სტრიქონის მოსაძიებლად გამოყენებული საბოლოო წერტილი</td>
</tr>
<tr class="row-odd"><td>esp_local_ctrl/control</td>
<td><a class="reference external" href="https:/">https:/</a>/&lt;mdns-hostname&gt; .local/esp_local_ctrl/control</td>
<td>საკონტროლო შეტყობინებების გასაგზავნად/მისაღებად გამოყენებული საბოლოო წერტილი</td>
</tr>
</tbody>
</table>
</div>
<div class="section" id="api-reference">
<h2>API მითითება<a class="headerlink" href="esp_local_ctrl.html#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="header-file">
<h3>სათაურის ფაილი<a class="headerlink" href="esp_local_ctrl.html#header-file" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_local_ctrl/include/esp_local_ctrl.h">esp_local_ctrl/include/esp_local_ctrl.h</a></li>
</ul>
</div>
<div class="section" id="functions">
<h3>ფუნქციები<a class="headerlink" href="esp_local_ctrl.html#functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_CPPv432esp_local_ctrl_get_transport_blev">
<span id="_CPPv332esp_local_ctrl_get_transport_blev"></span><span id="_CPPv232esp_local_ctrl_get_transport_blev"></span><span id="esp_local_ctrl_get_transport_ble__void"></span><span class="target" id="esp__local__ctrl_8h_1a6154e03a59e8d4aad6e3558da817db58"></span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv426esp_local_ctrl_transport_t" title="esp_local_ctrl_transport_t">esp_local_ctrl_transport_t</a> *<code class="descname">esp_local_ctrl_get_transport_ble</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv432esp_local_ctrl_get_transport_blev" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>BLE ტრანსპორტის რეჟიმის მიღების ფუნქცია. </p>
</dd></dl>
<dl class="function">
<dt id="_CPPv434esp_local_ctrl_get_transport_httpdv">
<span id="_CPPv334esp_local_ctrl_get_transport_httpdv"></span><span id="_CPPv234esp_local_ctrl_get_transport_httpdv"></span><span id="esp_local_ctrl_get_transport_httpd__void"></span><span class="target" id="esp__local__ctrl_8h_1a92b90b50f7326d061e08c7633f0fd53d"></span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv426esp_local_ctrl_transport_t" title="esp_local_ctrl_transport_t">esp_local_ctrl_transport_t</a> *<code class="descname">esp_local_ctrl_get_transport_httpd</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv434esp_local_ctrl_get_transport_httpdv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>HTTPD ტრანსპორტირების რეჟიმის მიღების ფუნქცია. </p>
</dd></dl>
<dl class="function">
<dt id="_CPPv420esp_local_ctrl_startPK23esp_local_ctrl_config_t">
<span id="_CPPv320esp_local_ctrl_startPK23esp_local_ctrl_config_t"></span><span id="_CPPv220esp_local_ctrl_startPK23esp_local_ctrl_config_t"></span><span id="esp_local_ctrl_start__esp_local_ctrl_config_tCP"></span><span class="target" id="esp__local__ctrl_8h_1a5da45432dd35dc2b4b89d2c55303195c"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_local_ctrl_start</code><span class="sig-paren">(</span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_config_t" title="esp_local_ctrl_config_t">esp_local_ctrl_config_t</a> *<em>კონფიგურაცია</em><span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv420esp_local_ctrl_startPK23esp_local_ctrl_config_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დაიწყეთ ადგილობრივი კონტროლის სერვისი. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_FAIL: შეცდომა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">config</span></code>კონფიგურაციის სტრუქტურის მითითება</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv419esp_local_ctrl_stopv">
<span id="_CPPv319esp_local_ctrl_stopv"></span><span id="_CPPv219esp_local_ctrl_stopv"></span><span id="esp_local_ctrl_stop__void"></span><span class="target" id="esp__local__ctrl_8h_1a93066a9712cf1d21ba002e171fdd4bb0"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_local_ctrl_stop</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv419esp_local_ctrl_stopv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ადგილობრივი კონტროლის სერვისის შეჩერება. </p>
</dd></dl>
<dl class="function">
<dt id="_CPPv427esp_local_ctrl_add_propertyPK21esp_local_ctrl_prop_t">
<span id="_CPPv327esp_local_ctrl_add_propertyPK21esp_local_ctrl_prop_t"></span><span id="_CPPv227esp_local_ctrl_add_propertyPK21esp_local_ctrl_prop_t"></span><span id="esp_local_ctrl_add_property__esp_local_ctrl_prop_tCP"></span><span class="target" id="esp__local__ctrl_8h_1a461e859ee281e95f7ea0e7a7561e7460"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_local_ctrl_add_property</code><span class="sig-paren">(</span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_prop_t" title="esp_local_ctrl_prop_t">esp_local_ctrl_prop_t</a> *<em>საყრდენი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv427esp_local_ctrl_add_propertyPK21esp_local_ctrl_prop_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დაამატეთ ახალი ქონება. </p>
<p>ეს ახალ თვისებას ამატებს და მისთვის შიდა რესურსებს გამოყოფს. დასამატებელი თვისებების საერთო რაოდენობა შეზღუდულია კონფიგურაციის ვარიანტით. <code class="docutils literal notranslate"><span class="pre">max_properties</span></code></p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_FAIL: შეცდომა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">prop</span></code>: თვისების აღწერილობის სტრუქტურა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv430esp_local_ctrl_remove_propertyPKc">
<span id="_CPPv330esp_local_ctrl_remove_propertyPKc"></span><span id="_CPPv230esp_local_ctrl_remove_propertyPKc"></span><span id="esp_local_ctrl_remove_property__cCP"></span><span class="target" id="esp__local__ctrl_8h_1a3cb044f5af0717190b95c9e66cf52ab4"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_local_ctrl_remove_property</code><span class="sig-paren">(</span><em class="property">კონსტ</em> char *<em>სახელი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv430esp_local_ctrl_remove_propertyPKc" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების წაშლა. </p>
<p>ეს პოულობს თვისებას სახელით და ათავისუფლებს მასთან დაკავშირებულ შიდა რესურსებს.</p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NOT_FOUND: შეცდომა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">name</span></code>: წასაშლელი თვისების სახელი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv427esp_local_ctrl_get_propertyPKc">
<span id="_CPPv327esp_local_ctrl_get_propertyPKc"></span><span id="_CPPv227esp_local_ctrl_get_propertyPKc"></span><span id="esp_local_ctrl_get_property__cCP"></span><span class="target" id="esp__local__ctrl_8h_1a2064fe341436bc40254707fa95244d8b"></span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_prop_t" title="esp_local_ctrl_prop_t">esp_local_ctrl_prop_t</a> *<code class="descname">esp_local_ctrl_get_property</code><span class="sig-paren">(</span><em class="property">კონსტ</em> char *<em>სახელი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv427esp_local_ctrl_get_propertyPKc" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მიიღეთ ქონების აღწერილობის სტრუქტურა სახელის მიხედვით. </p>
<p>ეს API შეიძლება გამოყენებულ იქნას თვისების კონტექსტური სტრუქტურის მისაღებად <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_prop_t</span></code> როდესაც მისი სახელი ცნობილია</p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>თვისების მაჩვენებელი</li>
<li>NULL თუ ვერ მოიძებნა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">name</span></code>: საპოვნელი ქონების სახელი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv426esp_local_ctrl_set_handlerPKc23protocomm_req_handler_tPv">
<span id="_CPPv326esp_local_ctrl_set_handlerPKc23protocomm_req_handler_tPv"></span><span id="_CPPv226esp_local_ctrl_set_handlerPKc23protocomm_req_handler_tPv"></span><span id="esp_local_ctrl_set_handler__cCP.protocomm_req_handler_t.voidP"></span><span class="target" id="esp__local__ctrl_8h_1aabdbaff4a1b9d413c023d062f3af9006"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_local_ctrl_set_handler</code><span class="sig-paren">(</span><em class="property">კონსტ</em> char *<em>ep_name</em>, <a class="reference internal" href="../provisioning/protocomm.html#_CPPv423protocomm_req_handler_t" title="protocomm_req_handler_t">protocomm_req_handler_t</a> <em>დამმუშავებელი</em>, void *<em>მომხმარებლის_ctx</em><span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv426esp_local_ctrl_set_handlerPKc23protocomm_req_handler_tPv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დაარეგისტრირეთ protocomm დამმუშავებელი მორგებული საბოლოო წერტილისთვის. </p>
<p>ეს API შეიძლება გამოიძახოს აპლიკაციამ საბოლოო წერტილისთვის protocomm დამმუშავებლის რეგისტრაციისთვის, ლოკალური კონტროლის სერვისის გაშვების შემდეგ.</p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>In case of BLE transport the names and uuids of all custom endpoints must be provided beforehand as a part of the <code class="docutils literal notranslate"><span class="pre">protocomm_ble_config_t</span></code> structure set in <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_config_t</span></code>, and passed to <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_start()</span></code>.</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_FAIL: შეცდომა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">ep_name</span></code>: საბოლოო წერტილის სახელი </li>
<li><code class="docutils literal notranslate"><span class="pre">handler</span></code>საბოლოო წერტილის დამმუშავებლის ფუნქცია </li>
<li><code class="docutils literal notranslate"><span class="pre">user_ctx</span></code>მომხმარებლის მონაცემები</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
</div>
<div class="section" id="unions">
<h3>პროფკავშირები<a class="headerlink" href="esp_local_ctrl.html#unions" title="Permalink to this headline">¶</a></h3>
<dl class="type">
<dt id="_CPPv433esp_local_ctrl_transport_config_t">
<span id="_CPPv333esp_local_ctrl_transport_config_t"></span><span id="_CPPv233esp_local_ctrl_transport_config_t"></span><span id="esp_local_ctrl_transport_config_t"></span><span class="target" id="unionesp__local__ctrl__transport__config__t"></span><em class="property">კავშირი </em><code class="descname">esp_local_ctrl_transport_config_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv433esp_local_ctrl_transport_config_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><em>#ჩართვა&lt;esp_local_ctrl.h&gt;</em><p>ტრანსპორტირების რეჟიმის (BLE / HTTPD) კონფიგურაცია. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N33esp_local_ctrl_transport_config_t3bleE">
<span id="_CPPv3N33esp_local_ctrl_transport_config_t3bleE"></span><span id="_CPPv2N33esp_local_ctrl_transport_config_t3bleE"></span><span id="esp_local_ctrl_transport_config_t::ble__esp_local_ctrl_transport_config_ble_tP"></span><span class="target" id="unionesp__local__ctrl__transport__config__t_1aa508d02943cd941d7636ebe922d14a29"></span><a class="reference internal" href="esp_local_ctrl.html#_CPPv437esp_local_ctrl_transport_config_ble_t" title="esp_local_ctrl_transport_config_ble_t">esp_local_ctrl_transport_config_ble_t</a> *<code class="descname">ble</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N33esp_local_ctrl_transport_config_t3bleE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ეს იგივეა, რაც <code class="docutils literal notranslate"><span class="pre">protocomm_ble_config_t</span></code>. იხილეთ <code class="docutils literal notranslate"><span class="pre">protocomm_ble.h</span></code> ხელმისაწვდომი კონფიგურაციის პარამეტრებისთვის. </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N33esp_local_ctrl_transport_config_t5httpdE">
<span id="_CPPv3N33esp_local_ctrl_transport_config_t5httpdE"></span><span id="_CPPv2N33esp_local_ctrl_transport_config_t5httpdE"></span><span id="esp_local_ctrl_transport_config_t::httpd__esp_local_ctrl_transport_config_httpd_tP"></span><span class="target" id="unionesp__local__ctrl__transport__config__t_1a05be86115e24344d5863765d1b3846bb"></span><a class="reference internal" href="esp_local_ctrl.html#_CPPv439esp_local_ctrl_transport_config_httpd_t" title="esp_local_ctrl_transport_config_httpd_t">esp_local_ctrl_transport_config_httpd_t</a> *<code class="descname">httpd</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N33esp_local_ctrl_transport_config_t5httpdE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ეს იგივეა, რაც <code class="docutils literal notranslate"><span class="pre">httpd_ssl_config_t</span></code>. იხილეთ <code class="docutils literal notranslate"><span class="pre">esp_https_server.h</span></code> ხელმისაწვდომი კონფიგურაციის პარამეტრებისთვის. </p>
</dd></dl>
</div>
</dd></dl>
</div>
<div class="section" id="structures">
<h3>სტრუქტურები<a class="headerlink" href="esp_local_ctrl.html#structures" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_CPPv419esp_local_ctrl_prop">
<span id="_CPPv319esp_local_ctrl_prop"></span><span id="_CPPv219esp_local_ctrl_prop"></span><span id="esp_local_ctrl_prop"></span><span class="target" id="structesp__local__ctrl__prop"></span><em class="property">სტრუქტურა </em><code class="descname">esp_local_ctrl_prop</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv419esp_local_ctrl_prop" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>თვისების აღწერილობის მონაცემთა სტრუქტურა, რომელიც უნდა შეივსოს და გადაეცეს <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_add_property()</span></code> ფუნქცია. </p>
<p>მას შემდეგ, რაც თვისება დაემატება, მისი სტრუქტურა ხელმისაწვდომია მხოლოდ წაკითხვის უფლებით. <code class="docutils literal notranslate"><span class="pre">get_prop_values()</span></code> და <code class="docutils literal notranslate"><span class="pre">set_prop_values()</span></code> დამმუშავებლები. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop4nameE">
<span id="_CPPv3N19esp_local_ctrl_prop4nameE"></span><span id="_CPPv2N19esp_local_ctrl_prop4nameE"></span><span id="esp_local_ctrl_prop::name__cP"></span><span class="target" id="structesp__local__ctrl__prop_1a593afc83ba4dd13f140af5665fd51a71"></span>char *<code class="descname">name</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop4nameE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების უნიკალური სახელი </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop4typeE">
<span id="_CPPv3N19esp_local_ctrl_prop4typeE"></span><span id="_CPPv2N19esp_local_ctrl_prop4typeE"></span><span id="esp_local_ctrl_prop::type__uint32_t"></span><span class="target" id="structesp__local__ctrl__prop_1af45189667e728b8df77f849dc775b9c7"></span>uint32_t <code class="descname">type</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop4typeE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>თვისების ტიპი. ეს შეიძლება დაყენდეს აპლიკაციის მიერ განსაზღვრულ ჩამოთვლებზე </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop4sizeE">
<span id="_CPPv3N19esp_local_ctrl_prop4sizeE"></span><span id="_CPPv2N19esp_local_ctrl_prop4sizeE"></span><span id="esp_local_ctrl_prop::size__s"></span><span class="target" id="structesp__local__ctrl__prop_1a3b0123caa857f8ec723d76e7944e9387"></span>size_t <code class="descname">size</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop4sizeE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების ღირებულების ზომა, რომელიც:<ul class="simple">
<li>თუ ნული, თვისებას შეიძლება ჰქონდეს ცვლადი ზომის მნიშვნელობები</li>
<li>თუ არ არის ნულოვანი, თვისებას შეიძლება ჰქონდეს მხოლოდ ფიქსირებული ზომის მნიშვნელობები, ამიტომ, ასეთი თვისების მნიშვნელობის დაყენებისას, შემოწმება ხორციელდება შიდა დონეზე esp_local_ctrl-ის მიერ. </li>
</ul>
</p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop5flagsE">
<span id="_CPPv3N19esp_local_ctrl_prop5flagsE"></span><span id="_CPPv2N19esp_local_ctrl_prop5flagsE"></span><span id="esp_local_ctrl_prop::flags__uint32_t"></span><span class="target" id="structesp__local__ctrl__prop_1af6c3aea6879d49219bd1cf7c25342ff7"></span>uint32_t <code class="descname">flags</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop5flagsE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ამ თვისებისთვის დაყენებულია დროშები. ეს შეიძლება იყოს bit ველი. დროშა შეიძლება მიუთითებდეს თვისების ქცევაზე, მაგ. მხოლოდ წაკითხვა / მუდმივი </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop3ctxE">
<span id="_CPPv3N19esp_local_ctrl_prop3ctxE"></span><span id="_CPPv2N19esp_local_ctrl_prop3ctxE"></span><span id="esp_local_ctrl_prop::ctx__voidP"></span><span class="target" id="structesp__local__ctrl__prop_1a10871b43e8135e1f7ca2a4f8b18f938e"></span>void *<code class="descname">ctx</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop3ctxE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ამ თვისებისთვის შესაბამისი კონტექსტური მონაცემების მითითება. ეს ხელმისაწვდომი იქნება შიგნით გამოსაყენებლად. <code class="docutils literal notranslate"><span class="pre">get_prop_values</span></code> და <code class="docutils literal notranslate"><span class="pre">set_prop_values</span></code> დამმუშავებლები, როგორც ამ თვისების სტრუქტურის ნაწილი. დაყენების შემთხვევაში, ეს ძალაშია თვისების მთელი სიცოცხლის განმავლობაში, სანამ თვისება არ წაიშლება ან esp_local_ctrl სერვისი არ შეჩერდება. </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N19esp_local_ctrl_prop11ctx_free_fnE">
<span id="_CPPv3N19esp_local_ctrl_prop11ctx_free_fnE"></span><span id="_CPPv2N19esp_local_ctrl_prop11ctx_free_fnE"></span><span class="target" id="structesp__local__ctrl__prop_1abed1f47eb8b3e5cfd600dc1ec903364f"></span>void (*<code class="descname">ctx_free_fn</code>)<span class="sig-paren">(</span>void *ctx<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N19esp_local_ctrl_prop11ctx_free_fnE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ფუნქცია, რომელსაც esp_local_ctrl იყენებს თვისების კონტექსტის შინაგანად გასათავისუფლებლად, როდესაც <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_remove_property()</span></code> ან <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_stop()</span></code> ეწოდება. </p>
</dd></dl>
</div>
</dd></dl>
<dl class="class">
<dt id="_CPPv423esp_local_ctrl_prop_val">
<span id="_CPPv323esp_local_ctrl_prop_val"></span><span id="_CPPv223esp_local_ctrl_prop_val"></span><span id="esp_local_ctrl_prop_val"></span><span class="target" id="structesp__local__ctrl__prop__val"></span><em class="property">სტრუქტურა </em><code class="descname">esp_local_ctrl_prop_val</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_prop_val" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების ღირებულების მონაცემთა სტრუქტურა. ეს გადაეცემა <code class="docutils literal notranslate"><span class="pre">get_prop_values()</span></code> და <code class="docutils literal notranslate"><span class="pre">set_prop_values()</span></code> დამმუშავებლები ქონების ამჟამინდელი ღირებულების მოძიების ან დადგენის მიზნით. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_prop_val4dataE">
<span id="_CPPv3N23esp_local_ctrl_prop_val4dataE"></span><span id="_CPPv2N23esp_local_ctrl_prop_val4dataE"></span><span id="esp_local_ctrl_prop_val::data__voidP"></span><span class="target" id="structesp__local__ctrl__prop__val_1a9973594582305bdaff3f6f4821eaf2e2"></span>void *<code class="descname">data</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_prop_val4dataE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მაჩვენებელი მეხსიერებისკენ, რომელიც შეიცავს თვისების მნიშვნელობას </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_prop_val4sizeE">
<span id="_CPPv3N23esp_local_ctrl_prop_val4sizeE"></span><span id="_CPPv2N23esp_local_ctrl_prop_val4sizeE"></span><span id="esp_local_ctrl_prop_val::size__s"></span><span class="target" id="structesp__local__ctrl__prop__val_1a33fcac26a78881ae41d29cef5af10660"></span>size_t <code class="descname">size</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_prop_val4sizeE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების ღირებულების ზომა </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_prop_val7free_fnE">
<span id="_CPPv3N23esp_local_ctrl_prop_val7free_fnE"></span><span id="_CPPv2N23esp_local_ctrl_prop_val7free_fnE"></span><span class="target" id="structesp__local__ctrl__prop__val_1a7012e59a9ff5763f7f64c64efccf94df"></span>void (*<code class="descname">free_fn</code>)<span class="sig-paren">(</span>void *data<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_prop_val7free_fnE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ეს შეიძლება დაყენდეს აპლიკაციის მიერ <code class="docutils literal notranslate"><span class="pre">get_prop_values()</span></code> დამმუშავებელს ვუთხრა <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl</span></code> ამ ფუნქციის გამოძახება ზემოთ მოცემულ მონაცემთა მაჩვენებელზე, მისი რესურსების გასათავისუფლებლად გაგზავნის შემდეგ <code class="docutils literal notranslate"><span class="pre">get_prop_values</span></code> პასუხი. </p>
</dd></dl>
</div>
</dd></dl>
<dl class="class">
<dt id="_CPPv423esp_local_ctrl_handlers">
<span id="_CPPv323esp_local_ctrl_handlers"></span><span id="_CPPv223esp_local_ctrl_handlers"></span><span id="esp_local_ctrl_handlers"></span><span class="target" id="structesp__local__ctrl__handlers"></span><em class="property">სტრუქტურა </em><code class="descname">esp_local_ctrl_handlers</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_handlers" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დამმუშავებლები ლოკალური მართვის ბრძანებებისთვის, თვისებების მისაღებად და დასაყენებლად. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_handlers15get_prop_valuesE">
<span id="_CPPv3N23esp_local_ctrl_handlers15get_prop_valuesE"></span><span id="_CPPv2N23esp_local_ctrl_handlers15get_prop_valuesE"></span><span class="target" id="structesp__local__ctrl__handlers_1a29b439f71a094968b63aa1edaa96ba67"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> (*<code class="descname">get_prop_values</code>)<span class="sig-paren">(</span>size_t props_count, <em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_prop_t" title="esp_local_ctrl_prop_t">esp_local_ctrl_prop_t</a> props[], <a class="reference internal" href="esp_local_ctrl.html#_CPPv425esp_local_ctrl_prop_val_t" title="esp_local_ctrl_prop_val_t">esp_local_ctrl_prop_val_t</a> prop_values[], void *usr_ctx<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_handlers15get_prop_valuesE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>თვისებების მიმდინარე მნიშვნელობების მისაღებად უნდა განხორციელდეს დამმუშავებლის ფუნქცია. </p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>If any of the properties have fixed sizes, the size field of corresponding element in <code class="docutils literal notranslate"><span class="pre">prop_values</span></code> need to be set</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd>Returning different error codes will convey the corresponding protocol level errors to the client :<ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_INVALID_ARG: არასწორი არგუმენტი</li>
<li>ESP_ERR_INVALID_STATE: არასწორი პროტო</li>
<li>ყველა სხვა შეცდომის კოდი: InternalError </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">props_count</span></code>: props მასივში ელემენტების ჯამი </li>
<li><code class="docutils literal notranslate"><span class="pre">props</span></code>თვისებების მასივი, რომელთა მიმდინარე მნიშვნელობებიც კლიენტის მიერ არის მოთხოვნილი. </li>
<li><code class="docutils literal notranslate"><span class="pre">prop_values</span></code>ცარიელი თვისებების მნიშვნელობების მასივი, რომლის ელემენტებიც უნდა შეივსოს props არგუმენტით მითითებული ამ თვისებების მიმდინარე მნიშვნელობებით. </li>
<li><code class="docutils literal notranslate"><span class="pre">usr_ctx</span></code>ეს უზრუნველყოფს ღირებულებას <code class="docutils literal notranslate"><span class="pre">usr_ctx</span></code> სფერო <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_handlers_t</span></code> სტრუქტურა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_handlers15set_prop_valuesE">
<span id="_CPPv3N23esp_local_ctrl_handlers15set_prop_valuesE"></span><span id="_CPPv2N23esp_local_ctrl_handlers15set_prop_valuesE"></span><span class="target" id="structesp__local__ctrl__handlers_1ad9335213ca09b50fcbaf442f937b2604"></span><a class="reference internal" href="../system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> (*<code class="descname">set_prop_values</code>)<span class="sig-paren">(</span>size_t props_count, <em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_prop_t" title="esp_local_ctrl_prop_t">esp_local_ctrl_prop_t</a> props[], <em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv425esp_local_ctrl_prop_val_t" title="esp_local_ctrl_prop_val_t">esp_local_ctrl_prop_val_t</a> prop_values[], void *usr_ctx<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_handlers15set_prop_valuesE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>თვისებების მნიშვნელობების შესაცვლელად განსახორციელებელი დამმუშავებლის ფუნქცია. </p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>If any of the properties have variable sizes, the size field of the corresponding element in <code class="docutils literal notranslate"><span class="pre">prop_values</span></code> must be checked explicitly before making any assumptions on the size.</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd>Returning different error codes will convey the corresponding protocol level errors to the client :<ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_INVALID_ARG: არასწორი არგუმენტი</li>
<li>ESP_ERR_INVALID_STATE: არასწორი პროტო</li>
<li>ყველა სხვა შეცდომის კოდი: InternalError </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">props_count</span></code>: props მასივში ელემენტების ჯამი </li>
<li><code class="docutils literal notranslate"><span class="pre">props</span></code>თვისებების მასივი, მნიშვნელობები, რომელთა შეცვლასაც კლიენტი ითხოვს </li>
<li><code class="docutils literal notranslate"><span class="pre">prop_values</span></code>: თვისებების მნიშვნელობების მასივი, რომელთა ელემენტებიც უნდა იქნას გამოყენებული props არგუმენტით მითითებული თვისებების განახლებისთვის. </li>
<li><code class="docutils literal notranslate"><span class="pre">usr_ctx</span></code>ეს უზრუნველყოფს ღირებულებას <code class="docutils literal notranslate"><span class="pre">usr_ctx</span></code> სფერო <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_handlers_t</span></code> სტრუქტურა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_handlers7usr_ctxE">
<span id="_CPPv3N23esp_local_ctrl_handlers7usr_ctxE"></span><span id="_CPPv2N23esp_local_ctrl_handlers7usr_ctxE"></span><span id="esp_local_ctrl_handlers::usr_ctx__voidP"></span><span class="target" id="structesp__local__ctrl__handlers_1a24f9e599a02f0428f39ddb90c69df805"></span>void *<code class="descname">usr_ctx</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_handlers7usr_ctxE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>კონტექსტური მაჩვენებელი, რომელიც გადაეცემა ზემოთ მოცემულ დამმუშავებელ ფუნქციებს გამოძახებისას. ეს განსხვავდება თვისების დონის კონტექსტისგან, რადგან ის ძალაშია მთელი სიცოცხლის განმავლობაში. <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl</span></code> სერვისი და თავისუფლდება მხოლოდ სერვისის შეწყვეტის შემდეგ. </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N23esp_local_ctrl_handlers15usr_ctx_free_fnE">
<span id="_CPPv3N23esp_local_ctrl_handlers15usr_ctx_free_fnE"></span><span id="_CPPv2N23esp_local_ctrl_handlers15usr_ctx_free_fnE"></span><span class="target" id="structesp__local__ctrl__handlers_1aa4fed470f66cd5e17e6c3f3654c5ddb3"></span>void (*<code class="descname">usr_ctx_free_fn</code>)<span class="sig-paren">(</span>void *usr_ctx<span class="sig-paren">)</span><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N23esp_local_ctrl_handlers15usr_ctx_free_fnE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ფუნქციის მაჩვენებელი, რომელიც შინაგანად გამოიძახება <code class="docutils literal notranslate"><span class="pre">usr_ctx</span></code> კონტექსტური რესურსების გასათავისუფლებლად, როდესაც <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_stop()</span></code> ეწოდება. </p>
</dd></dl>
</div>
</dd></dl>
<dl class="class">
<dt id="_CPPv421esp_local_ctrl_config">
<span id="_CPPv321esp_local_ctrl_config"></span><span id="_CPPv221esp_local_ctrl_config"></span><span id="esp_local_ctrl_config"></span><span class="target" id="structesp__local__ctrl__config"></span><em class="property">სტრუქტურა </em><code class="descname">esp_local_ctrl_config</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_config" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>კონფიგურაციის სტრუქტურა, რომელზეც უნდა გადავიდეს <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_start()</span></code> </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N21esp_local_ctrl_config9transportE">
<span id="_CPPv3N21esp_local_ctrl_config9transportE"></span><span id="_CPPv2N21esp_local_ctrl_config9transportE"></span><span id="esp_local_ctrl_config::transport__esp_local_ctrl_transport_tCP"></span><span class="target" id="structesp__local__ctrl__config_1ac867e91fd18e1dc13e30ef10fabeadb0"></span><em class="property">კონსტ</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv426esp_local_ctrl_transport_t" title="esp_local_ctrl_transport_t">esp_local_ctrl_transport_t</a> *<code class="descname">transport</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N21esp_local_ctrl_config9transportE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ტრანსპორტირების ფენა, რომლის მეშვეობითაც მომსახურება იქნება უზრუნველყოფილი </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_local_ctrl_config16transport_configE">
<span id="_CPPv3N21esp_local_ctrl_config16transport_configE"></span><span id="_CPPv2N21esp_local_ctrl_config16transport_configE"></span><span id="esp_local_ctrl_config::transport_config__esp_local_ctrl_transport_config_t"></span><span class="target" id="structesp__local__ctrl__config_1ae470cbf58995a5ffdf0c8fb84a7d0b97"></span><a class="reference internal" href="esp_local_ctrl.html#_CPPv433esp_local_ctrl_transport_config_t" title="esp_local_ctrl_transport_config_t">esp_local_ctrl_transport_config_t</a> <code class="descname">transport_config</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N21esp_local_ctrl_config16transport_configE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ტრანსპორტირების ფენა, რომლის მეშვეობითაც მომსახურება იქნება უზრუნველყოფილი </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_local_ctrl_config8handlersE">
<span id="_CPPv3N21esp_local_ctrl_config8handlersE"></span><span id="_CPPv2N21esp_local_ctrl_config8handlersE"></span><span id="esp_local_ctrl_config::handlers__esp_local_ctrl_handlers_t"></span><span class="target" id="structesp__local__ctrl__config_1ae027e1a9e99bc953ad4d42c230f8310a"></span><a class="reference internal" href="esp_local_ctrl.html#_CPPv425esp_local_ctrl_handlers_t" title="esp_local_ctrl_handlers_t">esp_local_ctrl_handlers_t</a> <code class="descname">handlers</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N21esp_local_ctrl_config8handlersE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დაარეგისტრირეთ დამმუშავებლები თვისებებზე get/set მოთხოვნებზე პასუხის გასაცემად </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_local_ctrl_config14max_propertiesE">
<span id="_CPPv3N21esp_local_ctrl_config14max_propertiesE"></span><span id="_CPPv2N21esp_local_ctrl_config14max_propertiesE"></span><span id="esp_local_ctrl_config::max_properties__s"></span><span class="target" id="structesp__local__ctrl__config_1acd2bbbf4a6094d79133b48ad3a8dee06"></span>size_t <code class="descname">max_properties</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv4N21esp_local_ctrl_config14max_propertiesE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ეს ზღუდავს ერთდროულად ხელმისაწვდომი თვისებების რაოდენობას </p>
</dd></dl>
</div>
</dd></dl>
</div>
<div class="section" id="macros">
<h3>მაკროები<a class="headerlink" href="esp_local_ctrl.html#macros" title="Permalink to this headline">¶</a></h3>
<dl class="macro">
<dt id="c.ESP_LOCAL_CTRL_TRANSPORT_BLE">
<span class="target" id="esp__local__ctrl_8h_1ae616a8fee40d0ddbf1999d71de4183e1"></span><code class="descname">ESP_LOCAL_CTRL_TRANSPORT_BLE</code><a class="headerlink" href="esp_local_ctrl.html#c.ESP_LOCAL_CTRL_TRANSPORT_BLE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="macro">
<dt id="c.ESP_LOCAL_CTRL_TRANSPORT_HTTPD">
<span class="target" id="esp__local__ctrl_8h_1aae943479a3a093cd2072742dce703a02"></span><code class="descname">ESP_LOCAL_CTRL_TRANSPORT_HTTPD</code><a class="headerlink" href="esp_local_ctrl.html#c.ESP_LOCAL_CTRL_TRANSPORT_HTTPD" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
</div>
<div class="section" id="type-definitions">
<h3>ტიპის განმარტებები<a class="headerlink" href="esp_local_ctrl.html#type-definitions" title="Permalink to this headline">¶</a></h3>
<dl class="type">
<dt id="_CPPv421esp_local_ctrl_prop_t">
<span id="_CPPv321esp_local_ctrl_prop_t"></span><span id="_CPPv221esp_local_ctrl_prop_t"></span><span id="esp_local_ctrl_prop_t"></span><span class="target" id="esp__local__ctrl_8h_1afd01e6a63dcbee3a5c18e2e61bf5f34c"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv419esp_local_ctrl_prop" title="esp_local_ctrl_prop">esp_local_ctrl_prop</a> <code class="descname">esp_local_ctrl_prop_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_prop_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>თვისების აღწერილობის მონაცემთა სტრუქტურა, რომელიც უნდა შეივსოს და გადაეცეს <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_add_property()</span></code> ფუნქცია. </p>
<p>მას შემდეგ, რაც თვისება დაემატება, მისი სტრუქტურა ხელმისაწვდომია მხოლოდ წაკითხვის უფლებით. <code class="docutils literal notranslate"><span class="pre">get_prop_values()</span></code> და <code class="docutils literal notranslate"><span class="pre">set_prop_values()</span></code> დამმუშავებლები. </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv425esp_local_ctrl_prop_val_t">
<span id="_CPPv325esp_local_ctrl_prop_val_t"></span><span id="_CPPv225esp_local_ctrl_prop_val_t"></span><span id="esp_local_ctrl_prop_val_t"></span><span class="target" id="esp__local__ctrl_8h_1a5b4cc4ac93e606744e182405f7205ae4"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_prop_val" title="esp_local_ctrl_prop_val">esp_local_ctrl_prop_val</a> <code class="descname">esp_local_ctrl_prop_val_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv425esp_local_ctrl_prop_val_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ქონების ღირებულების მონაცემთა სტრუქტურა. ეს გადაეცემა <code class="docutils literal notranslate"><span class="pre">get_prop_values()</span></code> და <code class="docutils literal notranslate"><span class="pre">set_prop_values()</span></code> დამმუშავებლები ქონების ამჟამინდელი ღირებულების მოძიების ან დადგენის მიზნით. </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv425esp_local_ctrl_handlers_t">
<span id="_CPPv325esp_local_ctrl_handlers_t"></span><span id="_CPPv225esp_local_ctrl_handlers_t"></span><span id="esp_local_ctrl_handlers_t"></span><span class="target" id="esp__local__ctrl_8h_1a59910cc1189c15010c0af763c7cb4083"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_handlers" title="esp_local_ctrl_handlers">esp_local_ctrl_handlers</a> <code class="descname">esp_local_ctrl_handlers_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv425esp_local_ctrl_handlers_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დამმუშავებლები ლოკალური მართვის ბრძანებებისთვის, თვისებების მისაღებად და დასაყენებლად. </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv426esp_local_ctrl_transport_t">
<span id="_CPPv326esp_local_ctrl_transport_t"></span><span id="_CPPv226esp_local_ctrl_transport_t"></span><span id="esp_local_ctrl_transport_t"></span><span class="target" id="esp__local__ctrl_8h_1a4d8f60a6abee20e32ec59db390563329"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> esp_local_ctrl_transport <code class="descname">esp_local_ctrl_transport_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv426esp_local_ctrl_transport_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ტრანსპორტირების რეჟიმი (BLE / HTTPD), რომლის მეშვეობითაც მომსახურება უზრუნველყოფილი იქნება. </p>
<p>ეს არის კერძო სტრუქტურის წინასწარი დეკლარაცია, რომელიც შიდა პროგრამით ხორციელდება <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl</span></code>. </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv437esp_local_ctrl_transport_config_ble_t">
<span id="_CPPv337esp_local_ctrl_transport_config_ble_t"></span><span id="_CPPv237esp_local_ctrl_transport_config_ble_t"></span><span id="esp_local_ctrl_transport_config_ble_t"></span><span class="target" id="esp__local__ctrl_8h_1a9f5467d013afbc9ac84b2d3bf524b727"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="../provisioning/protocomm.html#_CPPv420protocomm_ble_config" title="protocomm_ble_config">protocomm_ble_config</a> <code class="descname">esp_local_ctrl_transport_config_ble_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv437esp_local_ctrl_transport_config_ble_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ტრანსპორტირების რეჟიმის BLE კონფიგურაცია. </p>
<p>ეს წინასწარი განცხადებაა <code class="docutils literal notranslate"><span class="pre">protocomm_ble_config_t</span></code>ამის გამოსაყენებლად, აპლიკაციამ უნდა დააყენოს CONFIG_BT_BLUEDROID_ENABLED და ჩართოს <code class="docutils literal notranslate"><span class="pre">protocomm_ble.h</span></code>. </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv439esp_local_ctrl_transport_config_httpd_t">
<span id="_CPPv339esp_local_ctrl_transport_config_httpd_t"></span><span id="_CPPv239esp_local_ctrl_transport_config_httpd_t"></span><span id="esp_local_ctrl_transport_config_httpd_t"></span><span class="target" id="esp__local__ctrl_8h_1af2b1d409e6217a1f196ffdc61c291dfe"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="esp_https_server.html#_CPPv416httpd_ssl_config" title="httpd_ssl_config">httpd_ssl_config</a> <code class="descname">esp_local_ctrl_transport_config_httpd_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv439esp_local_ctrl_transport_config_httpd_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>HTTPD ტრანსპორტირების რეჟიმის კონფიგურაცია. </p>
<p>ეს წინასწარი განცხადებაა <code class="docutils literal notranslate"><span class="pre">httpd_ssl_config_t</span></code>ამის გამოსაყენებლად, აპლიკაციამ უნდა დააყენოს CONFIG_ESP_HTTPS_SERVER_ENABLE და ჩართოს <code class="docutils literal notranslate"><span class="pre">esp_https_server.h</span></code> </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv423esp_local_ctrl_config_t">
<span id="_CPPv323esp_local_ctrl_config_t"></span><span id="_CPPv223esp_local_ctrl_config_t"></span><span id="esp_local_ctrl_config_t"></span><span class="target" id="esp__local__ctrl_8h_1a05a4d618c666ae948620f9e1141855ce"></span><em class="property">typedef </em><em class="property">სტრუქტურა</em> <a class="reference internal" href="esp_local_ctrl.html#_CPPv421esp_local_ctrl_config" title="esp_local_ctrl_config">esp_local_ctrl_config</a> <code class="descname">esp_local_ctrl_config_t</code><a class="headerlink" href="esp_local_ctrl.html#_CPPv423esp_local_ctrl_config_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>კონფიგურაციის სტრუქტურა, რომელზეც უნდა გადავიდეს <code class="docutils literal notranslate"><span class="pre">esp_local_ctrl_start()</span></code> </p>
</dd></dl>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="mdns.html" rel="next" title="mDNS Service">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="icmp_echo.html" rel="prev" title="ICMP Echo"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>