
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>TCP/IP ადაპტერის მიგრაციის სახელმძღვანელო — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../../_static/js/theme.js" type="text/javascript"></script>
<link href="../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="esp_netif_driver.html" rel="next" title="ESP-NETIF Custom I/O Driver"/>
<link href="esp_netif.html" rel="prev" title="ESP-NETIF"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/network/tcpip_adapter_migration.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-reference/network/tcpip_adapter_migration"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-reference/network/tcpip_adapter_migration.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API მითითება</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">ქსელური მუშაობა</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#wi-fi">Wi-Fi</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#ethernet">Ethernet</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#ip-network-layer">IP ქსელის ფენა</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="esp_netif.html">ESP-NETIF</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="tcpip_adapter_migration.html#">TCP/IP ადაპტერის მიგრაციის სახელმძღვანელო</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_netif_driver.html">ESP-NETIF-ის მორგებული შემავალი/გამომავალი დრაივერი</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="index.html#application-layer">აპლიკაციის ფენა</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">პერიფერიული მოწყობილობები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">პროტოკოლები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">უზრუნველყოფა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">შენახვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../system/index.html">სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">კონფიგურაციის პარამეტრები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">შეცდომის კოდების მითითება</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API სახელმძღვანელოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../../index.html">დოკუმენტები</a> »</li>
<li><a href="../index.html">API მითითება</a> »</li>
<li><a href="index.html">ქსელური კომუნიკაციის API 8 წმ</a> »</li>
<li>TCP/IP ადაპტერის მიგრაციის სახელმძღვანელო</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-reference/network/tcpip_adapter_migration.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="tcp-ip-adapter-migration-guide">
<h1>TCP/IP ადაპტერის მიგრაციის სახელმძღვანელო<a class="headerlink" href="tcpip_adapter_migration.html#tcp-ip-adapter-migration-guide" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/api-reference/network/tcpip_adapter_migration.html">[中文]</a></p>
<p>TCP/IP ადაპტერი არის ქსელის ინტერფეისის აბსტრაქციის კომპონენტი რომელიც გამოიყენებოდა IDF-ში v4.1 ვერსიამდე. ეს გვერდი აღწერს tcpip_adapter API დან მის მემკვიდრეზე მიგრაციას. <a class="reference internal" href="esp_netif.html"><span class="doc">ESP-NETIF</span></a>.</p>
<div class="section" id="updating-network-connection-code">
<h2>ქსელის კავშირის კოდის განახლება<a class="headerlink" href="tcpip_adapter_migration.html#updating-network-connection-code" title="Permalink to this headline">¶</a></h2>
<div class="section" id="network-stack-initialization">
<h3>ქსელის დასტის ინიციალიზაცია<a class="headerlink" href="tcpip_adapter_migration.html#network-stack-initialization" title="Permalink to this headline">¶</a></h3>
<p>უბრალოდ შეცვალეთ <code class="docutils literal notranslate"><span class="pre">tcpip_adapter_init()</span></code> თან <code class="docutils literal notranslate"><span class="pre">esp_netif_init()</span></code>გთხოვთ, გაითვალისწინოთ, რომ <a class="reference internal" href="esp_netif.html"><span class="doc">ESP-NETIF</span></a> ინიციალიზაციის API აბრუნებს სტანდარტული შეცდომის კოდს და <code class="docutils literal notranslate"><span class="pre">esp_netif_deinit()</span></code> ინიციალიზაციის გაუქმებისთვის ხელმისაწვდომია.</p>
<p>ასევე ჩანაცვლება <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">"tcpip_adapter.h"</span></code> თან <code class="docutils literal notranslate"><span class="pre">#include</span> <span class="pre">"esp_netif.h"</span></code>.</p>
</div>
<div class="section" id="network-interface-creation">
<h3>ქსელის ინტერფეისის შექმნა<a class="headerlink" href="tcpip_adapter_migration.html#network-interface-creation" title="Permalink to this headline">¶</a></h3>
<p>TCP/IP ადაპტერმა სტატიკურად განსაზღვრა ეს სამი ინტერფეისი:</p>
<ul class="simple">
<li>WiFi სადგური</li>
<li>WiFi წვდომის წერტილი</li>
<li>Ethernet</li>
</ul>
<p>ქსელის ინტერფეისის ეგზემპლარი უნდა იყოს ცალსახად აგებული <a class="reference internal" href="esp_netif.html"><span class="doc">ESP-NETIF</span></a> TCP/IP დასტასთან კავშირის გასააქტიურებლად. მაგალითად, WiFi-სთვის ინიციალიზაციის კოდი უნდა გამოიძახოს <code class="docutils literal notranslate"><span class="pre">esp_netif_create_default_wifi_sta();</span></code> ან <code class="docutils literal notranslate"><span class="pre">esp_netif_create_default_wifi_ap();</span></code> TCP/IP დასტის და მოვლენის ციკლის ინიციალიზაციის შემდეგ. გთხოვთ, იხილოთ ამ სამი ინტერფეისის ინიციალიზაციის კოდის მაგალითი:</p>
<ul class="simple">
<li>WiFi სადგური: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/wifi/getting_started/station/main/station_example_main.c">wifi/დაწყება/სადგური/ძირითადი/სადგურის_მაგალითი_ძირითადი.c</a></li>
<li>WiFi წვდომის წერტილი: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/wifi/getting_started/softAP/main/softap_example_main.c">wifi/getting_started/softAP/main/softap_example_main.c</a></li>
<li>ეთერნეტი: <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/ethernet/basic/main/ethernet_example_main.c">ethernet/basic/main/ethernet_example_main.c</a></li>
</ul>
</div>
<div class="section" id="replacing-other-tcpip-adapter-api">
<h3>სხვა tcpip_adapter API ჩანაცვლება<a class="headerlink" href="tcpip_adapter_migration.html#replacing-other-tcpip-adapter-api" title="Permalink to this headline">¶</a></h3>
<p>ყველა tcpip_adapter ფუნქციას აქვს თავისი esp-netif-ის ანალოგი. გთხოვთ, იხილოთ esp_netif.h ფაილი, რომელიც დაჯგუფებულია შემდეგ სექციებად:</p>
<ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_netif/include/esp_netif.h#L241">დამფუძნებლები/მიმღებები </a></li>
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_netif/include/esp_netif.h#L387">DHCP </a></li>
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_netif/include/esp_netif.h#L516">DNS </a></li>
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_netif/include/esp_netif.h#L568">IP მისამართი </a></li>
</ul>
</div>
<div class="section" id="default-event-handlers">
<h3>ნაგულისხმევი მოვლენების დამმუშავებლები<a class="headerlink" href="tcpip_adapter_migration.html#default-event-handlers" title="Permalink to this headline">¶</a></h3>
<p>მოვლენების დამმუშავებლები tcpip_adapter-დან შესაბამის დრაივერის კოდში გადადის. აპლიკაციის კოდის თვალსაზრისით ცვლილება არ არის, ყველა მოვლენა ერთნაირად უნდა დამუშავდეს. გთხოვთ გაითვალისწინოთ, რომ IP-თან დაკავშირებული მოვლენების დამმუშავებლებში, აპლიკაციის კოდი, როგორც წესი, IP მისამართებს esp-netif სპეციფიკური სტრუქტურის სახით იღებს (არა LwIP სტრუქტურები, არამედ ბინარულ ფორმატში თავსებადი). ეს მისამართის დაბეჭდვის სასურველი გზაა:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"got ip:"</span> <span class="n">IPSTR</span> <span class="s">"</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">IP2STR</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">ip_info</span><span class="p">.</span><span class="n">ip</span><span class="p">));</span>
</pre></div>
</div>
<p>ნაცვლად</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_LOGI</span><span class="p">(</span><span class="n">TAG</span><span class="p">,</span> <span class="s">"got ip:%s</span><span class="se">\n</span><span class="s">"</span><span class="p">,</span> <span class="n">ip4addr_ntoa</span><span class="p">(</span><span class="o">&amp;</span><span class="n">event</span><span class="o">-&gt;</span><span class="n">ip_info</span><span class="p">.</span><span class="n">ip</span><span class="p">));</span>
</pre></div>
</div>
<p>მას შემდეგ, რაც <code class="docutils literal notranslate"><span class="pre">ip4addr_ntoa()</span></code> არის LwIP API , esp-netif იძლევა <code class="docutils literal notranslate"><span class="pre">esp_ip4addr_ntoa()</span></code> როგორც ჩანაცვლება, მაგრამ ზოგადად ზემოთ მოცემული მეთოდი უფრო სასურველია.</p>
</div>
<div class="section" id="ip-addresses">
<h3>IP მისამართები<a class="headerlink" href="tcpip_adapter_migration.html#ip-addresses" title="Permalink to this headline">¶</a></h3>
<p>სასურველია esp-netif-ით განსაზღვრული IP სტრუქტურების გამოყენება. გაითვალისწინეთ, რომ LwIP სტრუქტურები კვლავ იმუშავებს, როდესაც ნაგულისხმევი თავსებადობა ჩართულია. *  <a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_netif/include/esp_netif_ip_addr.h#L96">esp-netif IP მისამართის განმარტებები </a></p>
</div>
<div class="section" id="next-steps">
<h3>შემდეგი ნაბიჯები<a class="headerlink" href="tcpip_adapter_migration.html#next-steps" title="Permalink to this headline">¶</a></h3>
<p>აპლიკაციის პორტირების დამატებითი ნაბიჯი, რათა სრულად ისარგებლოთ <a class="reference internal" href="esp_netif.html"><span class="doc">ESP-NETIF</span></a> კომპონენტი კონფიგურაციაში tcpip_adapter თავსებადობის ფენის გამორთვაა საჭირო:
<code class="docutils literal notranslate"><span class="pre">ESP</span> <span class="pre">NETIF</span> <span class="pre">Adapter</span></code> -&amp;gt; <code class="docutils literal notranslate"><span class="pre">Enable</span> <span class="pre">backward</span> <span class="pre">compatible</span> <span class="pre">tcpip_adapter</span> <span class="pre">interface</span></code> და შეამოწმეთ, მოაქვს თუ არა პროექტი კომპილაცია . TCP/IP ადაპტერი ბევრ ჩართვაზე დამოკიდებულებას და ეს ნაბიჯი შეიძლება დაგეხმაროთ აპლიკაციის პირდაპირ გამოყოფაში TCP/IP დასტის API გამოყენებისგან.</p>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="esp_netif_driver.html" rel="next" title="ESP-NETIF Custom I/O Driver">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="esp_netif.html" rel="prev" title="ESP-NETIF"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>