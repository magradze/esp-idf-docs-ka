
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>მოვლენების ციკლის ბიბლიოთეკა — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../../_static/js/theme.js" type="text/javascript"></script>
<link href="../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="esp_event_legacy.html" rel="next" title="Legacy event loop"/>
<link href="esp_pthread.html" rel="prev" title="ESP-pthread"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-reference/system/esp_event.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-reference/system/esp_event"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-reference/system/esp_event.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API მითითება</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../bluetooth/index.html">Bluetooth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../network/index.html">ქსელური მუშაობა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../peripherals/index.html">პერიფერიული მოწყობილობები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../protocols/index.html">პროტოკოლები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../provisioning/index.html">უზრუნველყოფა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../storage/index.html">შენახვა</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">სისტემა</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="app_image_format.html">აპლიკაციის სურათის ფორმატი</a></li>
<li class="toctree-l3"><a class="reference internal" href="app_trace.html">აპლიკაციის დონის ტრასირება</a></li>
<li class="toctree-l3"><a class="reference internal" href="efuse.html">eFuse მენეჯერი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_err.html">შეცდომის კოდები და დამხმარე ფუნქციები</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_https_ota.html">ESP HTTPS OTA</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_pthread.html">ESP pthread</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="esp_event.html#">მოვლენების ციკლის ბიბლიოთეკა</a><ul>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#overview">მიმოხილვა</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#using-esp-event-apis">გამოყენება <code class="docutils literal notranslate"><span class="pre">esp_event</span></code> API სთ</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#declaring-and-defining-events">მოვლენების გამოცხადება და განსაზღვრა</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#default-event-loop">ნაგულისხმევი მოვლენების ციკლი</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#notes-on-handler-registration">შენიშვნები დამმუშავებლის რეგისტრაციის შესახებ</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#event-loop-profiling">მოვლენების ციკლის პროფილირება</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#application-example">განაცხადის მაგალითი</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#api-reference">API მითითება</a></li>
<li class="toctree-l4"><a class="reference internal" href="esp_event.html#related-documents">დაკავშირებული დოკუმენტები</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="freertos.html">უფასო RTOS</a></li>
<li class="toctree-l3"><a class="reference internal" href="freertos_additions.html">უფასო RTOS დამატებები</a></li>
<li class="toctree-l3"><a class="reference internal" href="mem_alloc.html">გროვის მეხსიერების განაწილება</a></li>
<li class="toctree-l3"><a class="reference internal" href="heap_debug.html">გროვის მეხსიერების გამართვა</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_timer.html">მაღალი გარჩევადობის ტაიმერი</a></li>
<li class="toctree-l3"><a class="reference internal" href="himem.html">Himem (დიდი გარე SPI ოპერატიული მეხსიერება) API</a></li>
<li class="toctree-l3"><a class="reference internal" href="ipc.html">პროცესორებს შორის ზარი</a></li>
<li class="toctree-l3"><a class="reference internal" href="esp_expression_with_stack.html">ფუნქციის გამოძახება გარე სტეკით</a></li>
<li class="toctree-l3"><a class="reference internal" href="intr_alloc.html">შეწყვეტის განაწილება</a></li>
<li class="toctree-l3"><a class="reference internal" href="log.html">ლოგირება</a></li>
<li class="toctree-l3"><a class="reference internal" href="system.html">სხვადასხვა სისტემა, API წმ</a></li>
<li class="toctree-l3"><a class="reference internal" href="ota.html">უსადენო განახლებები (OTA)</a></li>
<li class="toctree-l3"><a class="reference internal" href="perfmon.html">შესრულების მონიტორი</a></li>
<li class="toctree-l3"><a class="reference internal" href="power_management.html">ენერგიის მართვა</a></li>
<li class="toctree-l3"><a class="reference internal" href="sleep_modes.html">ძილის რეჟიმები</a></li>
<li class="toctree-l3"><a class="reference internal" href="wdts.html">მეთვალყურე ძაღლები</a></li>
<li class="toctree-l3"><a class="reference internal" href="system_time.html">სისტემის დრო</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../kconfig.html">კონფიგურაციის პარამეტრები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-codes.html">შეცდომის კოდების მითითება</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-guides/index.html">API სახელმძღვანელოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../../index.html">დოკუმენტები</a> »</li>
<li><a href="../index.html">API მითითება</a> »</li>
<li><a href="index.html">სისტემის API</a> »</li>
<li>მოვლენების ციკლის ბიბლიოთეკა</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-reference/system/esp_event.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="event-loop-library">
<h1>მოვლენების ციკლის ბიბლიოთეკა<a class="headerlink" href="esp_event.html#event-loop-library" title="Permalink to this headline">¶</a></h1>
<div class="section" id="overview">
<h2>მიმოხილვა<a class="headerlink" href="esp_event.html#overview" title="Permalink to this headline">¶</a></h2>
<p>მოვლენათა ციკლის ბიბლიოთეკა საშუალებას აძლევს კომპონენტი ს გამოაცხადოს მოვლენები, რომლებზეც სხვა კომპონენტი ს შეუძლია დაარეგისტრიროს დამმუშავებლები - კოდი, რომელიც შესრულდება ამ მოვლენების მოხდენისას. ეს საშუალებას აძლევს თავისუფლად დაკავშირებულ კომპონენტი ს, სასურველი ქცევა მიამაგროს სხვა კომპონენტი ის მდგომარეობის ცვლილებებს აპლიკაციის ჩარევის გარეშე. მაგალითად, მაღალი დონის კავშირის დამუშავების ბიბლიოთეკას შეუძლია პირდაპირ გამოიწეროს wifi ქვესისტემის მიერ წარმოებული მოვლენები და იმოქმედოს ამ მოვლენებზე. ეს ასევე ამარტივებს მოვლენების დამუშავებას სერიალიზაციით და კოდის შესრულების სხვა კონტექსტში გადადებით.</p>
</div>
<div class="section" id="using-esp-event-apis">
<h2>გამოყენება <code class="docutils literal notranslate"><span class="pre">esp_event</span></code> API სთ<a class="headerlink" href="esp_event.html#using-esp-event-apis" title="Permalink to this headline">¶</a></h2>
<p>ამ ბიბლიოთეკის მომხმარებლებისთვის ორი შეშფოთების ობიექტია: მოვლენები და მოვლენების ციკლები.</p>
<p>მოვლენები აღსანიშნავია. მაგალითად, WiFi-სთვის, წვდომის წერტილთან წარმატებული კავშირი შეიძლება მოვლენა იყოს. მოვლენები მითითებულია ორნაწილიანი იდენტიფიკატორის გამოყენებით, რომლებიც უფრო დეტალურად არის განხილული. <a class="reference internal" href="esp_event.html#esp-event-declaring-defining-events"><span class="std std-ref">აქ</span></a>მოვლენების ციკლები არის მექანიზმი, რომლითაც მოვლენები ქვეყნდება მოვლენების წყაროების მიერ და მუშაობდება მოვლენების დამმუშავებელი ფუნქციების მიერ. ეს ორი თვალსაჩინოდ ჩანს მოვლენების ციკლების ბიბლიოთეკის API s.</p>
<p>ამ ბიბლიოთეკის გამოყენება დაახლოებით შემდეგ ნაბიჯებს დგამს:</p>
<ol class="arabic simple">
<li>მომხმარებელი განსაზღვრავს ფუნქციას, რომელიც უნდა შესრულდეს, როდესაც მოვლენა ციკლში განთავსდება. ეს ფუნქცია მოხსენიებულია, როგორც მოვლენის დამმუშავებელი. მას უნდა ჰქონდეს იგივე ხელმოწერა, რაც <a class="reference internal" href="esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_event_handler_t</span></code></a>.</li>
<li>მოვლენების ციკლი იქმნება გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv421esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t" title="esp_event_loop_create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_create()</span></code></a>, რომელიც ტიპის მარყუჟზე სახელურს გამოიტანს <a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_event_loop_handle_t</span></code></a>ამ API გამოყენებით შექმნილი მოვლენების ციკლები მომხმარებლის მოვლენების ციკლებად მოიხსენიება. თუმცა, არსებობს მოვლენების ციკლის განსაკუთრებული ტიპი, რომელსაც ნაგულისხმევი მოვლენების ციკლი ეწოდება, რომელიც განხილულია. <a class="reference internal" href="esp_event.html#esp-event-default-loops"><span class="std std-ref">აქ</span></a>.</li>
<li>კომპონენტები არეგისტრირებენ მოვლენების დამმუშავებლებს ციკლში გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register_with()</span></code></a>. დამმუშავებლების რეგისტრაცია შესაძლებელია მრავალი ციკლით, ამაზე მეტი ინფორმაციაა. <a class="reference internal" href="esp_event.html#esp-event-handler-registration"><span class="std std-ref">აქ</span></a>.</li>
<li>მოვლენების წყაროები მოვლენას ციკლში აქვეყნებენ გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv417esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t" title="esp_event_post_to"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_post_to()</span></code></a>.</li>
<li>კომპონენტებს, რომლებსაც სურთ თავიანთი დამმუშავებლების გამოძახებიდან ამოღება, შეუძლიათ ამის გაკეთება ციკლიდან რეგისტრაციის გაუქმებით, გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv433esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t" title="esp_event_handler_unregister_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_unregister_with()</span></code></a>.</li>
<li>აღარ საჭირო მოვლენების ციკლების წაშლა შესაძლებელია გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv421esp_event_loop_delete23esp_event_loop_handle_t" title="esp_event_loop_delete"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_delete()</span></code></a>.</li>
</ol>
<p>კოდში, ზემოთ მოცემული ნაკადი შეიძლება ასე გამოიყურებოდეს:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="c1">// 1. Define the event handler</span>
<span class="kt">void</span> <span class="nf">run_on_event</span><span class="p">(</span><span class="kt">void</span><span class="o">*</span> <span class="n">handler_arg</span><span class="p">,</span> <span class="n">esp_event_base_t</span> <span class="n">base</span><span class="p">,</span> <span class="kt">int32_t</span> <span class="n">id</span><span class="p">,</span> <span class="kt">void</span><span class="o">*</span> <span class="n">event_data</span><span class="p">)</span>
<span class="p">{</span>
    <span class="c1">// Event handler logic</span>
<span class="p">}</span>

<span class="kt">void</span> <span class="nf">app_main</span><span class="p">()</span>
<span class="p">{</span>
    <span class="c1">// 2. A configuration structure of type esp_event_loop_args_t is needed to specify the properties of the loop to be</span>
    <span class="c1">// created. A handle of type esp_event_loop_handle_t is obtained, which is needed by the other APIs to reference the loop</span>
    <span class="c1">// to perform their operations on.</span>
    <span class="n">esp_event_loop_args_t</span> <span class="n">loop_args</span> <span class="o">=</span> <span class="p">{</span>
        <span class="p">.</span><span class="n">queue_size</span> <span class="o">=</span> <span class="p">...,</span>
        <span class="p">.</span><span class="n">task_name</span> <span class="o">=</span> <span class="p">...</span>
        <span class="p">.</span><span class="n">task_priority</span> <span class="o">=</span> <span class="p">...,</span>
        <span class="p">.</span><span class="n">task_stack_size</span> <span class="o">=</span> <span class="p">...,</span>
        <span class="p">.</span><span class="n">task_core_id</span> <span class="o">=</span> <span class="p">...</span>
    <span class="p">};</span>

    <span class="n">esp_event_loop_handle_t</span> <span class="n">loop_handle</span><span class="p">;</span>

    <span class="n">esp_event_loop_create</span><span class="p">(</span><span class="o">&amp;</span><span class="n">loop_args</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">loop_handle</span><span class="p">)</span>

    <span class="c1">// 3. Register event handler defined in (1). MY_EVENT_BASE and MY_EVENT_ID specifies a hypothetical</span>
    <span class="c1">// event that handler run_on_event should execute on when it gets posted to the loop.</span>
    <span class="n">esp_event_handler_register_with</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">MY_EVENT_BASE</span><span class="p">,</span> <span class="n">MY_EVENT_ID</span><span class="p">,</span> <span class="n">run_on_event</span><span class="p">,</span> <span class="p">...);</span>

    <span class="p">...</span>

    <span class="c1">// 4. Post events to the loop. This queues the event on the event loop. At some point in time</span>
    <span class="c1">// the event loop executes the event handler registered to the posted event, in this case run_on_event.</span>
    <span class="c1">// For simplicity sake this example calls esp_event_post_to from app_main, but posting can be done from</span>
    <span class="c1">// any other tasks (which is the more interesting use case).</span>
    <span class="n">esp_event_post_to</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">MY_EVENT_BASE</span><span class="p">,</span> <span class="n">MY_EVENT_ID</span><span class="p">,</span> <span class="p">...);</span>

    <span class="p">...</span>

    <span class="c1">// 5. Unregistering an unneeded handler</span>
    <span class="n">esp_event_handler_unregister_with</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">MY_EVENT_BASE</span><span class="p">,</span> <span class="n">MY_EVENT_ID</span><span class="p">,</span> <span class="n">run_on_event</span><span class="p">);</span>

    <span class="p">...</span>

    <span class="c1">// 6. Deleting an unneeded event loop</span>
    <span class="n">esp_event_loop_delete</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">);</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="declaring-and-defining-events">
<span id="esp-event-declaring-defining-events"></span><h2>მოვლენების გამოცხადება და განსაზღვრა<a class="headerlink" href="esp_event.html#declaring-and-defining-events" title="Permalink to this headline">¶</a></h2>
<p>როგორც ადრე აღვნიშნეთ, მოვლენები ორნაწილიანი იდენტიფიკატორისგან შედგება: მოვლენის ბაზა და მოვლენის ID. მოვლენის ბაზა განსაზღვრავს მოვლენების დამოუკიდებელ ჯგუფს; მოვლენის ID განსაზღვრავს მოვლენას ამ ჯგუფში. მოვლენის ბაზა და მოვლენის ID წარმოიდგინეთ, როგორც ადამიანის გვარი და სახელი, შესაბამისად. გვარი განსაზღვრავს ოჯახს, ხოლო სახელი განსაზღვრავს ადამიანს ამ ოჯახში.</p>
<p>მოვლენების ციკლის ბიბლიოთეკა უზრუნველყოფს მაკროებს მოვლენების ბაზის მარტივად გამოცხადებისა და განსაზღვრისთვის.</p>
<p>მოვლენის ბაზის დეკლარაცია:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_EVENT_DECLARE_BASE</span><span class="p">(</span><span class="n">EVENT_BASE</span><span class="p">)</span>
</pre></div>
</div>
<p>მოვლენის ბაზის განმარტება:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_EVENT_DEFINE_BASE</span><span class="p">(</span><span class="n">EVENT_BASE</span><span class="p">)</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">შენიშვნა</p>
<p class="last">IDF-ში, სისტემის მოვლენების ძირითადი იდენტიფიკატორები დიდი ასოებით არის დაწერილი და პოსტფიქსირებულია <code class="docutils literal notranslate"><span class="pre">_EVENT</span></code>მაგალითად, wifi მოვლენების ბაზა გამოცხადებულია და განსაზღვრულია, როგორც <code class="docutils literal notranslate"><span class="pre">WIFI_EVENT</span></code>, ეთერნეტის მოვლენების ბაზა <code class="docutils literal notranslate"><span class="pre">ETHERNET_EVENT</span></code>და ა.შ. მიზანია, რომ მოვლენების ბაზები კონსტანტებს დაემსგავსოს (თუმცა ისინი გლობალური ცვლადებია მაკროების განმარტებების გათვალისწინებით). <code class="docutils literal notranslate"><span class="pre">ESP_EVENT_DECLARE_BASE</span></code> და <code class="docutils literal notranslate"><span class="pre">ESP_EVENT_DEFINE_BASE</span></code>).</p>
</div>
<p>მოვლენის ID-ების შემთხვევაში რეკომენდებულია მათი ჩამოთვლა. კიდევ ერთხელ, ხილვადობისთვის, ისინი, როგორც წესი, თავსდება საჯარო სათაურის ფაილებში.</p>
<p>მოვლენის ID:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">enum</span> <span class="p">{</span>
    <span class="n">EVENT_ID_1</span><span class="p">,</span>
    <span class="n">EVENT_ID_2</span><span class="p">,</span>
    <span class="n">EVENT_ID_3</span><span class="p">,</span>
    <span class="p">...</span>
<span class="p">}</span>
</pre></div>
</div>
</div>
<div class="section" id="default-event-loop">
<span id="esp-event-default-loops"></span><h2>ნაგულისხმევი მოვლენების ციკლი<a class="headerlink" href="esp_event.html#default-event-loop" title="Permalink to this headline">¶</a></h2>
<p>ნაგულისხმევი მოვლენების ციკლი არის ციკლის სპეციალური ტიპი, რომელიც გამოიყენება სისტემური მოვლენებისთვის (მაგალითად, Wi-Fi მოვლენები). ამ ციკლის სახელური დამალულია მომხმარებლისგან. მოვლენების შექმნა, წაშლა, სახელურის რეგისტრაცია/რეგისტრაციის გაუქმება და გამოქვეყნება ხორციელდება მომხმარებლის მოვლენების ციკლებისთვის API s-ის ვარიანტის მეშვეობით. ქვემოთ მოცემულ ცხრილში ჩამოთვლილია ეს ვარიანტები და მომხმარებლის მოვლენების ციკლების ეკვივალენტები.</p>
<table border="1" class="docutils">
<colgroup>
<col width="50%"/>
<col width="50%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">მომხმარებლის მოვლენების ციკლები</th>
<th class="head">ნაგულისხმევი მოვლენების ციკლები</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td><a class="reference internal" href="esp_event.html#_CPPv421esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t" title="esp_event_loop_create"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_create()</span></code></a></td>
<td><a class="reference internal" href="esp_event.html#_CPPv429esp_event_loop_create_defaultv" title="esp_event_loop_create_default"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_create_default()</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="esp_event.html#_CPPv421esp_event_loop_delete23esp_event_loop_handle_t" title="esp_event_loop_delete"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_delete()</span></code></a></td>
<td><a class="reference internal" href="esp_event.html#_CPPv429esp_event_loop_delete_defaultv" title="esp_event_loop_delete_default"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_loop_delete_default()</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register_with()</span></code></a></td>
<td><a class="reference internal" href="esp_event.html#_CPPv426esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register()</span></code></a></td>
</tr>
<tr class="row-odd"><td><a class="reference internal" href="esp_event.html#_CPPv433esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t" title="esp_event_handler_unregister_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_unregister_with()</span></code></a></td>
<td><a class="reference internal" href="esp_event.html#_CPPv428esp_event_handler_unregister16esp_event_base_t7int32_t19esp_event_handler_t" title="esp_event_handler_unregister"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_unregister()</span></code></a></td>
</tr>
<tr class="row-even"><td><a class="reference internal" href="esp_event.html#_CPPv417esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t" title="esp_event_post_to"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_post_to()</span></code></a></td>
<td><a class="reference internal" href="esp_event.html#_CPPv414esp_event_post16esp_event_base_t7int32_tPv6size_t10TickType_t" title="esp_event_post"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_post()</span></code></a></td>
</tr>
</tbody>
</table>
<p>თუ ორივეს ხელმოწერებს შევადარებთ, ისინი ძირითადად მსგავსია, გარდა იმისა, რომ ნაგულისხმევი მოვლენის ციკლის API s-ისთვის ციკლის სახელურის სპეციფიკაცია არ არის.</p>
<p>გარდა API განსხვავებისა და სისტემური მოვლენების განთავსების სპეციალური აღნიშვნისა, არ არსებობს განსხვავება იმას შორის, თუ როგორ იქცევიან ნაგულისხმევი და მომხმარებლის მოვლენების ციკლები. მომხმარებლებისთვის შესაძლებელია საკუთარი მოვლენების ნაგულისხმევ ციკლში განთავსებაც კი, თუ მომხმარებელი გადაწყვეტს, რომ მეხსიერების დაზოგვის მიზნით არ შექმნას საკუთარი ციკლები.</p>
</div>
<div class="section" id="notes-on-handler-registration">
<span id="esp-event-handler-registration"></span><h2>შენიშვნები დამმუშავებლის რეგისტრაციის შესახებ<a class="headerlink" href="esp_event.html#notes-on-handler-registration" title="Permalink to this headline">¶</a></h2>
<p>შესაძლებელია ერთი დამმუშავებლის ინდივიდუალურად რეგისტრაცია რამდენიმე ღონისძიებაზე, ანუ მრავალი ზარის გამოყენებით <a class="reference internal" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register_with()</span></code></a>ამ მრავალი ზარისთვის, შესაძლებელია კონკრეტული მოვლენის ბაზის და მოვლენის ID-ის მითითება, რომლითაც დამმუშავებელი უნდა შესრულდეს.</p>
<p>თუმცა, ზოგიერთ შემთხვევაში სასურველია, რომ დამმუშავებელმა შეასრულოს (1) ყველა მოვლენა, რომელიც იგზავნება ციკლში ან (2) კონკრეტული საბაზო იდენტიფიკატორის ყველა მოვლენა. ეს შესაძლებელია სპეციალური მოვლენის საბაზო იდენტიფიკატორის გამოყენებით. <code class="docutils literal notranslate"><span class="pre">ESP_EVENT_ANY_BASE</span></code> და სპეციალური ღონისძიების ID <code class="docutils literal notranslate"><span class="pre">ESP_EVENT_ANY_ID</span></code>ეს სპეციალური იდენტიფიკატორები შეიძლება გადაეცეს როგორც მოვლენის ბაზა და მოვლენის ID არგუმენტები <a class="reference internal" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register_with()</span></code></a>.</p>
<p>ამიტომ, ვალიდური არგუმენტები <a class="reference internal" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="esp_event_handler_register_with"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_handler_register_with()</span></code></a> არიან:</p>
<ol class="arabic simple">
<li>&lt;event base&gt;,&lt;event ID&gt; - დამმუშავებელი ასრულებს, როდესაც მოვლენა ბაზით&lt;event base&gt; და მოვლენის ID&lt;event ID&gt; ციკლში გამოქვეყნდება</li>
<li>&lt;event base&gt;, ESP_EVENT_ANY_ID - დამმუშავებელი სრულდება, როდესაც ნებისმიერი მოვლენა ბაზით&lt;event base&gt; ციკლში გამოქვეყნდება</li>
<li>ESP_EVENT_ANY_BASE, ESP_EVENT_ANY_ID - დამმუშავებელი სრულდება, როდესაც ნებისმიერი მოვლენა გამოქვეყნდება ციკლში.</li>
</ol>
<p>მაგალითად, დავუშვათ, რომ შესრულდა შემდეგი დამმუშავებლის რეგისტრაცია:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">esp_event_handler_register_with</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">MY_EVENT_BASE</span><span class="p">,</span> <span class="n">MY_EVENT_ID</span><span class="p">,</span> <span class="n">run_on_event_1</span><span class="p">,</span> <span class="p">...);</span>
<span class="n">esp_event_handler_register_with</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">MY_EVENT_BASE</span><span class="p">,</span> <span class="n">ESP_EVENT_ANY_ID</span><span class="p">,</span> <span class="n">run_on_event_2</span><span class="p">,</span> <span class="p">...);</span>
<span class="n">esp_event_handler_register_with</span><span class="p">(</span><span class="n">loop_handle</span><span class="p">,</span> <span class="n">ESP_EVENT_ANY_BASE</span><span class="p">,</span> <span class="n">ESP_EVENT_ANY_ID</span><span class="p">,</span> <span class="n">run_on_event_3</span><span class="p">,</span> <span class="p">...);</span>
</pre></div>
</div>
<p>თუ ჰიპოთეტური მოვლენა <code class="docutils literal notranslate"><span class="pre">MY_EVENT_BASE</span></code>, <code class="docutils literal notranslate"><span class="pre">MY_EVENT_ID</span></code> გამოქვეყნებულია, სამივე დამმუშავებელი <code class="docutils literal notranslate"><span class="pre">run_on_event_1</span></code>, <code class="docutils literal notranslate"><span class="pre">run_on_event_2</span></code>და <code class="docutils literal notranslate"><span class="pre">run_on_event_3</span></code> განახორციელებდა.</p>
<p>თუ ჰიპოთეტური მოვლენა <code class="docutils literal notranslate"><span class="pre">MY_EVENT_BASE</span></code>, <code class="docutils literal notranslate"><span class="pre">MY_OTHER_EVENT_ID</span></code> გამოქვეყნებულია, მხოლოდ  <code class="docutils literal notranslate"><span class="pre">run_on_event_2</span></code> და <code class="docutils literal notranslate"><span class="pre">run_on_event_3</span></code> განახორციელებდა.</p>
<p>თუ ჰიპოთეტური მოვლენა <code class="docutils literal notranslate"><span class="pre">MY_OTHER_EVENT_BASE</span></code>, <code class="docutils literal notranslate"><span class="pre">MY_OTHER_EVENT_ID</span></code> გამოქვეყნებულია, მხოლოდ <code class="docutils literal notranslate"><span class="pre">run_on_event_3</span></code> განახორციელებდა.</p>
<div class="section" id="handler-registration-and-handler-dispatch-order">
<h3>დამმუშავებლის რეგისტრაცია და დამმუშავებლის გაგზავნის შეკვეთა<a class="headerlink" href="esp_event.html#handler-registration-and-handler-dispatch-order" title="Permalink to this headline">¶</a></h3>
<p>ზოგადი წესია, რომ დამმუშავებლებისთვის, რომლებიც ემთხვევა გაგზავნის დროს გამოქვეყნებულ კონკრეტულ მოვლენას, პირველი რეგისტრირებული დამმუშავებლებიც შესრულდება. შემდეგ მომხმარებელს შეუძლია გააკონტროლოს, რომელი დამმუშავებლები შესრულდება პირველი, სხვა დამმუშავებლებამდე მათი რეგისტრაციით, იმ პირობით, რომ ყველა რეგისტრაცია შესრულდება ერთი დავალების გამოყენებით. თუ მომხმარებელი გეგმავს ამ ქცევის გამოყენებას, სიფრთხილე უნდა გამოიჩინოს, თუ არსებობს მრავალი დავალების დამმუშავებელი, რომლებიც არეგისტრირებენ დამმუშავებლებს. მიუხედავად იმისა, რომ „პირველი რეგისტრირებულია, პირველი შესრულებულია“ ქცევა კვლავ ძალაშია, პირველი შესრულებული დავალების დამმუშავებლებიც დარეგისტრირდებიან პირველი. ერთი დავალებით ერთმანეთის მიყოლებით რეგისტრირებული დამმუშავებლები მაინც გაიგზავნება ერთმანეთის მიმართ თანმიმდევრობით, მაგრამ თუ ამ დავალებას რეგისტრაციას შორის სხვა დავალება უსწრებს, რომელიც ასევე არეგისტრირებს დამმუშავებლებს, მაშინ გაგზავნის დროს ეს დამმუშავებლებიც შესრულდება შუალედში.</p>
</div>
</div>
<div class="section" id="event-loop-profiling">
<h2>მოვლენების ციკლის პროფილირება<a class="headerlink" href="esp_event.html#event-loop-profiling" title="Permalink to this headline">¶</a></h2>
<p>კონფიგურაციის ვარიანტი <a class="reference internal" href="../kconfig.html#config-esp-event-loop-profiling"><span class="std std-ref">CONFIG_ESP_EVENT_LOOP_PROFILING</span></a> შესაძლებელია ჩართოთ ყველა შექმნილი მოვლენის ციკლის სტატისტიკის შეგროვების გასააქტიურებლად. ფუნქცია <a class="reference internal" href="esp_event.html#_CPPv414esp_event_dumpP4FILE" title="esp_event_dump"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_dump()</span></code></a> შეიძლება გამოყენებულ იქნას შეგროვებული სტატისტიკის ფაილების ნაკადში გამოსატანად. დამპში შეტანილი ინფორმაციის შესახებ დამატებითი დეტალები შეგიძლიათ იხილოთ <a class="reference internal" href="esp_event.html#_CPPv414esp_event_dumpP4FILE" title="esp_event_dump"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_event_dump()</span></code></a> API მითითება.</p>
</div>
<div class="section" id="application-example">
<h2>განაცხადის მაგალითი<a class="headerlink" href="esp_event.html#application-example" title="Permalink to this headline">¶</a></h2>
<p>მაგალითები გამოყენების შესახებ <code class="docutils literal notranslate"><span class="pre">esp_event</span></code> ბიბლიოთეკა შეგიძლიათ იხილოთ <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/system/esp_event">სისტემა/esp_ღონისძიება</a>მაგალითები მოიცავს მოვლენების დეკლარაციას, ციკლის შექმნას, დამმუშავებლის რეგისტრაციას და რეგისტრაციის გაუქმებას, ასევე მოვლენების გამოქვეყნებას.</p>
<p>სხვა მაგალითები, რომლებიც ასევე იყენებენ esp_event ბიბლიოთეკას:</p>
<blockquote>
<div><ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/peripherals/uart/nmea0183_parser">NMEA ანალიზატორი </a>, რომელიც გაშიფრავს GPS-დან მიღებულ განცხადებებს.</li>
</ul>
</div></blockquote>
</div>
<div class="section" id="api-reference">
<h2>API მითითება<a class="headerlink" href="esp_event.html#api-reference" title="Permalink to this headline">¶</a></h2>
<div class="section" id="header-file">
<h3>სათაურის ფაილი<a class="headerlink" href="esp_event.html#header-file" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_event/include/esp_event.h">esp_event/include/esp_event.h</a></li>
</ul>
</div>
<div class="section" id="functions">
<h3>ფუნქციები<a class="headerlink" href="esp_event.html#functions" title="Permalink to this headline">¶</a></h3>
<dl class="function">
<dt id="_CPPv421esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t">
<span id="_CPPv321esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t"></span><span id="_CPPv221esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t"></span><span id="esp_event_loop_create__esp_event_loop_args_tCP.esp_event_loop_handle_tP"></span><span class="target" id="esp__event_8h_1a991511e760a8515e93e3e5d56b0779c1"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_loop_create</code><span class="sig-paren">(</span><em class="property">კონსტ</em> <a class="reference internal" href="esp_event.html#_CPPv421esp_event_loop_args_t" title="esp_event_loop_args_t">esp_event_loop_args_t</a> *<em>მოვლენის_ციკლის_არგუმენტები</em>, <a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> *<em>მოვლენის_ციკლი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv421esp_event_loop_createPK21esp_event_loop_args_tP23esp_event_loop_handle_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>შექმენით ახალი მოვლენების ციკლი. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NO_MEM: მოვლენების ციკლების სიისთვის მეხსიერების გამოყოფა შეუძლებელია</li>
<li>ESP_FAIL: დავალების ციკლის შექმნა ვერ მოხერხდა</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop_args</span></code>: კონფიგურაციის სტრუქტურა მოვლენების ციკლისთვის, რომელიც უნდა შეიქმნას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: შექმნილი მოვლენის ციკლის სახელური</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv421esp_event_loop_delete23esp_event_loop_handle_t">
<span id="_CPPv321esp_event_loop_delete23esp_event_loop_handle_t"></span><span id="_CPPv221esp_event_loop_delete23esp_event_loop_handle_t"></span><span id="esp_event_loop_delete__esp_event_loop_handle_t"></span><span class="target" id="esp__event_8h_1a2c88d55eee3cde083b04b62b16677060"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_loop_delete</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> <em>მოვლენის_ციკლი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv421esp_event_loop_delete23esp_event_loop_handle_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>არსებული მოვლენების ციკლის წაშლა. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: წასაშლელი მოვლენების ციკლი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv429esp_event_loop_create_defaultv">
<span id="_CPPv329esp_event_loop_create_defaultv"></span><span id="_CPPv229esp_event_loop_create_defaultv"></span><span id="esp_event_loop_create_default__void"></span><span class="target" id="esp__event_8h_1a64668fee1eab610522aeaaf7281f926e"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_loop_create_default</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv429esp_event_loop_create_defaultv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>შექმენით ნაგულისხმევი მოვლენების ციკლი. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NO_MEM: მოვლენების ციკლების სიისთვის მეხსიერების გამოყოფა შეუძლებელია</li>
<li>ESP_FAIL: დავალების ციკლის შექმნა ვერ მოხერხდა</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv429esp_event_loop_delete_defaultv">
<span id="_CPPv329esp_event_loop_delete_defaultv"></span><span id="_CPPv229esp_event_loop_delete_defaultv"></span><span id="esp_event_loop_delete_default__void"></span><span class="target" id="esp__event_8h_1ac265ace38d3b6ccf65c27bec715cf9f2"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_loop_delete_default</code><span class="sig-paren">(</span>void<span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv429esp_event_loop_delete_defaultv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>წაშალეთ ნაგულისხმევი მოვლენების ციკლი. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv418esp_event_loop_run23esp_event_loop_handle_t10TickType_t">
<span id="_CPPv318esp_event_loop_run23esp_event_loop_handle_t10TickType_t"></span><span id="_CPPv218esp_event_loop_run23esp_event_loop_handle_t10TickType_t"></span><span id="esp_event_loop_run__esp_event_loop_handle_t.TickType_t"></span><span class="target" id="esp__event_8h_1a2dcf3c67ff7f66d41c2f4942c90e341b"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_loop_run</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> <em>მოვლენის_ციკლი</em>, TickType_t <em>ტიკები_სირბილისთვის</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv418esp_event_loop_run23esp_event_loop_handle_t10TickType_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მოვლენების ციკლში გამოქვეყნებული მოვლენების გაგზავნა. </p>
<p>ეს ფუნქცია გამოიყენება იმ მოვლენების გასაგზავნად, რომლებიც გამოქვეყნებულია ციკლში, რომელსაც არ აქვს გამოყოფილი დავალება, ანუ ციკლის შექმნისას დავალების სახელი დაყენებული იყო NULL-ზე event_loop_args არგუმენტში. ეს ფუნქცია მოიცავს არგუმენტს, რომელიც ზღუდავს მისი შესრულების დროს და კონტროლს უბრუნებს გამომძახებელს, როდესაც ეს დრო ამოიწურება (ან გარკვეული დროის შემდეგ). არ არსებობს გარანტია, რომ ამ ფუნქციის გამოძახება დასრულდება ზუსტად ვადის გასვლის დროს. ასევე არ არსებობს გარანტია, რომ მოვლენები გაიგზავნა გამოძახების დროს, რადგან ფუნქციამ შესაძლოა მთელი გამოყოფილი დრო დახარჯა მოვლენების რიგში ლოდინში. თუმცა, როგორც კი მოვლენა მოიხსნება რიგში, გარანტირებულია, რომ ის გაიგზავნება. ეს გარანტია ხელს უწყობს იმის გამო, რომ ვერ მოხერხდება ზუსტად ვადის გასვლის დროს გასვლა, რადგან (1) შიდა მუტექსების ბლოკირება აუცილებელია რიგგარეშე მოვლენის გასაგზავნად და (2) რიგგარეშე მოვლენის გაგზავნის დროს არ არსებობს გზა დამმუშავებლის კოდის შესრულების მიერ დაკავებული დროის გასაკონტროლებლად. გარანტირებული გასვლის დრო, შესაბამისად, არის გამოყოფილი დრო + ბოლო რიგგარეშე მოვლენის გასაგზავნად საჭირო დრო.</p>
<p>იმ შემთხვევებში, როდესაც რიგში ლოდინის დრო იწურება, ბრუნდება ESP_OK და არა ESP_ERR_TIMEOUT, რადგან ეს ნორმალური ქცევაა.</p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>encountering an unknown event that has been posted to the loop will only generate a warning, not an error.</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: მოვლენების ციკლი გამოქვეყნებული მოვლენების გასაგზავნად </li>
<li><code class="docutils literal notranslate"><span class="pre">ticks_to_run</span></code>: ციკლის გასაშვებად საჭირო ტიკების რაოდენობა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv426esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv">
<span id="_CPPv326esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv"></span><span id="_CPPv226esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv"></span><span id="esp_event_handler_register__esp_event_base_t.int32_t.esp_event_handler_t.voidP"></span><span class="target" id="esp__event_8h_1a432e12c13505fbad2ceb04083ca0089c"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_handler_register</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, <a class="reference internal" href="esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t">esp_event_handler_t</a> <em>მოვლენის_დამმუშავებელი</em>, void *<em>მოვლენის_დამმუშავებელი_არგ</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv426esp_event_handler_register16esp_event_base_t7int32_t19esp_event_handler_tPv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>სისტემის მოვლენების ციკლში მოვლენების დამმუშავებლის რეგისტრაცია. </p>
<p>ეს ფუნქცია შეიძლება გამოყენებულ იქნას დამმუშავებლის რეგისტრაციისთვის შემდეგი მოვლენებისთვის: (1) კონკრეტული მოვლენებისთვის, (2) გარკვეული მოვლენების ბაზის ყველა მოვლენისთვის, ან (3) სისტემის მოვლენების ციკლისთვის ცნობილი ყველა მოვლენისთვის.</p>
<p><ul class="simple">
<li>კონკრეტული მოვლენები: მიუთითეთ ზუსტი event_base და event_id</li>
<li>გარკვეული ბაზის ყველა მოვლენა: მიუთითეთ ზუსტი event_base და გამოიყენეთ ESP_EVENT_ANY_ID როგორც event_id.</li>
<li>ციკლის მიერ ცნობილი ყველა მოვლენა: გამოიყენეთ ESP_EVENT_ANY_BASE event_base-ისთვის და ESP_EVENT_ANY_ID როგორც event_id.</li>
</ul>
</p>
<p>შესაძლებელია ღონისძიებებზე მრავალი დამმუშავებლის რეგისტრაცია. ასევე შესაძლებელია ერთი დამმუშავებლის რეგისტრაცია რამდენიმე ღონისძიებაზე. თუმცა, ერთი და იგივე დამმუშავებლის ერთსა და იმავე ღონისძიებაზე რამდენჯერმე რეგისტრაცია გამოიწვევს წინა რეგისტრაციების გადაწერას.</p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>the event loop library does not maintain a copy of event_handler_arg, therefore the user should ensure that event_handler_arg still points to a valid location by the time the handler gets called</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NO_MEM: დამმუშავებლისთვის მეხსიერების გამოყოფა შეუძლებელია</li>
<li>ESP_ERR_INVALID_ARG: მოვლენის ბაზის და მოვლენის ID-ის არასწორი კომბინაცია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის საბაზისო იდენტიფიკატორი, რომლისთვისაც უნდა დარეგისტრირდეს დამმუშავებელი </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომლისთვისაც უნდა დარეგისტრირდეს დამმუშავებელი </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler</span></code>: დამმუშავებლის ფუნქცია, რომელიც გამოიძახება მოვლენის გაგზავნისას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler_arg</span></code>მონაცემები, მოვლენის მონაცემების გარდა, რომლებიც გადაეცემა დამმუშავებელს მისი გამოძახებისას.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv">
<span id="_CPPv331esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv"></span><span id="_CPPv231esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv"></span><span id="esp_event_handler_register_with__esp_event_loop_handle_t.esp_event_base_t.int32_t.esp_event_handler_t.voidP"></span><span class="target" id="esp__event_8h_1a133723d207f19e24fd703f169e21136b"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_handler_register_with</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> <em>მოვლენის_ციკლი</em>, <a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, <a class="reference internal" href="esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t">esp_event_handler_t</a> <em>მოვლენის_დამმუშავებელი</em>, void *<em>მოვლენის_დამმუშავებელი_არგ</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv431esp_event_handler_register_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_tPv" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>დაარეგისტრირეთ მოვლენების დამმუშავებელი კონკრეტულ ციკლზე. </p>
<p>ეს ფუნქცია იქცევა ისევე, როგორც esp_event_handler_register, გარდა იმისა, რომ დამმუშავებლის რეგისტრაციისთვის საჭიროა მოვლენის ციკლის დამატებითი სპეციფიკაცია.</p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>the event loop library does not maintain a copy of event_handler_arg, therefore the user should ensure that event_handler_arg still points to a valid location by the time the handler gets called</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NO_MEM: დამმუშავებლისთვის მეხსიერების გამოყოფა შეუძლებელია</li>
<li>ESP_ERR_INVALID_ARG: მოვლენის ბაზის და მოვლენის ID-ის არასწორი კომბინაცია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: მოვლენის ციკლი ამ დამმუშავებლის ფუნქციის რეგისტრაციისთვის </li>
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის საბაზისო იდენტიფიკატორი, რომლისთვისაც უნდა დარეგისტრირდეს დამმუშავებელი </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომლისთვისაც უნდა დარეგისტრირდეს დამმუშავებელი </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler</span></code>: დამმუშავებლის ფუნქცია, რომელიც გამოიძახება მოვლენის გაგზავნისას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler_arg</span></code>მონაცემები, მოვლენის მონაცემების გარდა, რომლებიც გადაეცემა დამმუშავებელს მისი გამოძახებისას.</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv428esp_event_handler_unregister16esp_event_base_t7int32_t19esp_event_handler_t">
<span id="_CPPv328esp_event_handler_unregister16esp_event_base_t7int32_t19esp_event_handler_t"></span><span id="_CPPv228esp_event_handler_unregister16esp_event_base_t7int32_t19esp_event_handler_t"></span><span id="esp_event_handler_unregister__esp_event_base_t.int32_t.esp_event_handler_t"></span><span class="target" id="esp__event_8h_1a2b88455e5300630804a3d56bce9f89cb"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_handler_unregister</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, <a class="reference internal" href="esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t">esp_event_handler_t</a> <em>მოვლენის_დამმუშავებელი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv428esp_event_handler_unregister16esp_event_base_t7int32_t19esp_event_handler_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>სისტემის მოვლენების ციკლში დამმუშავებლის რეგისტრაციის გაუქმება. </p>
<p>ეს ფუნქცია შეიძლება გამოყენებულ იქნას დამმუშავებლის რეგისტრაციის გასაუქმებლად, რათა ის აღარ გამოიძახონ გაგზავნის დროს. დამმუშავებლების რეგისტრაცია შესაძლებელია შემდეგი შემთხვევებისთვის: (1) კონკრეტული მოვლენებისთვის, (2) გარკვეული მოვლენების ბაზის ყველა მოვლენისთვის, ან (3) სისტემის მოვლენების ციკლისთვის ცნობილი ყველა მოვლენისთვის.</p>
<p><ul class="simple">
<li>კონკრეტული მოვლენები: მიუთითეთ ზუსტი event_base და event_id</li>
<li>გარკვეული ბაზის ყველა მოვლენა: მიუთითეთ ზუსტი event_base და გამოიყენეთ ESP_EVENT_ANY_ID როგორც event_id.</li>
<li>ციკლის მიერ ცნობილი ყველა მოვლენა: გამოიყენეთ ESP_EVENT_ANY_BASE event_base-ისთვის და ESP_EVENT_ANY_ID როგორც event_id.</li>
</ul>
</p>
<p>ეს ფუნქცია უგულებელყოფს იმ დამმუშავებლების რეგისტრაციის გაუქმებას, რომლებიც ადრე არ იყო რეგისტრირებული.</p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd>ESP_OK success </dd>
<dt><strong>დაბრუნება</strong></dt>
<dd>ESP_ERR_INVALID_ARG invalid combination of event base and event id </dd>
<dt><strong>დაბრუნება</strong></dt>
<dd>others fail </dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის საფუძველი, საიდანაც უნდა გაუქმდეს დამმუშავებლის რეგისტრაცია </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომლითაც უნდა გაუქმდეს დამმუშავებლის რეგისტრაცია </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler</span></code>: რეგისტრაციის გასაუქმებელი დამმუშავებელი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv433esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t">
<span id="_CPPv333esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t"></span><span id="_CPPv233esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t"></span><span id="esp_event_handler_unregister_with__esp_event_loop_handle_t.esp_event_base_t.int32_t.esp_event_handler_t"></span><span class="target" id="esp__event_8h_1a63e9705c5d649d73f5e255dac761bc5c"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_handler_unregister_with</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> <em>მოვლენის_ციკლი</em>, <a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, <a class="reference internal" href="esp_event.html#_CPPv419esp_event_handler_t" title="esp_event_handler_t">esp_event_handler_t</a> <em>მოვლენის_დამმუშავებელი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv433esp_event_handler_unregister_with23esp_event_loop_handle_t16esp_event_base_t7int32_t19esp_event_handler_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>სისტემის მოვლენების ციკლში დამმუშავებლის რეგისტრაციის გაუქმება. </p>
<p>ეს ფუნქცია იქცევა ისევე, როგორც esp_event_handler_unregister, გარდა იმ მოვლენის ციკლის დამატებითი სპეციფიკაციისა, რომლითაც უნდა გაუქმდეს დამმუშავებლის რეგისტრაცია.</p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_INVALID_ARG: მოვლენის ბაზის და მოვლენის ID-ის არასწორი კომბინაცია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: მოვლენის ციკლი, რომლითაც უნდა გაუქმდეს ამ დამმუშავებლის ფუნქციის რეგისტრაცია </li>
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის საფუძველი, საიდანაც უნდა გაუქმდეს დამმუშავებლის რეგისტრაცია </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომლითაც უნდა გაუქმდეს დამმუშავებლის რეგისტრაცია </li>
<li><code class="docutils literal notranslate"><span class="pre">event_handler</span></code>: რეგისტრაციის გასაუქმებელი დამმუშავებელი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv414esp_event_post16esp_event_base_t7int32_tPv6size_t10TickType_t">
<span id="_CPPv314esp_event_post16esp_event_base_t7int32_tPv6size_t10TickType_t"></span><span id="_CPPv214esp_event_post16esp_event_base_t7int32_tPv6size_t10TickType_t"></span><span id="esp_event_post__esp_event_base_t.int32_t.voidP.s.TickType_t"></span><span class="target" id="esp__event_8h_1aec4a8ab13c85a59b296e6c5b10971a2f"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_post</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, void *<em>მოვლენის_მონაცემები</em>, size_t <em>მოვლენის_მონაცემების_ზომა</em>, TickType_t <em>ლოდინის დრო</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv414esp_event_post16esp_event_base_t7int32_tPv6size_t10TickType_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>აქვეყნებს მოვლენას სისტემის ნაგულისხმევ მოვლენათა ციკლში. მოვლენათა ციკლის ბიბლიოთეკა ინახავს event_data-ს ასლს და ავტომატურად მართავს ასლის სიცოცხლის ხანგრძლივობას (გამოყოფა + წაშლა); ეს უზრუნველყოფს, რომ დამმუშავებლის მიერ მიღებული მონაცემები ყოველთვის სწორი იყოს. </p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_TIMEOUT: ღონისძიებების რიგის განბლოკვის მოლოდინის დრო ამოიწურა, რიგი სავსეა ISR-დან გამოქვეყნებისას</li>
<li>ESP_ERR_INVALID_ARG: მოვლენის ბაზის და მოვლენის ID-ის არასწორი კომბინაცია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის ბაზა, რომელიც განსაზღვრავს მოვლენას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომელიც განსაზღვრავს მოვლენას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_data</span></code>: მოვლენის შემთხვევისთვის სპეციფიკური მონაცემები, რომლებიც გადაეცემა დამმუშავებელს. </li>
<li><code class="docutils literal notranslate"><span class="pre">event_data_size</span></code>: მოვლენის მონაცემების ზომა </li>
<li><code class="docutils literal notranslate"><span class="pre">ticks_to_wait</span></code>: სრულ ღონისძიებათა რიგში დასაბლოკი ტიკების რაოდენობა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv417esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t">
<span id="_CPPv317esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t"></span><span id="_CPPv217esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t"></span><span id="esp_event_post_to__esp_event_loop_handle_t.esp_event_base_t.int32_t.voidP.s.TickType_t"></span><span class="target" id="esp__event_8h_1af5847dd2e34d19ad24f6a3f606e35e67"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_post_to</code><span class="sig-paren">(</span><a class="reference internal" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="esp_event_loop_handle_t">esp_event_loop_handle_t</a> <em>მოვლენის_ციკლი</em>, <a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> <em>ღონისძიების_ბაზა</em>, int32_t <em>მოვლენის_იდენტიფიკატორი</em>, void *<em>მოვლენის_მონაცემები</em>, size_t <em>მოვლენის_მონაცემების_ზომა</em>, TickType_t <em>ლოდინის დრო</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv417esp_event_post_to23esp_event_loop_handle_t16esp_event_base_t7int32_tPv6size_t10TickType_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>აქვეყნებს მოვლენას მითითებულ მოვლენათა ციკლში. მოვლენათა ციკლის ბიბლიოთეკა ინახავს event_data-ს ასლს და ავტომატურად მართავს ასლის სიცოცხლის ხანგრძლივობას (გამოყოფა + წაშლა); ეს უზრუნველყოფს, რომ დამმუშავებლის მიერ მიღებული მონაცემები ყოველთვის სწორი იყოს. </p>
<p>ეს ფუნქცია იქცევა ისევე, როგორც esp_event_post_to, გარდა იმ მოვლენის ციკლის დამატებითი სპეციფიკაციისა, რომელშიც უნდა განთავსდეს მოვლენა.</p>
<p><dl class="docutils">
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_TIMEOUT: ღონისძიებების რიგის განბლოკვის მოლოდინის დრო ამოიწურა, რიგი სავსეა ISR-დან გამოქვეყნებისას</li>
<li>ESP_ERR_INVALID_ARG: მოვლენის ბაზის და მოვლენის ID-ის არასწორი კომბინაცია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">event_loop</span></code>: გამოქვეყნების მოვლენათა ციკლი </li>
<li><code class="docutils literal notranslate"><span class="pre">event_base</span></code>: მოვლენის ბაზა, რომელიც განსაზღვრავს მოვლენას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_id</span></code>: მოვლენის ID, რომელიც განსაზღვრავს მოვლენას </li>
<li><code class="docutils literal notranslate"><span class="pre">event_data</span></code>: მოვლენის შემთხვევისთვის სპეციფიკური მონაცემები, რომლებიც გადაეცემა დამმუშავებელს. </li>
<li><code class="docutils literal notranslate"><span class="pre">event_data_size</span></code>: მოვლენის მონაცემების ზომა </li>
<li><code class="docutils literal notranslate"><span class="pre">ticks_to_wait</span></code>: სრულ ღონისძიებათა რიგში დასაბლოკი ტიკების რაოდენობა</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
<dl class="function">
<dt id="_CPPv414esp_event_dumpP4FILE">
<span id="_CPPv314esp_event_dumpP4FILE"></span><span id="_CPPv214esp_event_dumpP4FILE"></span><span id="esp_event_dump__FILEP"></span><span class="target" id="esp__event_8h_1aece9cc703d28ae3f42775677d15bee7e"></span><a class="reference internal" href="esp_err.html#_CPPv49esp_err_t" title="esp_err_t">esp_err_t</a> <code class="descname">esp_event_dump</code><span class="sig-paren">(</span>FILE *<em>ფაილი</em><span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv414esp_event_dumpP4FILE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ყველა მოვლენის ციკლის სტატისტიკას ინახავს. </p>
<p>მოვლენების ციკლის ინფორმაციას ატვირთავს შემდეგ ფორმატში:</p>
<p><div class="highlight-default notranslate"><div class="highlight"><pre><span></span>      <span class="n">event</span> <span class="n">loop</span>
          <span class="n">handler</span>
          <span class="n">handler</span>
          <span class="o">...</span>
      <span class="n">event</span> <span class="n">loop</span>
          <span class="n">handler</span>
          <span class="n">handler</span>
          <span class="o">...</span>

 <span class="n">where</span><span class="p">:</span>

  <span class="n">event</span> <span class="n">loop</span>
      <span class="nb">format</span><span class="p">:</span> <span class="n">address</span><span class="p">,</span><span class="n">name</span> <span class="n">rx</span><span class="p">:</span><span class="n">total_recieved</span> <span class="n">dr</span><span class="p">:</span><span class="n">total_dropped</span>
      <span class="n">where</span><span class="p">:</span>
          <span class="n">address</span> <span class="o">-</span> <span class="n">memory</span> <span class="n">address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">event</span> <span class="n">loop</span>
          <span class="n">name</span> <span class="o">-</span> <span class="n">name</span> <span class="n">of</span> <span class="n">the</span> <span class="n">event</span> <span class="n">loop</span><span class="p">,</span> <span class="s1">'none'</span> <span class="k">if</span> <span class="n">no</span> <span class="n">dedicated</span> <span class="n">task</span>
          <span class="n">total_recieved</span> <span class="o">-</span> <span class="n">number</span> <span class="n">of</span> <span class="n">successfully</span> <span class="n">posted</span> <span class="n">events</span>
          <span class="n">total_dropped</span> <span class="o">-</span> <span class="n">number</span> <span class="n">of</span> <span class="n">events</span> <span class="n">unsuccessfully</span> <span class="n">posted</span> <span class="n">due</span> <span class="n">to</span> <span class="n">queue</span> <span class="n">being</span> <span class="n">full</span>

  <span class="n">handler</span>
      <span class="nb">format</span><span class="p">:</span> <span class="n">address</span> <span class="n">ev</span><span class="p">:</span><span class="n">base</span><span class="p">,</span><span class="nb">id</span> <span class="n">inv</span><span class="p">:</span><span class="n">total_invoked</span> <span class="n">run</span><span class="p">:</span><span class="n">total_runtime</span>
      <span class="n">where</span><span class="p">:</span>
          <span class="n">address</span> <span class="o">-</span> <span class="n">address</span> <span class="n">of</span> <span class="n">the</span> <span class="n">handler</span> <span class="n">function</span>
          <span class="n">base</span><span class="p">,</span><span class="nb">id</span> <span class="o">-</span> <span class="n">the</span> <span class="n">event</span> <span class="n">specified</span> <span class="n">by</span> <span class="n">event</span> <span class="n">base</span> <span class="ow">and</span> <span class="nb">id</span> <span class="n">this</span> <span class="n">handler</span> <span class="n">executes</span>
          <span class="n">total_invoked</span> <span class="o">-</span> <span class="n">number</span> <span class="n">of</span> <span class="n">times</span> <span class="n">this</span> <span class="n">handler</span> <span class="n">has</span> <span class="n">been</span> <span class="n">invoked</span>
          <span class="n">total_runtime</span> <span class="o">-</span> <span class="n">total</span> <span class="n">amount</span> <span class="n">of</span> <span class="n">time</span> <span class="n">used</span> <span class="k">for</span> <span class="n">invoking</span> <span class="n">this</span> <span class="n">handler</span>
</pre></div>
</div>
</p>
<p><dl class="docutils">
<dt><strong>შენიშვნა</strong></dt>
<dd>this function is a noop when CONFIG_ESP_EVENT_LOOP_PROFILING is disabled</dd>
<dt><strong>დაბრუნება</strong></dt>
<dd><ul class="simple">
<li>ESP_OK: წარმატება</li>
<li>ESP_ERR_NO_MEM: მოვლენების ციკლების სიისთვის მეხსიერების გამოყოფა შეუძლებელია</li>
<li>სხვები: წარუმატებლობა </li>
</ul>
</dd>
<dt><strong>პარამეტრები</strong></dt>
<dd><ul class="breatheparameterlist first last simple">
<li><code class="docutils literal notranslate"><span class="pre">file</span></code>: გამოსატანი ფაილის ნაკადი</li>
</ul>
</dd>
</dl>
</p>
</dd></dl>
</div>
<div class="section" id="structures">
<h3>სტრუქტურები<a class="headerlink" href="esp_event.html#structures" title="Permalink to this headline">¶</a></h3>
<dl class="class">
<dt id="_CPPv421esp_event_loop_args_t">
<span id="_CPPv321esp_event_loop_args_t"></span><span id="_CPPv221esp_event_loop_args_t"></span><span id="esp_event_loop_args_t"></span><span class="target" id="structesp__event__loop__args__t"></span><em class="property">სტრუქტურა </em><code class="descname">esp_event_loop_args_t</code><a class="headerlink" href="esp_event.html#_CPPv421esp_event_loop_args_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>კონფიგურაცია მოვლენების ციკლების შესაქმნელად. </p>
<div class="breathe-sectiondef docutils container">
<p class="breathe-sectiondef-title rubric">საჯარო წევრები</p>
<dl class="member">
<dt id="_CPPv4N21esp_event_loop_args_t10queue_sizeE">
<span id="_CPPv3N21esp_event_loop_args_t10queue_sizeE"></span><span id="_CPPv2N21esp_event_loop_args_t10queue_sizeE"></span><span id="esp_event_loop_args_t::queue_size__int32_t"></span><span class="target" id="structesp__event__loop__args__t_1a0e7ad4ca0cb4274e852e95f9ad033ecf"></span>int32_t <code class="descname">queue_size</code><a class="headerlink" href="esp_event.html#_CPPv4N21esp_event_loop_args_t10queue_sizeE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მოვლენების ციკლის რიგის ზომა </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_event_loop_args_t9task_nameE">
<span id="_CPPv3N21esp_event_loop_args_t9task_nameE"></span><span id="_CPPv2N21esp_event_loop_args_t9task_nameE"></span><span id="esp_event_loop_args_t::task_name__cCP"></span><span class="target" id="structesp__event__loop__args__t_1a897f1bd2a140a6f6bf56e7921b3828b2"></span><em class="property">კონსტ</em> char *<code class="descname">task_name</code><a class="headerlink" href="esp_event.html#_CPPv4N21esp_event_loop_args_t9task_nameE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მოვლენის ციკლის დავალების სახელი; თუ NULL, მოვლენის ციკლისთვის სპეციალური დავალება არ იქმნება. </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_event_loop_args_t13task_priorityE">
<span id="_CPPv3N21esp_event_loop_args_t13task_priorityE"></span><span id="_CPPv2N21esp_event_loop_args_t13task_priorityE"></span><span id="esp_event_loop_args_t::task_priority__UBaseType_t"></span><span class="target" id="structesp__event__loop__args__t_1a7c2def310a9c60ba16e057e79c714220"></span>UBaseType_t <code class="descname">task_priority</code><a class="headerlink" href="esp_event.html#_CPPv4N21esp_event_loop_args_t13task_priorityE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მოვლენის ციკლის დავალების პრიორიტეტი, იგნორირებულია, თუ დავალების სახელი არის NULL. </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_event_loop_args_t15task_stack_sizeE">
<span id="_CPPv3N21esp_event_loop_args_t15task_stack_sizeE"></span><span id="_CPPv2N21esp_event_loop_args_t15task_stack_sizeE"></span><span id="esp_event_loop_args_t::task_stack_size__uint32_t"></span><span class="target" id="structesp__event__loop__args__t_1af89feaf0d34a918395f3cbec41292bdb"></span>uint32_t <code class="descname">task_stack_size</code><a class="headerlink" href="esp_event.html#_CPPv4N21esp_event_loop_args_t15task_stack_sizeE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>მოვლენის ციკლის დავალების დასტის ზომა, იგნორირებულია, თუ დავალების სახელი არის NULL </p>
</dd></dl>
<dl class="member">
<dt id="_CPPv4N21esp_event_loop_args_t12task_core_idE">
<span id="_CPPv3N21esp_event_loop_args_t12task_core_idE"></span><span id="_CPPv2N21esp_event_loop_args_t12task_core_idE"></span><span id="esp_event_loop_args_t::task_core_id__BaseType_t"></span><span class="target" id="structesp__event__loop__args__t_1a8d6163a8d207608d340d49e1c99e25ba"></span>BaseType_t <code class="descname">task_core_id</code><a class="headerlink" href="esp_event.html#_CPPv4N21esp_event_loop_args_t12task_core_idE" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ბირთვი, რომელზეც მიმაგრებულია მოვლენის ციკლის დავალება, იგნორირებულია, თუ დავალების სახელი NULL-ია. </p>
</dd></dl>
</div>
</dd></dl>
</div>
<div class="section" id="id1">
<h3>სათაურის ფაილი<a class="headerlink" href="esp_event.html#id1" title="Permalink to this headline">¶</a></h3>
<ul class="simple">
<li><a class="reference external" href="https://github.com/espressif/esp-idf/blob/f91080637/components/esp_event/include/esp_event_base.h">esp_event/include/esp_event_base.h</a></li>
</ul>
</div>
<div class="section" id="macros">
<h3>მაკროები<a class="headerlink" href="esp_event.html#macros" title="Permalink to this headline">¶</a></h3>
<dl class="macro">
<dt id="c.ESP_EVENT_DECLARE_BASE">
<span class="target" id="esp__event__base_8h_1a3cc3b4ab5605e061e27c6ebf51dd21e0"></span><code class="descname">ESP_EVENT_DECLARE_BASE</code><span class="sig-paren">(</span>id<span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#c.ESP_EVENT_DECLARE_BASE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="macro">
<dt id="c.ESP_EVENT_DEFINE_BASE">
<span class="target" id="esp__event__base_8h_1a976a60f8c28c34c3e308ec98a9e3111b"></span><code class="descname">ESP_EVENT_DEFINE_BASE</code><span class="sig-paren">(</span>id<span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#c.ESP_EVENT_DEFINE_BASE" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>
<dl class="macro">
<dt id="c.ESP_EVENT_ANY_BASE">
<span class="target" id="esp__event__base_8h_1a93b223577987eb92ba7e5e3e36e1d648"></span><code class="descname">ESP_EVENT_ANY_BASE</code><a class="headerlink" href="esp_event.html#c.ESP_EVENT_ANY_BASE" title="Permalink to this definition">¶</a></dt>
<dd><p>ნებისმიერი ღონისძიების ბაზის დამმუშავებლის რეგისტრაცია </p>
</dd></dl>
<dl class="macro">
<dt id="c.ESP_EVENT_ANY_ID">
<span class="target" id="esp__event__base_8h_1a583ac03c4483940dced94ce86fc3b70a"></span><code class="descname">ESP_EVENT_ANY_ID</code><a class="headerlink" href="esp_event.html#c.ESP_EVENT_ANY_ID" title="Permalink to this definition">¶</a></dt>
<dd><p>ნებისმიერი მოვლენის ID-ის დამმუშავებლის რეგისტრაცია </p>
</dd></dl>
</div>
<div class="section" id="type-definitions">
<h3>ტიპის განმარტებები<a class="headerlink" href="esp_event.html#type-definitions" title="Permalink to this headline">¶</a></h3>
<dl class="type">
<dt id="_CPPv416esp_event_base_t">
<span id="_CPPv316esp_event_base_t"></span><span id="_CPPv216esp_event_base_t"></span><span id="esp_event_base_t"></span><span class="target" id="esp__event__base_8h_1a4e776a2d890806fb130046f4fd03ba47"></span><em class="property">typedef </em><em class="property">კონსტ</em> char *<code class="descname">esp_event_base_t</code><a class="headerlink" href="esp_event.html#_CPPv416esp_event_base_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>უნიკალური მაჩვენებელი ქვესისტემაზე, რომელიც მოვლენებს ავლენს </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv423esp_event_loop_handle_t">
<span id="_CPPv323esp_event_loop_handle_t"></span><span id="_CPPv223esp_event_loop_handle_t"></span><span id="esp_event_loop_handle_t"></span><span class="target" id="esp__event__base_8h_1a0af1d504604f9ad0b80014611ea3d14e"></span><em class="property">typedef </em>void *<code class="descname">esp_event_loop_handle_t</code><a class="headerlink" href="esp_event.html#_CPPv423esp_event_loop_handle_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>რიცხვი, რომელიც განსაზღვრავს მოვლენას ბაზასთან მიმართებაში </p>
</dd></dl>
<dl class="type">
<dt id="_CPPv419esp_event_handler_t">
<span id="_CPPv319esp_event_handler_t"></span><span id="_CPPv219esp_event_handler_t"></span><span id="esp_event_handler_t"></span><span class="target" id="esp__event__base_8h_1a2d47ebb500566ce43f9593ff0585c5c9"></span><em class="property">typedef </em>void (*<code class="descname">esp_event_handler_t</code>)<span class="sig-paren">(</span>void *event_handler_arg, <a class="reference internal" href="esp_event.html#_CPPv416esp_event_base_t" title="esp_event_base_t">esp_event_base_t</a> event_base, int32_t event_id, void *event_data<span class="sig-paren">)</span><a class="headerlink" href="esp_event.html#_CPPv419esp_event_handler_t" title="Permalink to this definition">¶</a><br/></dt>
<dd><p>ფუნქცია, რომელიც გამოიძახება, როდესაც მოვლენა რიგში იდება </p>
</dd></dl>
</div>
</div>
<div class="section" id="related-documents">
<h2>დაკავშირებული დოკუმენტები<a class="headerlink" href="esp_event.html#related-documents" title="Permalink to this headline">¶</a></h2>
<div class="toctree-wrapper compound">
<ul>
<li class="toctree-l1"><a class="reference internal" href="esp_event_legacy.html">მემკვიდრეობითი მოვლენის ციკლის API მითითება</a></li>
</ul>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="esp_event_legacy.html" rel="next" title="Legacy event loop">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="esp_pthread.html" rel="prev" title="ESP-pthread"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>