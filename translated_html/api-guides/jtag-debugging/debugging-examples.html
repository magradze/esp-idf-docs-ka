
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>გამართვის მაგალითები — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js" type="text/javascript"></script>
<script src="../../_static/jquery.js" type="text/javascript"></script>
<script src="../../_static/underscore.js" type="text/javascript"></script>
<script src="../../_static/doctools.js" type="text/javascript"></script>
<script src="../../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../../_static/js/theme.js" type="text/javascript"></script>
<link href="../../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../../about.html" rel="author" title="About these documents"/>
<link href="../../genindex.html" rel="index" title="Index"/>
<link href="../../search.html" rel="search" title="Search"/>
<link href="tips-and-quirks.html" rel="next" title="Tips and Quirks"/>
<link href="using-debugger.html" rel="prev" title="Using Debugger"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-guides/jtag-debugging/debugging-examples.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-guides/jtag-debugging/debugging-examples"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-guides/jtag-debugging/debugging-examples.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../api-reference/index.html">API მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">API სახელმძღვანელოები</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../app_trace.html">აპლიკაციის დონის ტრასირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../blufi.html">BluFi</a></li>
<li class="toctree-l2"><a class="reference internal" href="../bootloader.html">ჩატვირთვის სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-system.html">სისტემის შექმნა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../build-system-legacy.html">სისტემის შექმნა (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../console.html">კონსოლის კომპონენტი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../deep-sleep-stub.html">ღრმა ძილის გაღვიძების სტატიები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../error-handling.html">შეცდომების დამუშავება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../esp-ble-mesh/ble-mesh-index.html">ESP-BLE-MESH</a></li>
<li class="toctree-l2"><a class="reference internal" href="../mesh.html">ESP-MESH ( Wi-Fi )</a></li>
<li class="toctree-l2"><a class="reference internal" href="../core_dump.html">ESP32 ბირთვის ნაგავსაყრელი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../event-handling.html">მოვლენების დამუშავება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../external-ram.html">გარე SPI-თან დაკავშირებული ოპერატიული მეხსიერება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../fatal-errors.html">ფატალური შეცდომები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/flash-encryption.html">ფლეშ დაშიფვრა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../freertos-smp.html">უფასო RTOS SMP ცვლილებები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general-notes.html">ზოგადი შენიშვნები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../hlinterrupts.html">მაღალი დონის შეფერხებები</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">JTAG-ის გამართვა</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="index.html#introduction">შესავალი</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#how-it-works">როგორ მუშაობს?</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#selecting-jtag-adapter">JTAG ადაპტერის შერჩევა</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#setup-of-openocd">OpenOCD-ის დაყენება</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#configuring-esp32-target">ESP32 Target-ის კონფიგურაცია</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#launching-debugger">დებაგერის გაშვება</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#debugging-examples">გამართვის მაგალითები</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#building-openocd-from-sources">OpenOCD-ის შექმნა წყაროებიდან</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#tips-and-quirks">რჩევები და უცნაურობები</a></li>
<li class="toctree-l3 current"><a class="reference internal" href="index.html#related-documents">დაკავშირებული დოკუმენტები</a><ul class="current">
<li class="toctree-l4"><a class="reference internal" href="using-debugger.html">დებაგერის გამოყენება</a></li>
<li class="toctree-l4 current"><a class="current reference internal" href="debugging-examples.html#">გამართვის მაგალითები</a></li>
<li class="toctree-l4"><a class="reference internal" href="tips-and-quirks.html">რჩევები და უცნაურობები</a></li>
<li class="toctree-l4"><a class="reference internal" href="../app_trace.html">აპლიკაციის დონის ტრასირების ბიბლიოთეკა</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../linker-script-generation.html">ლინკერის სკრიპტის გენერირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../lwip.html">lwIP TCP/IP სტეკი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../partition-tables.html">დანაყოფის ცხრილები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../RF_calibration.html">რადიოსიხშირული კალიბრაცია</a></li>
<li class="toctree-l2"><a class="reference internal" href="../romconsole.html">ROM გამართვა კონსოლი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../security/secure-boot.html">უსაფრთხო ჩატვირთვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="../thread-local-storage.html">ძაფების ლოკალური საცავი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tools/index.html">ხელსაწყოები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ulp.html">ULP კოპროცესორი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../ulp-legacy.html">ULP კოპროცესორი (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unit-tests-legacy.html">ერთეულის ტესტირება (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../unit-tests.html">ერთეულის ტესტირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="../wifi.html">WiFi დრაივერი</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../../index.html">დოკუმენტები</a> »</li>
<li><a href="../index.html">API სახელმძღვანელოები</a> »</li>
<li><a href="index.html">JTAG-ის გამართვა</a> »</li>
<li>გამართვის მაგალითები</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-guides/jtag-debugging/debugging-examples.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="debugging-examples">
<h1>გამართვის მაგალითები<a class="headerlink" href="debugging-examples.html#debugging-examples" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/api-guides/jtag-debugging/debugging-examples.html">[中文]</a></p>
<p>ეს განყოფილება აღწერს გამართვა გინგი GDB-ით <a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse"><span class="std std-ref">დაბნელება</span></a> ასევე <a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line"><span class="std std-ref">ბრძანების ხაზი</span></a>.</p>
<div class="section" id="eclipse">
<span id="jtag-debugging-examples-eclipse"></span><h2>დაბნელება<a class="headerlink" href="debugging-examples.html#eclipse" title="Permalink to this headline">¶</a></h2>
<p>შეამოწმეთ, მზადაა თუ არა თქვენი სამიზნე და დატვირთულია თუ არა <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/get-started/blink">დაწყება/თვალის დახამხამება</a> მაგალითი. კონფიგურაცია და გაშვება გამართვა ger-ის შემდეგ, განყოფილებაში მოცემული ნაბიჯების მიხედვით <a class="reference internal" href="using-debugger.html#jtag-debugging-using-debugger-eclipse"><span class="std std-ref">დაბნელება</span></a>. აიღეთ იქიდან, სადაც გამართვა ger-მა დატოვა სამიზნე, ანუ აპლიკაციის გაჩერება დადგენილ შესვენების წერტილზე <code class="docutils literal notranslate"><span class="pre">app_main()</span></code>.</p>
<div class="align-center figure" id="id8">
<img alt="Debug Perspective in Eclipse" src="../../_images/debug-perspective.jpg"/>
<p class="caption"><span class="caption-text">გამართვის პერსპექტივა Eclipse-ში</span></p>
</div>
<div class="section" id="examples-in-this-section">
<h3>მაგალითები ამ განყოფილებაში<a class="headerlink" href="debugging-examples.html#examples-in-this-section" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-01"><span class="std std-ref">კოდში, გამოძახების დასტასა და ძაფებში ნავიგაცია</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-02"><span class="std std-ref">წყვეტის წერტილების დაყენება და გასუფთავება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-03"><span class="std std-ref">სამიზნის ხელით გაჩერება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-04"><span class="std std-ref">კოდის გაცნობა</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-05"><span class="std std-ref">მეხსიერების შემოწმება და დაყენება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-06"><span class="std std-ref">პროგრამის ცვლადების ყურება და დაყენება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse-07"><span class="std std-ref">პირობითი შესვენების წერტილების დაყენება</span></a></li>
</ol>
</div>
<div class="section" id="navigating-through-the-code-call-stack-and-threads">
<span id="jtag-debugging-examples-eclipse-01"></span><h3>კოდში, გამოძახების დასტასა და ძაფებში ნავიგაცია<a class="headerlink" href="debugging-examples.html#navigating-through-the-code-call-stack-and-threads" title="Permalink to this headline">¶</a></h3>
<p>როდესაც სამიზნე გაჩერებულია, გამართვა ger აჩვენებს ნაკადების სიას „Debug“ ფანჯარაში. კოდის ის ხაზი, სადაც პროგრამა გაჩერებულია, მონიშნულია ქვემოთ მოცემულ სხვა ფანჯარაში, როგორც ეს ნაჩვენებია შემდეგ სურათზე. LED წყვეტს ციმციმს.</p>
<div class="align-center figure" id="id9">
<img alt="Target halted during debugging" src="../../_images/debugging-target-halted.jpg"/>
<p class="caption"><span class="caption-text">სამიზნე შეჩერდა გამართვა ტერმინალის განმავლობაში</span></p>
</div>
<p>კონკრეტული ძაფი, სადაც პროგრამა გაჩერდა, გაფართოებულია და აჩვენებს გამოძახების დასტას. ის წარმოადგენს ფუნქციების გამოძახებებს, რომლებიც მიდის კოდის მონიშნულ ხაზამდე, სადაც სამიზნე გაჩერდა. #1 ძაფის ქვეშ გამოძახების დასტის პირველი ხაზი შეიცავს ბოლოს გამოძახებულ ფუნქციას. <code class="docutils literal notranslate"><span class="pre">app_main()</span></code>, რომელიც თავის მხრივ გამოიძახეს ფუნქციიდან <code class="docutils literal notranslate"><span class="pre">main_task()</span></code> ნაჩვენებია ქვემოთ მოცემულ ხაზზე. დასტის თითოეული ხაზი ასევე შეიცავს ფაილის სახელს და ხაზის ნომერს, სადაც ფუნქცია გამოიძახეს. დასტის ჩანაწერებზე დაწკაპუნებით/მონიშვნით, ქვემოთ მოცემულ ფანჯარაში, თქვენ ნახავთ ამ ფაილის შინაარსს.</p>
<p>თემების გაფართოებით შეგიძლიათ აპლიკაციაში ნავიგაცია. გააფართოვეთ თემა #5, რომელიც გაცილებით გრძელ გამოძახებების დასტას შეიცავს. ფუნქციების გამოძახებების გარდა, იქ ნახავთ ისეთ რიცხვებს, როგორიცაა <code class="docutils literal notranslate"><span class="pre">0x4000000c</span></code>ისინი წარმოადგენენ ორობითი კოდის მისამართებს, რომლებიც არ არის მოცემული წყაროს ფორმაში.</p>
<div class="align-center figure" id="id10">
<img alt="Navigate through the call stack" src="../../_images/debugging-navigate-through-the-stack.jpg"/>
<p class="caption"><span class="caption-text">ნავიგაცია ზარების დასტაში</span></p>
</div>
<p>მარჯვნივ მდებარე სხვა ფანჯარაში შეგიძლიათ ნახოთ დაშლილი მანქანის კოდი, მიუხედავად იმისა, თქვენი პროექტი მას წყაროს სახით იძლევა თუ მხოლოდ ორობითი სახით.</p>
<p>დაბრუნდით <code class="docutils literal notranslate"><span class="pre">app_main()</span></code> თემა #1-ში ნაცნობ კოდზე <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> ფაილი, რომელიც უფრო დეტალურად იქნება განხილული შემდეგ მაგალითებში. Debugger აადვილებს მთელი აპლიკაციის კოდში ნავიგაციას. ეს სასარგებლოა კოდის ეტაპობრივი დათვალიერებისას და შესვენების წერტილებთან მუშაობისას და განხილული იქნება ქვემოთ.</p>
</div>
<div class="section" id="setting-and-clearing-breakpoints">
<span id="jtag-debugging-examples-eclipse-02"></span><h3>წყვეტის წერტილების დაყენება და გასუფთავება<a class="headerlink" href="debugging-examples.html#setting-and-clearing-breakpoints" title="Permalink to this headline">¶</a></h3>
<p>გამართვა გინგირებისას, ჩვენ გვსურს შევძლოთ აპლიკაციის გაჩერება კოდის კრიტიკულ ხაზებზე და შემდეგ შევისწავლოთ კონკრეტული ცვლადების, მეხსიერების და რეგისტრების/პერიფერიული მოწყობილობების მდგომარეობა. ამისათვის ჩვენ ვიყენებთ შესვენების წერტილებს. ისინი უზრუნველყოფენ მოსახერხებელ გზას აპლიკაციის კონკრეტულ ხაზზე სწრაფად მოსახვედრად და შესაჩერებლად.</p>
<p>მოდით, დავადგინოთ ორი წყვეტის წერტილი, როდესაც LED-ის მდგომარეობა იცვლება. ზემოთ მოცემული კოდის ჩამონათვალის მიხედვით, ეს ხდება 33-ე და 36-ე სტრიქონებზე. ამისათვის, კლავიატურაზე დააჭირეთ „Control“-ს და ორჯერ დააწკაპუნეთ რიცხვზე. <code class="docutils literal notranslate"><span class="pre">33</span></code> ფაილში <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> ფაილი. გაიხსნება დიალოგური ფანჯარა, სადაც შეგიძლიათ დაადასტუროთ თქვენი არჩევანი „OK“ ღილაკზე დაჭერით. თუ დიალოგური ფანჯრის ნახვა არ გსურთ, უბრალოდ ორჯერ დააწკაპუნეთ ხაზის ნომერზე. დააყენეთ სხვა შესვენების წერტილი 36-ე ხაზში.</p>
<div class="align-center figure" id="id11">
<img alt="Setting a breakpoint" src="../../_images/debugging-setting-breakpoint.jpg"/>
<p class="caption"><span class="caption-text">შესვენების წერტილის დაყენება</span></p>
</div>
<p>ინფორმაცია იმის შესახებ, თუ რამდენი და სად არის დაყენებული წყვეტის წერტილი, ნაჩვენებია ზედა მარჯვენა კუთხეში მდებარე ფანჯარაში „წყვეტის წერტილები“. ამ სიის განახლებისთვის დააწკაპუნეთ „არჩეული სამიზნის მიერ მხარდაჭერილი წყვეტის წერტილების ჩვენება“. ორი ახლად დაყენებული წყვეტის წერტილის გარდა, სია შეიძლება შეიცავდეს ფუნქციაში დროებით წყვეტის წერტილს. <code class="docutils literal notranslate"><span class="pre">app_main()</span></code> დადგენილია გამართვა ტერმინალის დასაწყისში. დაშვებულია მაქსიმუმ ორი შესვენების წერტილი (იხ. <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-breakpoints"><span class="std std-ref">ხელმისაწვდომია შემაკავებელი და სათვალთვალო წერტილები</span></a>), თქვენ უნდა წაშალოთ ის, წინააღმდეგ შემთხვევაში გამართვა ging ვერ იმუშავებს.</p>
<div class="align-center figure" id="id12">
<img alt="Three breakpoints are set / maximum two are allowed" src="../../_images/debugging-three-breakpoints-set.jpg"/>
<p class="caption"><span class="caption-text">დაყენებულია სამი შესვენების წერტილი / დაშვებულია მაქსიმუმ ორი</span></p>
</div>
<p>თუ ახლა დააწკაპუნებთ „განახლებაზე“ (დააწკაპუნეთ <code class="docutils literal notranslate"><span class="pre">blink_task()</span></code> „Tread #8“-ის ქვეშ, თუ „Resume“ ღილაკი ნაცრისფერია), პროცესორი გაეშვება და გაჩერდება შესვენების წერტილში. „Resume“-ზე კიდევ ერთხელ დაწკაპუნებით, პროცესორი ხელახლა გაეშვება, გაჩერდება მეორე შესვენების წერტილში და ა.შ.</p>
<p>ასევე დაინახავთ, რომ LED იცვლის მდგომარეობას პროგრამის შესრულების „განახლების“ ღილაკზე ყოველი დაწკაპუნების შემდეგ.</p>
<p>დამატებითი ინფორმაცია შესვენების წერტილების შესახებ იხილეთ ქვემოთ <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-breakpoints"><span class="std std-ref">ხელმისაწვდომია შემაკავებელი და სათვალთვალო წერტილები</span></a> და <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-where-breakpoints"><span class="std std-ref">კიდევ რა უნდა ვიცოდე შესვენების წერტილების შესახებ?</span></a></p>
</div>
<div class="section" id="halting-the-target-manually">
<span id="jtag-debugging-examples-eclipse-03"></span><h3>სამიზნის ხელით გაჩერება<a class="headerlink" href="debugging-examples.html#halting-the-target-manually" title="Permalink to this headline">¶</a></h3>
<p>გამართვა ging რეჟიმში დაბრუნებისას, შეგიძლიათ განაახლოთ აპლიკაცია და შეიყვანოთ კოდი რაიმე მოვლენის მოლოდინში ან დარჩეთ უსასრულო ციკლში, შესვენების წერტილების განსაზღვრის გარეშე. ასეთ შემთხვევაში, გამართვა ging რეჟიმში დასაბრუნებლად, შეგიძლიათ ხელით შეწყვიტოთ პროგრამის შესრულება „შეჩერების“ ღილაკზე დაჭერით.</p>
<p>შესამოწმებლად, წაშალეთ ყველა შეწყვეტის წერტილი და დააწკაპუნეთ „განახლებაზე“. შემდეგ დააწკაპუნეთ „შეჩერებაზე“. აპლიკაცია შეჩერდება შემთხვევით მომენტში და LED შეწყვეტს ციმციმს. დებაგერი გააფართოვებს ტრეიდს და გამოყოფს კოდის იმ ხაზს, სადაც აპლიკაცია შეჩერდა.</p>
<div class="align-center figure" id="id13">
<img alt="Target halted manually" src="../../_images/debugging-target-halted-manually.jpg"/>
<p class="caption"><span class="caption-text">სამიზნე ხელით შეჩერდა</span></p>
</div>
<p>ზემოთ მოცემულ კონკრეტულ შემთხვევაში, აპლიკაცია შეჩერებულია ფაილის კოდის 52-ე სტრიქონში. <code class="docutils literal notranslate"><span class="pre">freertos_hooks.c</span></code> ახლა თქვენ შეგიძლიათ კვლავ განაახლოთ ის „განახლების“ ღილაკზე დაჭერით ან შეასრულოთ გამართვა ging, როგორც ეს ქვემოთ არის განხილული.</p>
</div>
<div class="section" id="stepping-through-the-code">
<span id="jtag-debugging-examples-eclipse-04"></span><h3>კოდის გაცნობა<a class="headerlink" href="debugging-examples.html#stepping-through-the-code" title="Permalink to this headline">¶</a></h3>
<p>ასევე შესაძლებელია კოდის გადახედვა „Step Into (F5)“ და „Step Over (F6)“ ბრძანებების გამოყენებით. განსხვავება ისაა, რომ „Step Into (F5)“ ქვერუტინების გამოძახებების შეყვანას გულისხმობს, ხოლო „Step Over (F6)“ გამოძახებას გადაკვეთს და მას ერთ წყაროს ხაზად მიიჩნევს.</p>
<p>სანამ ამ ფუნქციონალურობის დემონსტრირებას შეძლებთ, წინა აბზაცში განხილული ინფორმაციის გამოყენებით, დარწმუნდით, რომ ხაზზე მხოლოდ ერთი შესვენების წერტილი გაქვთ განსაზღვრული. <code class="docutils literal notranslate"><span class="pre">36</span></code> -ის <code class="docutils literal notranslate"><span class="pre">blink.c</span></code>.</p>
<p>პროგრამა განაახლეთ F8 კლავიშის დაჭერით და გააჩერეთ. ახლა რამდენჯერმე დააჭირეთ ღილაკს „Step Over (F6)“, რათა ნახოთ, როგორ გადადის გამართვა ger პროგრამის ერთ ხაზზე ერთდროულად.</p>
<div class="align-center figure" id="id14">
<img alt='Stepping through the code with "Step Over (F6)"' src="../../_images/debugging-step-over.jpg"/>
<p class="caption"><span class="caption-text">კოდის გადახვევა „Step Over (F6)“-ის გამოყენებით</span></p>
</div>
<p>თუ ამის ნაცვლად დააჭერთ ღილაკს „Step Into (F5)“, გამართვა ger შეაღწევს ქვერუტინის გამოძახებებში.</p>
<div class="align-center figure" id="id15">
<img alt='Stepping through the code with "Step Into (F5)"' src="../../_images/debugging-step-into.jpg"/>
<p class="caption"><span class="caption-text">კოდის გავლა „Step Into (F5)“-ის გამოყენებით</span></p>
</div>
<p>ამ კონკრეტულ შემთხვევაში, გამართვა მა გერმა შიგნით შემოაღწია <code class="docutils literal notranslate"><span class="pre">gpio_set_level(BLINK_GPIO,</span> <span class="pre">0)</span></code> და ეფექტურად გადავიდა <code class="docutils literal notranslate"><span class="pre">gpio.c</span></code> მძღოლის კოდი.</p>
<p>იხილეთ <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-why-next-works-as-step"><span class="std std-ref">რატომ არ გვერდს უვლის „შემდეგი“-ს გამოყენებით ქვერუტინის გამოძახებებს?</span></a> გამოყენების შესაძლო შეზღუდვისთვის <code class="docutils literal notranslate"><span class="pre">next</span></code> ბრძანება.</p>
</div>
<div class="section" id="checking-and-setting-memory">
<span id="jtag-debugging-examples-eclipse-05"></span><h3>მეხსიერების შემოწმება და დაყენება<a class="headerlink" href="debugging-examples.html#checking-and-setting-memory" title="Permalink to this headline">¶</a></h3>
<p>მეხსიერების შიგთავსის საჩვენებლად ან დასაყენებლად გამოიყენეთ „მეხსიერება“ ჩანართი „გამართვის“ პერსპექტივის ბოლოში.</p>
<p>„მეხსიერების“ ჩანართის გამოყენებით, ჩვენ წავიკითხავთ და ჩავწერთ მეხსიერებაში არსებულ ადგილას. <code class="docutils literal notranslate"><span class="pre">0x3FF44004</span></code> მონიშნულია, როგორც <code class="docutils literal notranslate"><span class="pre">GPIO_OUT_REG</span></code> გამოიყენება ინდივიდუალური GPIO დასაყენებლად და გასასუფთავებლად. დამატებითი ინფორმაციისთვის იხილეთ <a class="reference external" href="https://espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf">ESP32 ტექნიკური საცნობარო სახელმძღვანელო</a>, თავი IO_MUX და GPIO მატრიცა.</p>
<p>ერთსა და იმავეში ყოფნა <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> პროექტი, როგორც ადრე, დააყენეთ ორი შესვენების წერტილი დაუყოვნებლივ <code class="docutils literal notranslate"><span class="pre">gpio_set_level</span></code> ინსტრუქცია. დააწკაპუნეთ ჩანართზე „მეხსიერება“ და შემდეგ ღილაკზე „მეხსიერების მონიტორის დამატება“. შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">0x3FF44004</span></code> მოწოდებულ დიალოგურ ფანჯარაში.</p>
<p>ახლა განაახლეთ პროგრამა F8 დაჭერით და დააკვირდით &amp;quot;მონიტორის&amp;quot; ჩანართს.</p>
<div class="align-center figure" id="id16">
<img alt='Observing memory location 0x3FF44004 changing one bit to ON"' src="../../_images/debugging-memory-location-on.jpg"/>
<p class="caption"><span class="caption-text">მეხსიერების მდებარეობის 0x3FF44004 დაკვირვება, რომელიც ერთი ბიტით იცვლება „ჩართულზე“</span></p>
</div>
<p>მეხსიერების ადგილას ერთი ბიტის გადაბრუნება უნდა დაინახოთ. <code class="docutils literal notranslate"><span class="pre">0x3FF44004</span></code> (და LED იცვლის მდგომარეობას) F8-ის ყოველ დაჭერაზე.</p>
<div class="align-center figure" id="id17">
<img alt='Observing memory location 0x3FF44004 changing one bit to ON"' src="../../_images/debugging-memory-location-off.jpg"/>
<p class="caption"><span class="caption-text">მეხსიერების მდებარეობის 0x3FF44004 დაკვირვება, რომელიც ერთი ბიტით იცვლება „OFF“-ზე.</span></p>
</div>
<p>მეხსიერების დასაყენებლად გამოიყენეთ იგივე „მონიტორის“ ჩანართი და მეხსიერების იგივე მდებარეობა. შეიყვანეთ ალტერნატიული ბიტური ნიმუში, როგორც ადრე აღვნიშნეთ. Enter-ზე დაჭერისთანავე დაინახავთ, რომ LED იცვლის მდგომარეობას.</p>
</div>
<div class="section" id="watching-and-setting-program-variables">
<span id="jtag-debugging-examples-eclipse-06"></span><h3>პროგრამის ცვლადების ყურება და დაყენება<a class="headerlink" href="debugging-examples.html#watching-and-setting-program-variables" title="Permalink to this headline">¶</a></h3>
<p>პროგრამის გაშვებისას პროგრამის ცვლადის მნიშვნელობის შემოწმება ერთ-ერთი გავრცელებული გამართვა . ამ ფუნქციონალურობის დემონსტრირებისთვის, განაახლეთ ფაილი. <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> გლობალური ცვლადის დეკლარაციის დამატებით <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">i</span></code> ფუნქციის ზემოთ მოცემული განმარტება <code class="docutils literal notranslate"><span class="pre">blink_task</span></code>შემდეგ დაამატეთ <code class="docutils literal notranslate"><span class="pre">i++</span></code> შიგნით <code class="docutils literal notranslate"><span class="pre">while(1)</span></code> ამ ფუნქციის მისაღებად <code class="docutils literal notranslate"><span class="pre">i</span></code> იზრდება ყოველ დახამხამებაზე.</p>
<p>გამოდით გამართვა ger-დან, რათა ის ახალ კოდში არ აგვერიოს, ააწყვეთ და ფლეშ მეხსიერება შეიყვანეთ კოდი ESP-ში და გადატვირთეთ გამართვა ger. OpenOCD-ის გადატვირთვა საჭირო არ არის.</p>
<p>აპლიკაციის შეჩერების შემდეგ, შეიყვანეთ შესვენების წერტილი იმ ხაზში, სადაც განათავსეთ <code class="docutils literal notranslate"><span class="pre">i++</span></code>.</p>
<p>შემდეგ ეტაპზე, ფანჯარაში „Breakpoints“ (გაწყვეტის წერტილები) დააწკაპუნეთ ჩანართზე „Expressions“ (გამოსახულებები). თუ ეს ჩანართი არ ჩანს, დაამატეთ იგი ზედა მენიუში Window (ფანჯარა) &amp;gt; Show View (ხედის ჩვენება) &amp;gt; Expressions (გამოსახულებების ჩვენება). შემდეგ დააწკაპუნეთ ღილაკს „Add a new expression“ (ახალი გამოსახულების დამატება) და შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">i</span></code>.</p>
<p>პროგრამის შესრულება განაახლეთ F8-ზე დაჭერით. ყოველ ჯერზე, როდესაც პროგრამა შეჩერდება, თქვენ დაინახავთ <code class="docutils literal notranslate"><span class="pre">i</span></code> ღირებულება იზრდება.</p>
<div class="align-center figure" id="id18">
<img alt='Watching program variable "i"' src="../../_images/debugging-watch-variable.jpg"/>
<p class="caption"><span class="caption-text">პროგრამის ცვლადის „i“ ყურება</span></p>
</div>
<p>შესაცვლელად <code class="docutils literal notranslate"><span class="pre">i</span></code> შეიყვანეთ ახალი რიცხვი „მნიშვნელობის“ სვეტში. „განახლების“ (F8) ღილაკზე დაჭერის შემდეგ პროგრამა გააგრძელებს ზრდას. <code class="docutils literal notranslate"><span class="pre">i</span></code> ახალი შეყვანილი ნომრიდან დაწყებული.</p>
</div>
<div class="section" id="setting-conditional-breakpoints">
<span id="jtag-debugging-examples-eclipse-07"></span><h3>პირობითი შესვენების წერტილების დაყენება<a class="headerlink" href="debugging-examples.html#setting-conditional-breakpoints" title="Permalink to this headline">¶</a></h3>
<p>აქ უფრო საინტერესო ნაწილი იწყება. თუ გარკვეული პირობა დაკმაყოფილებულია, შეგიძლიათ დააყენოთ წყვეტის წერტილი პროგრამის შესრულების შესაჩერებლად. კონტექსტური მენიუს გასახსნელად დააწკაპუნეთ წყვეტის წერტილზე მარჯვენა ღილაკით და აირჩიეთ „წყვეტის წერტილის თვისებები“. „ტიპი:“-ში არჩევანი შეცვალეთ „აპარატურა“-თი და შეიყვანეთ „პირობა:“, მაგალითად <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">==</span> <span class="pre">2</span></code>.</p>
<div class="align-center figure" id="id19">
<img alt="Setting a conditional breakpoint" src="../../_images/debugging-setting-conditional-breakpoint.jpg"/>
<p class="caption"><span class="caption-text">პირობითი შესვენების წერტილის დაყენება</span></p>
</div>
<p>თუ მიმდინარე ღირებულება <code class="docutils literal notranslate"><span class="pre">i</span></code> ნაკლებია, ვიდრე <code class="docutils literal notranslate"><span class="pre">2</span></code> (საჭიროების შემთხვევაში შეცვალეთ) და პროგრამა განახლდება, ის ციკლურად ციმციმებს LED-ს მდგომარეობამდე <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">==</span> <span class="pre">2</span></code> სიმართლეს აღწევს და შემდეგ საბოლოოდ ჩერდება.</p>
</div>
</div>
<div class="section" id="command-line">
<span id="jtag-debugging-examples-command-line"></span><h2>ბრძანების ხაზი<a class="headerlink" href="debugging-examples.html#command-line" title="Permalink to this headline">¶</a></h2>
<p>შეამოწმეთ, მზადაა თუ არა თქვენი სამიზნე და დატვირთულია თუ არა <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/get-started/blink">დაწყება/თვალის დახამხამება</a> მაგალითი. კონფიგურაცია და გაშვება გამართვა ger-ის შემდეგ, განყოფილებაში მოცემული ნაბიჯების მიხედვით <a class="reference internal" href="using-debugger.html#jtag-debugging-using-debugger-command-line"><span class="std std-ref">ბრძანების ხაზი</span></a>. აიღეთ იქიდან, სადაც გამართვა ger-მა დატოვა სამიზნე, ანუ აპლიკაციის გაჩერება დადგენილ შესვენების წერტილზე <code class="docutils literal notranslate"><span class="pre">app_main()</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>Temporary breakpoint 1, app_main () at /home/user-name/esp/blink/main/./blink.c:43
43      xTaskCreate(&amp;blink_task, "blink_task", configMINIMAL_STACK_SIZE, NULL, 5, NULL);
(gdb)
</pre></div>
</div>
<div class="section" id="id1">
<h3>მაგალითები ამ განყოფილებაში<a class="headerlink" href="debugging-examples.html#id1" title="Permalink to this headline">¶</a></h3>
<ol class="arabic simple">
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-01"><span class="std std-ref">კოდში, გამოძახების დასტასა და ძაფებში ნავიგაცია</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-02"><span class="std std-ref">წყვეტის წერტილების დაყენება და გასუფთავება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-03"><span class="std std-ref">აპლიკაციის შეჩერება და განახლება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-04"><span class="std std-ref">კოდის გაცნობა</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-05"><span class="std std-ref">მეხსიერების შემოწმება და დაყენება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-06"><span class="std std-ref">პროგრამის ცვლადების ყურება და დაყენება</span></a></li>
<li><a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-command-line-07"><span class="std std-ref">პირობითი შესვენების წერტილების დაყენება</span></a></li>
</ol>
</div>
<div class="section" id="jtag-debugging-examples-command-line-01">
<span id="id2"></span><h3>კოდში, გამოძახების დასტასა და ძაფებში ნავიგაცია<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-01" title="Permalink to this headline">¶</a></h3>
<p>როდესაც ხედავთ, <code class="docutils literal notranslate"><span class="pre">(gdb)</span></code> მოთხოვნა, აპლიკაცია შეჩერდება. LED ინდიკატორი არ უნდა ციმციმებდეს.</p>
<p>იმის გასარკვევად, თუ სად არის კოდი გაჩერებული, შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">l</span></code> ან <code class="docutils literal notranslate"><span class="pre">list</span></code>და გამართვა ger აჩვენებს კოდის რამდენიმე სტრიქონს შეჩერების წერტილის გარშემო (ფაილში კოდის 43-ე სტრიქონი) <code class="docutils literal notranslate"><span class="pre">blink.c</span></code>)</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) l
38      }
39  }
40
41  void app_main()
42  {
43      xTaskCreate(&amp;blink_task, "blink_task", configMINIMAL_STACK_SIZE, NULL, 5, NULL);
44  }
(gdb)
</pre></div>
</div>
<p>შეამოწმეთ, თუ როგორ მუშაობს კოდების ჩამონათვალი, მაგ. <code class="docutils literal notranslate"><span class="pre">l</span> <span class="pre">30,</span> <span class="pre">40</span></code> კოდის ხაზების კონკრეტული დიაპაზონის სანახავად.</p>
<p>შეგიძლიათ გამოიყენოთ <code class="docutils literal notranslate"><span class="pre">bt</span></code> ან <code class="docutils literal notranslate"><span class="pre">backtrace</span></code> იმის სანახავად, თუ რომელი ფუნქციის გამოძახებები იწვევს ამ კოდს:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) bt
#0  app_main () at /home/user-name/esp/blink/main/./blink.c:43
#1  0x400d057e in main_task (args=0x0) at /home/user-name/esp/esp-idf/components/esp32/./cpu_start.c:339
(gdb)
</pre></div>
</div>
<p>გამომავალი ხაზი #0 იძლევა ფუნქციის ბოლო გამოძახებას აპლიკაციის გაჩერებამდე, ე.ი. <code class="docutils literal notranslate"><span class="pre">app_main</span> <span class="pre">()</span></code> ჩვენ ადრე ჩამოვთვალეთ. <code class="docutils literal notranslate"><span class="pre">app_main</span> <span class="pre">()</span></code> თავის მხრივ, გამოიძახა ფუნქციამ <code class="docutils literal notranslate"><span class="pre">main_task</span></code> ფაილში განთავსებული კოდის 339-ე ხაზიდან <code class="docutils literal notranslate"><span class="pre">cpu_start.c</span></code>.</p>
<p>კონტექსტში მისასვლელად <code class="docutils literal notranslate"><span class="pre">main_task</span></code> ფაილში <code class="docutils literal notranslate"><span class="pre">cpu_start.c</span></code>, შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">frame</span>  <span class="pre">N</span></code>, სადაც N = 1, რადგან <code class="docutils literal notranslate"><span class="pre">main_task</span></code> ჩამოთვლილია #1-ის ქვეშ):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) frame 1
#1  0x400d057e in main_task (args=0x0) at /home/user-name/esp/esp-idf/components/esp32/./cpu_start.c:339
339     app_main();
(gdb)
</pre></div>
</div>
<p>შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">l</span></code> და ეს გამოავლენს კოდის იმ ნაწილს, რომელმაც გამოიძახა <code class="docutils literal notranslate"><span class="pre">app_main()</span></code> (339-ე სტრიქონში):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) l
334         ;
335     }
336 #endif
337     //Enable allocation in region where the startup stacks were located.
338     heap_caps_enable_nonos_stack_heaps();
339     app_main();
340     vTaskDelete(NULL);
341 }
342
(gdb)
</pre></div>
</div>
<p>რამდენიმე ხაზის ჩამოთვლით, თქვენ ნახავთ ფუნქციის სახელს <code class="docutils literal notranslate"><span class="pre">main_task</span></code> ჩვენ ვეძებდით:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) l 326, 341
326 static void main_task(void* args)
327 {
328     // Now that the application is about to start, disable boot watchdogs
329     REG_CLR_BIT(TIMG_WDTCONFIG0_REG(0), TIMG_WDT_FLASHBOOT_MOD_EN_S);
330     REG_CLR_BIT(RTC_CNTL_WDTCONFIG0_REG, RTC_CNTL_WDT_FLASHBOOT_MOD_EN);
331 #if !CONFIG_FREERTOS_UNICORE
332     // Wait for FreeRTOS initialization to finish on APP CPU, before replacing its startup stack
333     while (port_xSchedulerRunning[1] == 0) {
334         ;
335     }
336 #endif
337     //Enable allocation in region where the startup stacks were located.
338     heap_caps_enable_nonos_stack_heaps();
339     app_main();
340     vTaskDelete(NULL);
341 }
(gdb)
</pre></div>
</div>
<p>სხვა კოდის სანახავად, შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">threads</span></code>ეს აჩვენებს სამიზნეზე გაშვებული თემების სიას:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) i threads
  Id   Target Id         Frame
  8    Thread 1073411336 (dport) 0x400d0848 in dport_access_init_core (arg=&lt;optimized out&gt;)
    at /home/user-name/esp/esp-idf/components/esp32/./dport_access.c:170
  7    Thread 1073408744 (ipc0) xQueueGenericReceive (xQueue=0x3ffae694, pvBuffer=0x0, xTicksToWait=1644638200,
    xJustPeeking=0) at /home/user-name/esp/esp-idf/components/freertos/./queue.c:1452
  6    Thread 1073431096 (Tmr Svc) prvTimerTask (pvParameters=0x0)
    at /home/user-name/esp/esp-idf/components/freertos/./timers.c:445
  5    Thread 1073410208 (ipc1 : Running) 0x4000bfea in ?? ()
  4    Thread 1073432224 (dport) dport_access_init_core (arg=0x0)
    at /home/user-name/esp/esp-idf/components/esp32/./dport_access.c:150
  3    Thread 1073413156 (IDLE) prvIdleTask (pvParameters=0x0)
    at /home/user-name/esp/esp-idf/components/freertos/./tasks.c:3282
  2    Thread 1073413512 (IDLE) prvIdleTask (pvParameters=0x0)
    at /home/user-name/esp/esp-idf/components/freertos/./tasks.c:3282
* 1    Thread 1073411772 (main : Running) app_main () at /home/user-name/esp/blink/main/./blink.c:43
(gdb)
</pre></div>
</div>
<p>თემების სია აჩვენებს თითოეული თემატიკის ბოლო ფუნქციის გამოძახებებს C წყაროს ფაილის სახელთან ერთად, თუ ეს შესაძლებელია.</p>
<p>კონკრეტულ თემაზე გადასვლა შეგიძლიათ შეყვანით  <code class="docutils literal notranslate"><span class="pre">thread</span> <span class="pre">N</span></code>, სადაც <code class="docutils literal notranslate"><span class="pre">N</span></code> არის თემის ID. იმის სანახავად, თუ როგორ მუშაობს, გადადით მე-5 თემაზე:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) thread 5
[Switching to thread 5 (Thread 1073410208)]
#0  0x4000bfea in ?? ()
(gdb)
</pre></div>
</div>
<p>შემდეგ შეამოწმეთ უკანა ტრაექტორია:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) bt
#0  0x4000bfea in ?? ()
#1  0x40083a85 in vPortCPUReleaseMutex (mux=&lt;optimized out&gt;) at /home/user-name/esp/esp-idf/components/freertos/./port.c:415
#2  0x40083fc8 in vTaskSwitchContext () at /home/user-name/esp/esp-idf/components/freertos/./tasks.c:2846
#3  0x4008532b in _frxt_dispatch ()
#4  0x4008395c in xPortStartScheduler () at /home/user-name/esp/esp-idf/components/freertos/./port.c:222
#5  0x4000000c in ?? ()
#6  0x4000000c in ?? ()
#7  0x4000000c in ?? ()
#8  0x4000000c in ?? ()
(gdb)
</pre></div>
</div>
<p>როგორც ხედავთ, უკუკავშირი შეიძლება შეიცავდეს რამდენიმე ჩანაწერს. ეს საშუალებას მოგცემთ შეამოწმოთ, ფუნქციის გამოძახების ზუსტი რომელი თანმიმდევრობა მიგვიყვანა იმ კოდამდე, სადაც სამიზნე გაჩერდა. კითხვის ნიშნები <code class="docutils literal notranslate"><span class="pre">??</span></code> ფუნქციის სახელის ნაცვლად მიუთითებს, რომ აპლიკაცია ხელმისაწვდომია მხოლოდ ორობით ფორმატში, C ენაზე არსებული წყაროს ფაილის გარეშე. მნიშვნელობა, როგორიცაა <code class="docutils literal notranslate"><span class="pre">0x4000bfea</span></code> არის ფუნქციის გამოძახების მეხსიერების მისამართი.</p>
<p>გამოყენება <code class="docutils literal notranslate"><span class="pre">bt</span></code>, <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">threads</span></code>, <code class="docutils literal notranslate"><span class="pre">thread</span> <span class="pre">N</span></code> და <code class="docutils literal notranslate"><span class="pre">list</span></code> ბრძანებების გამოყენებით, ახლა უკვე შეგვიძლია მთელი აპლიკაციის კოდში ნავიგაცია. ეს სასარგებლოა კოდის ეტაპობრივად გაცნობისა და შესვენების წერტილებთან მუშაობისას და ქვემოთ იქნება განხილული.</p>
</div>
<div class="section" id="jtag-debugging-examples-command-line-02">
<span id="id3"></span><h3>წყვეტის წერტილების დაყენება და გასუფთავება<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-02" title="Permalink to this headline">¶</a></h3>
<p>გამართვა გინგირებისას, ჩვენ გვსურს შევძლოთ აპლიკაციის გაჩერება კოდის კრიტიკულ ხაზებზე და შემდეგ შევისწავლოთ კონკრეტული ცვლადების, მეხსიერების და რეგისტრების/პერიფერიული მოწყობილობების მდგომარეობა. ამისათვის ჩვენ ვიყენებთ შესვენების წერტილებს. ისინი უზრუნველყოფენ მოსახერხებელ გზას აპლიკაციის კონკრეტულ ხაზზე სწრაფად მოსახვედრად და შესაჩერებლად.</p>
<p>მოდით, დავადგინოთ ორი წყვეტის წერტილი, როდესაც LED-ის მდგომარეობა იცვლება. ზემოთ მოცემული კოდის ჩამონათვალის მიხედვით, ეს ხდება 33-ე და 36-ე სტრიქონებზე. წყვეტის წერტილების დადგენა შესაძლებელია ბრძანების გამოყენებით. <code class="docutils literal notranslate"><span class="pre">break</span> <span class="pre">M</span></code> სადაც M არის კოდის ხაზის ნომერი:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) break 33
Breakpoint 2 at 0x400db6f6: file /home/user-name/esp/blink/main/./blink.c, line 33.
(gdb) break 36
Breakpoint 3 at 0x400db704: file /home/user-name/esp/blink/main/./blink.c, line 36.
</pre></div>
</div>
<p>თუ ახალი შესული ხართ <code class="docutils literal notranslate"><span class="pre">c</span></code>, პროცესორი გაეშვება და გაჩერდება შესვენების წერტილში. <code class="docutils literal notranslate"><span class="pre">c</span></code> სხვა დროს ის ხელახლა გაშვებას გამოიწვევს, მეორე შესვენების წერტილზე გაჩერდება და ა.შ.:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB6F6 (active)    APP_CPU: PC=0x400D10D8

Breakpoint 2, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:33
33          gpio_set_level(BLINK_GPIO, 0);
(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB6F8 (active)    APP_CPU: PC=0x400D10D8
Target halted. PRO_CPU: PC=0x400DB704 (active)    APP_CPU: PC=0x400D10D8

Breakpoint 3, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:36
36          gpio_set_level(BLINK_GPIO, 1);
(gdb)
</pre></div>
</div>
<p>ასევე, თქვენ შეძლებთ დაინახოთ, რომ LED იცვლის მდგომარეობას მხოლოდ იმ შემთხვევაში, თუ პროგრამის შესრულებას განაახლებთ კლავიშის შეყვანით. <code class="docutils literal notranslate"><span class="pre">c</span></code>.</p>
<p>იმის შესამოწმებლად, თუ რამდენი შესვენების წერტილია დაყენებული და სად, გამოიყენეთ ბრძანება <code class="docutils literal notranslate"><span class="pre">info</span> <span class="pre">break</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) info break
Num     Type           Disp Enb Address    What
2       breakpoint     keep y   0x400db6f6 in blink_task at /home/user-name/esp/blink/main/./blink.c:33
    breakpoint already hit 1 time
3       breakpoint     keep y   0x400db704 in blink_task at /home/user-name/esp/blink/main/./blink.c:36
    breakpoint already hit 1 time
(gdb)
</pre></div>
</div>
<p>გთხოვთ გაითვალისწინოთ, რომ წყვეტის წერტილების რიცხვები (ჩამოთვლილია ქვემოთ) <code class="docutils literal notranslate"><span class="pre">Num</span></code>) დაიწყეთ <code class="docutils literal notranslate"><span class="pre">2</span></code>ეს იმიტომ ხდება, რომ პირველი წყვეტის წერტილი უკვე დადგენილია ფუნქციაში. <code class="docutils literal notranslate"><span class="pre">app_main()</span></code> ბრძანების გაშვებით <code class="docutils literal notranslate"><span class="pre">thb</span> <span class="pre">app_main</span></code> გამართვა ger-ის გაშვებაზე. რადგან ეს დროებითი შემაფერხებელი წერტილი იყო, ის ავტომატურად წაიშალა და ახლა აღარ არის სიაში.</p>
<p>წყვეტის წერტილების მოსაშორებლად შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">delete</span> <span class="pre">N</span></code> ბრძანება (მოკლედ <code class="docutils literal notranslate"><span class="pre">d</span> <span class="pre">N</span></code>), სადაც <code class="docutils literal notranslate"><span class="pre">N</span></code> არის შესვენების წერტილის ნომერი:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) delete 1
No breakpoint number 1.
(gdb) delete 2
(gdb)
</pre></div>
</div>
<p>დამატებითი ინფორმაცია შესვენების წერტილების შესახებ იხილეთ ქვემოთ <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-breakpoints"><span class="std std-ref">ხელმისაწვდომია შემაკავებელი და სათვალთვალო წერტილები</span></a> და <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-where-breakpoints"><span class="std std-ref">კიდევ რა უნდა ვიცოდე შესვენების წერტილების შესახებ?</span></a></p>
</div>
<div class="section" id="halting-and-resuming-the-application">
<span id="jtag-debugging-examples-command-line-03"></span><h3>აპლიკაციის შეჩერება და განახლება<a class="headerlink" href="debugging-examples.html#halting-and-resuming-the-application" title="Permalink to this headline">¶</a></h3>
<p>გამართვა ging რეჟიმში დაბრუნებისას, შეგიძლიათ განაახლოთ აპლიკაცია და შეიყვანოთ კოდი რაიმე მოვლენის მოლოდინში ან დარჩეთ უსასრულო ციკლში, შესვენების წერტილების განსაზღვრის გარეშე. ასეთ შემთხვევაში, გამართვა ging რეჟიმში დასაბრუნებლად, შეგიძლიათ პროგრამის შესრულება ხელით შეწყვიტოთ Ctrl+C კლავიშების შეყვანით.</p>
<p>შესამოწმებლად, წაშალეთ ყველა შესვენების წერტილი და შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">c</span></code> აპლიკაციის გასაახლებლად. შემდეგ აკრიფეთ Ctrl+C. აპლიკაცია შემთხვევით შეჩერდება გარკვეულ მომენტში და LED შეწყვეტს ციმციმს. დებაგერი დაბეჭდავს შემდეგს:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) c
Continuing.
^CTarget halted. PRO_CPU: PC=0x400D0C00             APP_CPU: PC=0x400D0C00 (active)
[New Thread 1073433352]

Program received signal SIGINT, Interrupt.
[Switching to Thread 1073413512]
0x400d0c00 in esp_vApplicationIdleHook () at /home/user-name/esp/esp-idf/components/esp32/./freertos_hooks.c:52
52          asm("waiti 0");
(gdb)
</pre></div>
</div>
<p>ზემოთ მოცემულ კონკრეტულ შემთხვევაში, აპლიკაცია შეჩერებულია ფაილის კოდის 52-ე სტრიქონში. <code class="docutils literal notranslate"><span class="pre">freertos_hooks.c</span></code>ახლა თქვენ შეგიძლიათ ხელახლა გააგრძელოთ ის enter-ით <code class="docutils literal notranslate"><span class="pre">c</span></code> ან ჩაიტარეთ გამართვა გინგინგი, როგორც ქვემოთ არის განხილული.</p>
<div class="admonition note">
<p class="first admonition-title">შენიშვნა</p>
<p class="last">MSYS2 გარსში Ctrl+C არ აჩერებს სამიზნეს, მაგრამ არსებობს გამართვა ger. ამ პრობლემის გადასაჭრელად განიხილეთ გამართვა ging-ით <a class="reference internal" href="debugging-examples.html#jtag-debugging-examples-eclipse"><span class="std std-ref">დაბნელება</span></a> ან შეამოწმეთ გამოსავალი ქვემოთ <a class="reference external" href="http://www.mingw.org/wiki/Workaround_for_GDB_Ctrl_C_Interrupt">http://www.mingw.org/wiki/Workaround_for_GDB_Ctrl_C_Interrupt</a>.</p>
</div>
</div>
<div class="section" id="jtag-debugging-examples-command-line-04">
<span id="id4"></span><h3>კოდის გაცნობა<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-04" title="Permalink to this headline">¶</a></h3>
<p>ასევე შესაძლებელია კოდის ეტაპობრივი გავლა გამოყენებით <code class="docutils literal notranslate"><span class="pre">step</span></code> და <code class="docutils literal notranslate"><span class="pre">next</span></code> ბრძანებები (მოკლედ <code class="docutils literal notranslate"><span class="pre">s</span></code> და <code class="docutils literal notranslate"><span class="pre">n</span></code>). განსხვავება ისაა, რომ <code class="docutils literal notranslate"><span class="pre">step</span></code> შედის ქვერუტინების ზარებში, ხოლო <code class="docutils literal notranslate"><span class="pre">next</span></code> ზარს გადაკვეთს და მას ერთი წყაროს ხაზად მიიჩნევს.</p>
<p>ამ ფუნქციონალურობის დემონსტრირებისთვის, გამოიყენეთ ბრძანება <code class="docutils literal notranslate"><span class="pre">break</span></code> და <code class="docutils literal notranslate"><span class="pre">delete</span></code> წინა აბზაცში განხილვისას დარწმუნდით, რომ ხაზზე მხოლოდ ერთი შესვენების წერტილი გაქვთ განსაზღვრული <code class="docutils literal notranslate"><span class="pre">36</span></code> -ის <code class="docutils literal notranslate"><span class="pre">blink.c</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) info break
Num     Type           Disp Enb Address    What
3       breakpoint     keep y   0x400db704 in blink_task at /home/user-name/esp/blink/main/./blink.c:36
    breakpoint already hit 1 time
(gdb)
</pre></div>
</div>
<p>პროგრამის გაგრძელება შეყვანით <code class="docutils literal notranslate"><span class="pre">c</span></code> და გააჩერეთ:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB754 (active)    APP_CPU: PC=0x400D1128

Breakpoint 3, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:36
36          gpio_set_level(BLINK_GPIO, 1);
(gdb)
</pre></div>
</div>
<p>შემდეგ შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">n</span></code> რამდენჯერმე იმის სანახავად, თუ როგორ ახერხებს გამართვა კლასის მოსწავლე პროგრამის ერთი ხაზით წინსვლას:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) n
Target halted. PRO_CPU: PC=0x400DB756 (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB758 (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DC04C (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB75B (active)    APP_CPU: PC=0x400D1128
37          vTaskDelay(1000 / portTICK_PERIOD_MS);
(gdb) n
Target halted. PRO_CPU: PC=0x400DB75E (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400846FC (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB761 (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB746 (active)    APP_CPU: PC=0x400D1128
33          gpio_set_level(BLINK_GPIO, 0);
(gdb)
</pre></div>
</div>
<p>თუ შეხვალთ <code class="docutils literal notranslate"><span class="pre">s</span></code> სამაგიეროდ, გამართვა ger შეაღწევს ქვერუტინის გამოძახებებში:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) s
Target halted. PRO_CPU: PC=0x400DB748 (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB74B (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DC04C (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DC04F (active)    APP_CPU: PC=0x400D1128
gpio_set_level (gpio_num=GPIO_NUM_4, level=0) at /home/user-name/esp/esp-idf/components/driver/./gpio.c:183
183     GPIO_CHECK(GPIO_IS_VALID_OUTPUT_GPIO(gpio_num), "GPIO output gpio_num error", ESP_ERR_INVALID_ARG);
(gdb)
</pre></div>
</div>
<p>ამ კონკრეტულ შემთხვევაში, გამართვა მა გერმა შიგნით შემოაღწია <code class="docutils literal notranslate"><span class="pre">gpio_set_level(BLINK_GPIO,</span> <span class="pre">0)</span></code> და ეფექტურად გადავიდა <code class="docutils literal notranslate"><span class="pre">gpio.c</span></code> მძღოლის კოდი.</p>
<p>იხილეთ <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-why-next-works-as-step"><span class="std std-ref">რატომ არ გვერდს უვლის „შემდეგი“-ს გამოყენებით ქვერუტინის გამოძახებებს?</span></a> გამოყენების შესაძლო შეზღუდვისთვის <code class="docutils literal notranslate"><span class="pre">next</span></code> ბრძანება.</p>
</div>
<div class="section" id="jtag-debugging-examples-command-line-05">
<span id="id5"></span><h3>მეხსიერების შემოწმება და დაყენება<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-05" title="Permalink to this headline">¶</a></h3>
<p>მეხსიერების შინაარსის ჩვენება ხდება ბრძანების გამოყენებით <code class="docutils literal notranslate"><span class="pre">x</span></code>დამატებითი პარამეტრებით შეგიძლიათ შეცვალოთ ნაჩვენები მეხსიერების ლოკაციების ფორმატი და რაოდენობა. გაშვება <code class="docutils literal notranslate"><span class="pre">help</span> <span class="pre">x</span></code> დამატებითი დეტალების სანახავად. თანმხლები ბრძანება <code class="docutils literal notranslate"><span class="pre">x</span></code> არის <code class="docutils literal notranslate"><span class="pre">set</span></code> რაც საშუალებას გაძლევთ ჩაწეროთ მნიშვნელობები მეხსიერებაში.</p>
<p>ჩვენ ვაჩვენებთ, თუ როგორ <code class="docutils literal notranslate"><span class="pre">x</span></code> და <code class="docutils literal notranslate"><span class="pre">set</span></code> იმუშავეთ მეხსიერების მდებარეობიდან წაკითხვით და ჩაწერით <code class="docutils literal notranslate"><span class="pre">0x3FF44004</span></code> მონიშნულია, როგორც <code class="docutils literal notranslate"><span class="pre">GPIO_OUT_REG</span></code> გამოიყენება ინდივიდუალური GPIO დასაყენებლად და გასასუფთავებლად. დამატებითი ინფორმაციისთვის იხილეთ <a class="reference external" href="https://espressif.com/sites/default/files/documentation/esp32_technical_reference_manual_en.pdf">ESP32 ტექნიკური საცნობარო სახელმძღვანელო</a>, თავი IO_MUX და GPIO მატრიცა.</p>
<p>ერთსა და იმავეში ყოფნა <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> პროექტი, როგორც ადრე, დააყენეთ ორი შესვენების წერტილი დაუყოვნებლივ <code class="docutils literal notranslate"><span class="pre">gpio_set_level</span></code> ინსტრუქცია. შეიყვანეთ ორჯერ <code class="docutils literal notranslate"><span class="pre">c</span></code> შესვენების წერტილამდე მისასვლელად, რასაც მოჰყვება <code class="docutils literal notranslate"><span class="pre">x</span> <span class="pre">/1wx</span> <span class="pre">0x3FF44004</span></code> შინაარსის საჩვენებლად <code class="docutils literal notranslate"><span class="pre">GPIO_OUT_REG</span></code> მეხსიერების ადგილმდებარეობა:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB75E (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB74E (active)    APP_CPU: PC=0x400D1128

Breakpoint 2, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:34
34          vTaskDelay(1000 / portTICK_PERIOD_MS);
(gdb) x /1wx 0x3FF44004
0x3ff44004: 0x00000000
(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB751 (active)    APP_CPU: PC=0x400D1128
Target halted. PRO_CPU: PC=0x400DB75B (active)    APP_CPU: PC=0x400D1128

Breakpoint 3, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:37
37          vTaskDelay(1000 / portTICK_PERIOD_MS);
(gdb) x /1wx 0x3FF44004
0x3ff44004: 0x00000010
(gdb)
</pre></div>
</div>
<p>თუ თქვენი მოციმციმე LED GPIO 7-თან არის დაკავშირებული, მაშინ მეოთხე ბიტი უნდა გადაირთვას ყოველ ჯერზე, როდესაც LED მდგომარეობას იცვლის:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>0x3ff44004: 0x00000000
...
0x3ff44004: 0x00000010
</pre></div>
</div>
<p>ახლა, როდესაც LED გამორთულია, ეს შეესაბამება <code class="docutils literal notranslate"><span class="pre">0x3ff44004:</span> <span class="pre">0x00000000</span></code> ნაჩვენებია, სცადეთ გამოყენება <code class="docutils literal notranslate"><span class="pre">set</span></code> ბრძანება ამ ბიტის ჩაწერით დასაყენებლად <code class="docutils literal notranslate"><span class="pre">0x00000010</span></code> იმავე მეხსიერების ადგილას:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) x /1wx 0x3FF44004
0x3ff44004: 0x00000000
(gdb) set {unsigned int}0x3FF44004=0x000010
</pre></div>
</div>
<p>შესვლისთანავე უნდა დაინახოთ, რომ LED ინდიკატორი ჩაირთვება <code class="docutils literal notranslate"><span class="pre">set</span> <span class="pre">{unsigned</span> <span class="pre">int}0x3FF44004=0x000010</span></code> ბრძანება.</p>
</div>
<div class="section" id="jtag-debugging-examples-command-line-06">
<span id="id6"></span><h3>პროგრამის ცვლადების ყურება და დაყენება<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-06" title="Permalink to this headline">¶</a></h3>
<p>პროგრამის გაშვებისას პროგრამის ცვლადის მნიშვნელობის შემოწმება ერთ-ერთი გავრცელებული გამართვა . ამ ფუნქციონალურობის დემონსტრირებისთვის, განაახლეთ ფაილი. <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> გლობალური ცვლადის დეკლარაციის დამატებით <code class="docutils literal notranslate"><span class="pre">int</span> <span class="pre">i</span></code> ფუნქციის ზემოთ მოცემული განმარტება <code class="docutils literal notranslate"><span class="pre">blink_task</span></code>შემდეგ დაამატეთ <code class="docutils literal notranslate"><span class="pre">i++</span></code> შიგნით <code class="docutils literal notranslate"><span class="pre">while(1)</span></code> ამ ფუნქციის მისაღებად <code class="docutils literal notranslate"><span class="pre">i</span></code> იზრდება ყოველ დახამხამებაზე.</p>
<p>გამოდით გამართვა ger-დან, რათა ის ახალ კოდში არ აგვერიოს, ააწყვეთ და ფლეშ მეხსიერება შეიყვანეთ კოდი ESP-ში და გადატვირთეთ გამართვა ger. OpenOCD-ის გადატვირთვა საჭირო არ არის.</p>
<p>აპლიკაციის შეჩერების შემდეგ, შეიყვანეთ ბრძანება <code class="docutils literal notranslate"><span class="pre">watch</span> <span class="pre">i</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) watch i
Hardware watchpoint 2: i
(gdb)
</pre></div>
</div>
<p>ეს კოდის თითოეულ ადგილას, სადაც ცვლადია, ჩასვამს ე.წ. „საკონტროლო წერტილს“. <code class="docutils literal notranslate"><span class="pre">i</span></code> მიმდინარეობს მოდიფიცირება. ახლა შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">continue</span></code> აპლიკაციის განახლებისა და მისი შეჩერების სანახავად:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB751 (active)    APP_CPU: PC=0x400D0811
[New Thread 1073432196]

Program received signal SIGTRAP, Trace/breakpoint trap.
[Switching to Thread 1073432196]
0x400db751 in blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:33
33          i++;
(gdb)
</pre></div>
</div>
<p>განაცხადის განახლება კიდევ რამდენჯერმე <code class="docutils literal notranslate"><span class="pre">i</span></code> იზრდება. ახლა შეგიძლიათ შეიყვანოთ <code class="docutils literal notranslate"><span class="pre">print</span> <span class="pre">i</span></code> (მოკლედ რომ ვთქვათ <code class="docutils literal notranslate"><span class="pre">p</span> <span class="pre">i</span></code>) მიმდინარე მნიშვნელობის შესამოწმებლად <code class="docutils literal notranslate"><span class="pre">i</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) p i
$1 = 3
(gdb)
</pre></div>
</div>
<p>მნიშვნელობის შესაცვლელად <code class="docutils literal notranslate"><span class="pre">i</span></code> გამოყენება <code class="docutils literal notranslate"><span class="pre">set</span></code> ბრძანება, როგორც ქვემოთ (შემდეგ შეგიძლიათ დაბეჭდოთ ის, რომ შეამოწმოთ, ნამდვილად შეიცვალა თუ არა):</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) set var i = 0
(gdb) p i
$3 = 0
(gdb)
</pre></div>
</div>
<p>შეიძლება გქონდეთ ორამდე სათვალთვალო წერტილი, იხილეთ <a class="reference internal" href="tips-and-quirks.html#jtag-debugging-tip-breakpoints"><span class="std std-ref">ხელმისაწვდომია შემაკავებელი და სათვალთვალო წერტილები</span></a>.</p>
</div>
<div class="section" id="jtag-debugging-examples-command-line-07">
<span id="id7"></span><h3>პირობითი შესვენების წერტილების დაყენება<a class="headerlink" href="debugging-examples.html#jtag-debugging-examples-command-line-07" title="Permalink to this headline">¶</a></h3>
<p>აი, კიდევ უფრო საინტერესო ნაწილი. თუ გარკვეული პირობა დაკმაყოფილებულია, შეგიძლიათ დააყენოთ წყვეტის წერტილი პროგრამის შესრულების შესაჩერებლად. წაშალეთ არსებული წყვეტის წერტილები და სცადეთ ეს:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) break blink.c:34 if (i == 2)
Breakpoint 3 at 0x400db753: file /home/user-name/esp/blink/main/./blink.c, line 34.
(gdb)
</pre></div>
</div>
<p>ზემოთ მოცემული ბრძანება ადგენს პირობით შესვენების წერტილს პროგრამის შესრულების შესაჩერებლად. <code class="docutils literal notranslate"><span class="pre">34</span></code> -ის <code class="docutils literal notranslate"><span class="pre">blink.c</span></code> თუ <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">==</span> <span class="pre">2</span></code>.</p>
<p>თუ მიმდინარე ღირებულება <code class="docutils literal notranslate"><span class="pre">i</span></code> ნაკლებია, ვიდრე <code class="docutils literal notranslate"><span class="pre">2</span></code> და პროგრამა განახლდება, ის ციკლურად ციმციმებს LED-ს მდგომარეობამდე <code class="docutils literal notranslate"><span class="pre">i</span> <span class="pre">==</span> <span class="pre">2</span></code> ჭეშმარიტდება და ბოლოს ჩერდება:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) set var i = 0
(gdb) c
Continuing.
Target halted. PRO_CPU: PC=0x400DB755 (active)    APP_CPU: PC=0x400D112C
Target halted. PRO_CPU: PC=0x400DB753 (active)    APP_CPU: PC=0x400D112C
Target halted. PRO_CPU: PC=0x400DB755 (active)    APP_CPU: PC=0x400D112C
Target halted. PRO_CPU: PC=0x400DB753 (active)    APP_CPU: PC=0x400D112C

Breakpoint 3, blink_task (pvParameter=0x0) at /home/user-name/esp/blink/main/./blink.c:34
34          gpio_set_level(BLINK_GPIO, 0);
(gdb)
</pre></div>
</div>
</div>
<div class="section" id="obtaining-help-on-commands">
<h3>ბრძანებებთან დაკავშირებით დახმარების მიღება<a class="headerlink" href="debugging-examples.html#obtaining-help-on-commands" title="Permalink to this headline">¶</a></h3>
<p>წარმოდგენილი ბრძანებები უნდა იყოს ძალიან საბაზისო და განკუთვნილია იმისთვის, რომ სწრაფად დაიწყოთ JTAG გამართვა ging-ის გამოყენება. იხილეთ დახმარება, თუ რა სხვა ბრძანებები გაქვთ ხელთ. კონკრეტული ბრძანების სინტაქსისა და ფუნქციონალურობის შესახებ დახმარების მისაღებად, იყავით... <code class="docutils literal notranslate"><span class="pre">(gdb)</span></code> მოთხოვნის ტიპი <code class="docutils literal notranslate"><span class="pre">help</span></code> და ბრძანების სახელი:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) help next
Step program, proceeding through subroutine calls.
Usage: next [N]
Unlike "step", if the current source line calls a subroutine,
this command does not enter the subroutine, but instead steps over
the call, in effect treating it as a single source line.
(gdb)
</pre></div>
</div>
<p>უბრალოდ აკრეფით <code class="docutils literal notranslate"><span class="pre">help</span></code>, თქვენ მიიღებთ ბრძანებების კლასების ზედა დონის სიას, რაც დაგეხმარებათ მეტი დეტალის გაცნობაში. სურვილისამებრ, იხილეთ ხელმისაწვდომი GDB cheat sheets, მაგალითად <a class="reference external" href="http://darkdust.net/files/GDB%20Cheat%20Sheet.pdf">http://darkdust.net/files/GDB%20Cheat%20Sheet.pdf</a>კარგია, რომ ცნობარის სახით გქონდეთ (მაშინაც კი, თუ ყველა ბრძანება არ არის გამოსადეგი ჩაშენებულ გარემოში).</p>
</div>
<div class="section" id="ending-debugger-session">
<h3>მე გამართვა სემესტრის დასასრული<a class="headerlink" href="debugging-examples.html#ending-debugger-session" title="Permalink to this headline">¶</a></h3>
<p>გამართვა ტერმინიდან გასასვლელად, შეიყვანეთ <code class="docutils literal notranslate"><span class="pre">q</span></code>:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>(gdb) q
A debugging session is active.

    Inferior 1 [Remote target] will be detached.

Quit anyway? (y or n) y
Detaching from program: /home/user-name/esp/blink/build/blink.elf, Remote target
Ending remote debugging.
user-name@computer-name:~/esp/blink$
</pre></div>
</div>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="tips-and-quirks.html" rel="next" title="Tips and Quirks">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="using-debugger.html" rel="prev" title="Using Debugger"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>