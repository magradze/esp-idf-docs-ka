
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>შეცდომების დამუშავება — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js" type="text/javascript"></script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<script src="../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../_static/js/theme.js" type="text/javascript"></script>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../about.html" rel="author" title="About these documents"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="esp-ble-mesh/ble-mesh-index.html" rel="next" title="ESP-BLE-MESH"/>
<link href="deep-sleep-stub.html" rel="prev" title="Deep Sleep Wake Stubs"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-guides/error-handling.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-guides/error-handling"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-guides/error-handling.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/index.html">API მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API სახელმძღვანელოები</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="app_trace.html">აპლიკაციის დონის ტრასირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="blufi.html">BluFi</a></li>
<li class="toctree-l2"><a class="reference internal" href="bootloader.html">ჩატვირთვის სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-system.html">სისტემის შექმნა</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-system-legacy.html">სისტემის შექმნა (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html">კონსოლის კომპონენტი</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep-sleep-stub.html">ღრმა ძილის გაღვიძების სტატიები</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="error-handling.html#">შეცდომების დამუშავება</a><ul>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#overview">მიმოხილვა</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#error-codes">შეცდომის კოდები</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#converting-error-codes-to-error-messages">შეცდომის კოდების შეცდომის შეტყობინებებად გადაქცევა</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#esp-error-check-macro"><code class="docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK</span></code> მაკრო</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#error-handling-patterns">შეცდომების დამუშავების ნიმუშები</a></li>
<li class="toctree-l3"><a class="reference internal" href="error-handling.html#c-exceptions">C++ გამონაკლისები</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="esp-ble-mesh/ble-mesh-index.html">ESP-BLE-MESH</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">ESP-MESH ( Wi-Fi )</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_dump.html">ESP32 ბირთვის ნაგავსაყრელი</a></li>
<li class="toctree-l2"><a class="reference internal" href="event-handling.html">მოვლენების დამუშავება</a></li>
<li class="toctree-l2"><a class="reference internal" href="external-ram.html">გარე SPI-თან დაკავშირებული ოპერატიული მეხსიერება</a></li>
<li class="toctree-l2"><a class="reference internal" href="fatal-errors.html">ფატალური შეცდომები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/flash-encryption.html">ფლეშ დაშიფვრა</a></li>
<li class="toctree-l2"><a class="reference internal" href="freertos-smp.html">უფასო RTOS SMP ცვლილებები</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-notes.html">ზოგადი შენიშვნები</a></li>
<li class="toctree-l2"><a class="reference internal" href="hlinterrupts.html">მაღალი დონის შეფერხებები</a></li>
<li class="toctree-l2"><a class="reference internal" href="jtag-debugging/index.html">JTAG-ის გამართვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="linker-script-generation.html">ლინკერის სკრიპტის გენერირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwip.html">lwIP TCP/IP სტეკი</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition-tables.html">დანაყოფის ცხრილები</a></li>
<li class="toctree-l2"><a class="reference internal" href="RF_calibration.html">რადიოსიხშირული კალიბრაცია</a></li>
<li class="toctree-l2"><a class="reference internal" href="romconsole.html">ROM გამართვა კონსოლი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/secure-boot.html">უსაფრთხო ჩატვირთვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="thread-local-storage.html">ძაფების ლოკალური საცავი</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools/index.html">ხელსაწყოები</a></li>
<li class="toctree-l2"><a class="reference internal" href="ulp.html">ULP კოპროცესორი</a></li>
<li class="toctree-l2"><a class="reference internal" href="ulp-legacy.html">ULP კოპროცესორი (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit-tests-legacy.html">ერთეულის ტესტირება (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit-tests.html">ერთეულის ტესტირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="wifi.html">WiFi დრაივერი</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../index.html">დოკუმენტები</a> »</li>
<li><a href="index.html">API სახელმძღვანელოები</a> »</li>
<li>შეცდომების დამუშავება</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-guides/error-handling.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="error-handling">
<h1>შეცდომების დამუშავება<a class="headerlink" href="error-handling.html#error-handling" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/api-guides/error-handling.html">[中文]</a></p>
<div class="section" id="overview">
<h2>მიმოხილვა<a class="headerlink" href="error-handling.html#overview" title="Permalink to this headline">¶</a></h2>
<p>გაშვების დროს შეცდომების იდენტიფიცირება და მართვა მნიშვნელოვანია საიმედო აპლიკაციების შემუშავებისთვის. გაშვების დროს შეცდომების მრავალი სახეობა შეიძლება არსებობდეს:</p>
<ul class="simple">
<li>გამოსწორებადი შეცდომები:<ul>
<li>ფუნქციების მიერ დაბრუნებული მნიშვნელობების (შეცდომის კოდების) მეშვეობით მითითებული შეცდომები</li>
<li>C++ გამონაკლისები, გამოყენებული <code class="docutils literal notranslate"><span class="pre">throw</span></code> საკვანძო სიტყვა</li>
</ul>
</li>
<li>გამოუსწორებელი (სასიკვდილო) შეცდომები:<ul>
<li>წარუმატებელი მტკიცებები (გამოყენებით <code class="docutils literal notranslate"><span class="pre">assert</span></code> მაკრო და ეკვივალენტური მეთოდები) და <code class="docutils literal notranslate"><span class="pre">abort()</span></code> ზარები.</li>
<li>CPU-ს გამონაკლისები: მეხსიერების დაცულ რეგიონებზე წვდომა, უკანონო ინსტრუქცია და ა.შ.</li>
<li>სისტემური დონის შემოწმებები: მაკონტროლებელი სისტემის ლოდინის დრო, ქეშზე წვდომის შეცდომა, სტეკის გადავსება, სტეკის გატეხვა, გროვის დაზიანება და ა.შ.</li>
</ul>
</li>
</ul>
<p>ეს სახელმძღვანელო განმარტავს ESP-IDF შეცდომების დამუშავების მექანიზმებს, რომლებიც დაკავშირებულია აღდგენად შეცდომებთან და გვთავაზობს შეცდომების დამუშავების რამდენიმე გავრცელებულ ნიმუშს.</p>
<p>გამოუსწორებელი შეცდომების დიაგნოსტიკის ინსტრუქციისთვის იხილეთ <a class="reference internal" href="fatal-errors.html"><span class="doc">ფატალური შეცდომები</span></a>.</p>
</div>
<div class="section" id="error-codes">
<h2>შეცდომის კოდები<a class="headerlink" href="error-handling.html#error-codes" title="Permalink to this headline">¶</a></h2>
<p>ESP-IDF სპეციფიკური ფუნქციების უმეტესობა იყენებს <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_err_t</span></code></a> აკრიფეთ შეცდომის კოდების დასაბრუნებლად. <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_err_t</span></code></a> არის ხელმოწერილი მთელი რიცხვის ტიპი. წარმატება (შეცდომის გარეშე) მითითებულია <code class="docutils literal notranslate"><span class="pre">ESP_OK</span></code> კოდი, რომელიც განისაზღვრება, როგორც ნული.</p>
<p>სხვადასხვა ESP-IDF სათაურის ფაილები განსაზღვრავენ შესაძლო შეცდომის კოდებს წინასწარი პროცესორის განსაზღვრებების გამოყენებით. როგორც წესი, ეს განსაზღვრებები იწყება <code class="docutils literal notranslate"><span class="pre">ESP_ERR_</span></code> პრეფიქსი. ზოგადი შეცდომების (მეხსიერების ნაკლებობა, ვადის ამოწურვა, არასწორი არგუმენტი და ა.შ.) საერთო შეცდომების კოდები განსაზღვრულია <code class="docutils literal notranslate"><span class="pre">esp_err.h</span></code> ფაილი. ESP-IDF ში სხვადასხვა კომპონენტი მა შეიძლება განსაზღვროს დამატებითი შეცდომის კოდები კონკრეტული სიტუაციებისთვის.</p>
<p>შეცდომის კოდების სრული სიისთვის იხილეთ <a class="reference internal" href="../api-reference/error-codes.html"><span class="doc">შეცდომის კოდის მითითება</span></a>.</p>
</div>
<div class="section" id="converting-error-codes-to-error-messages">
<h2>შეცდომის კოდების შეცდომის შეტყობინებებად გადაქცევა<a class="headerlink" href="error-handling.html#converting-error-codes-to-error-messages" title="Permalink to this headline">¶</a></h2>
<p>ESP-IDF კომპონენტი s-ში განსაზღვრული თითოეული შეცდომის კოდისთვის, <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_err_t</span></code></a> მნიშვნელობის გადაყვანა შესაძლებელია შეცდომის კოდურ სახელად გამოყენებით <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv415esp_err_to_name9esp_err_t" title="esp_err_to_name"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name()</span></code></a> ან <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv417esp_err_to_name_r9esp_err_tPc6size_t" title="esp_err_to_name_r"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name_r()</span></code></a> ფუნქციები. მაგალითად, გავლა <code class="docutils literal notranslate"><span class="pre">0x101</span></code> რომ <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv415esp_err_to_name9esp_err_t" title="esp_err_to_name"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name()</span></code></a> დააბრუნებს „ESP_ERR_NO_MEM“ სტრიქონს. ასეთი სტრიქონების გამოყენება შესაძლებელია ჟურნალის გამომავალში, რათა უფრო ადვილად გავიგოთ, თუ რომელი შეცდომა მოხდა.</p>
<p>გარდა ამისა, <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv417esp_err_to_name_r9esp_err_tPc6size_t" title="esp_err_to_name_r"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name_r()</span></code></a> ფუნქცია შეეცდება შეცდომის კოდის ინტერპრეტაციას, როგორც <a class="reference external" href="http://pubs.opengroup.org/onlinepubs/9699919799/basedefs/errno.h.html">სტანდარტული POSIX შეცდომის კოდი</a>, თუ შესაბამისობა არ არის <code class="docutils literal notranslate"><span class="pre">ESP_ERR_</span></code> მნიშვნელობა მოიძებნება. ეს კეთდება გამოყენებით <code class="docutils literal notranslate"><span class="pre">strerror_r</span></code> ფუნქცია. POSIX შეცდომის კოდები (მაგალითად <code class="docutils literal notranslate"><span class="pre">ENOENT</span></code>, <code class="docutils literal notranslate"><span class="pre">ENOMEM</span></code>) განსაზღვრულია <code class="docutils literal notranslate"><span class="pre">errno.h</span></code> და, როგორც წესი, მიიღება <code class="docutils literal notranslate"><span class="pre">errno</span></code> ცვლადი. ESP-IDF ში ეს ცვლადი ძაფ-ლოკალურია: მრავალ Free RTOS დავალებას აქვს საკუთარი ასლები <code class="docutils literal notranslate"><span class="pre">errno</span></code>ფუნქციები, რომლებიც ადგენენ <code class="docutils literal notranslate"><span class="pre">errno</span></code> შეცვალეთ მისი მნიშვნელობა მხოლოდ იმ დავალებისთვის, რომელშიც ისინი ასრულებენ.</p>
<p>ეს ფუნქცია ნაგულისხმევად ჩართულია, მაგრამ მისი გამორთვა შესაძლებელია აპლიკაციის ორობითი ფაილის ზომის შესამცირებლად. იხილეთ. <a class="reference internal" href="../api-reference/kconfig.html#config-esp-err-to-name-lookup"><span class="std std-ref">CONFIG_ESP_ERR_TO_NAME_LOOKUP</span></a>როდესაც ეს ფუნქცია გამორთულია, <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv415esp_err_to_name9esp_err_t" title="esp_err_to_name"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name()</span></code></a> და <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv417esp_err_to_name_r9esp_err_tPc6size_t" title="esp_err_to_name_r"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name_r()</span></code></a> ჯერ კიდევ განსაზღვრულია და მათი გამოძახება შესაძლებელია. ამ შემთხვევაში, <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv415esp_err_to_name9esp_err_t" title="esp_err_to_name"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name()</span></code></a> დაბრუნდება <code class="docutils literal notranslate"><span class="pre">UNKNOWN</span> <span class="pre">ERROR</span></code>და <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv417esp_err_to_name_r9esp_err_tPc6size_t" title="esp_err_to_name_r"><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">esp_err_to_name_r()</span></code></a> დაბრუნდება <code class="docutils literal notranslate"><span class="pre">Unknown</span> <span class="pre">error</span> <span class="pre">0xXXXX(YYYYY)</span></code>, სადაც <code class="docutils literal notranslate"><span class="pre">0xXXXX</span></code> და <code class="docutils literal notranslate"><span class="pre">YYYYY</span></code> შეცდომის კოდის თექვსმეტობითი და ათობითი წარმოდგენებია, შესაბამისად.</p>
</div>
<div class="section" id="esp-error-check-macro">
<h2><code class="docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK</span></code> მაკრო<a class="headerlink" href="error-handling.html#esp-error-check-macro" title="Permalink to this headline">¶</a></h2>
<p><code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK()</span></code> მაკრო მსგავს მიზანს ემსახურება, როგორც <code class="docutils literal notranslate"><span class="pre">assert</span></code>, გარდა იმისა, რომ ის ამოწმებს <a class="reference internal" href="../api-reference/system/esp_err.html#_CPPv49esp_err_t" title="esp_err_t"><code class="xref cpp cpp-type docutils literal notranslate"><span class="pre">esp_err_t</span></code></a> ღირებულება, ვიდრე <code class="docutils literal notranslate"><span class="pre">bool</span></code> პირობა. თუ არგუმენტი <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK()</span></code> არ არის თანაბარი <a class="reference internal" href="../api-reference/system/esp_err.html#c.ESP_OK" title="ESP_OK"><code class="xref c c-macro docutils literal notranslate"><span class="pre">ESP_OK</span></code></a>, შემდეგ კონსოლზე შეცდომის შეტყობინება იბეჭდება და <code class="docutils literal notranslate"><span class="pre">abort()</span></code> ეწოდება.</p>
<p>შეცდომის შეტყობინება, როგორც წესი, ასე გამოიყურება:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_ERROR_CHECK</span> <span class="nl">failed</span><span class="p">:</span> <span class="n">esp_err_t</span> <span class="mh">0x107</span> <span class="p">(</span><span class="n">ESP_ERR_TIMEOUT</span><span class="p">)</span> <span class="n">at</span> <span class="mh">0x400d1fdf</span>

<span class="nl">file</span><span class="p">:</span> <span class="s">"/Users/user/esp/example/main/main.c"</span> <span class="n">line</span> <span class="mi">20</span>
<span class="nl">func</span><span class="p">:</span> <span class="n">app_main</span>
<span class="nl">expression</span><span class="p">:</span> <span class="n">sdmmc_card_init</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">card</span><span class="p">)</span>

<span class="nl">Backtrace</span><span class="p">:</span> <span class="mh">0x40086e7c</span><span class="o">:</span><span class="mh">0x3ffb4ff0</span> <span class="mh">0x40087328</span><span class="o">:</span><span class="mh">0x3ffb5010</span> <span class="mh">0x400d1fdf</span><span class="o">:</span><span class="mh">0x3ffb5030</span> <span class="mh">0x400d0816</span><span class="o">:</span><span class="mh">0x3ffb5050</span>
</pre></div>
</div>
<div class="admonition note">
<p class="first admonition-title">შენიშვნა</p>
<p class="last">თუ <a class="reference internal" href="tools/idf-monitor.html"><span class="doc">IDF-ის მონიტორი</span></a> გამოყენების შემთხვევაში, backtrace-ში მისამართები გარდაიქმნება ფაილის სახელებად და ხაზის ნომრებად.</p>
</div>
<ul class="simple">
<li>პირველ სტრიქონში შეცდომის კოდი მითითებულია თექვსმეტობითი მნიშვნელობის სახით და ამ შეცდომისთვის საწყის კოდში გამოყენებული იდენტიფიკატორი. ეს უკანასკნელი დამოკიდებულია <a class="reference internal" href="../api-reference/kconfig.html#config-esp-err-to-name-lookup"><span class="std std-ref">CONFIG_ESP_ERR_TO_NAME_LOOKUP</span></a> პარამეტრი დაყენებულია. ასევე იბეჭდება პროგრამაში მისამართი, სადაც შეცდომა მოხდა.</li>
<li>შემდგომი ხაზები აჩვენებს პროგრამაში მდებარეობას, სადაც <code class="xref cpp cpp-func docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK()</span></code> გამოიძახეს მაკრო და გამოსახულება, რომელიც მაკროს არგუმენტის სახით გადაეცა.</li>
<li>და ბოლოს, იბეჭდება უკუკავშირი. ეს პანიკის დამმუშავებლის გამომავალი ნაწილია, რომელიც ყველა ფატალური შეცდომისთვისაა დამახასიათებელი. იხილეთ <a class="reference internal" href="fatal-errors.html"><span class="doc">ფატალური შეცდომები</span></a> დამატებითი ინფორმაციისთვის უკუკავშირის შესახებ.</li>
</ul>
</div>
<div class="section" id="error-handling-patterns">
<h2>შეცდომების დამუშავების ნიმუშები<a class="headerlink" href="error-handling.html#error-handling-patterns" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">აღდგენის მცდელობა. სიტუაციიდან გამომდინარე, ეს შეიძლება ნიშნავდეს ზარის ხელახლა განხორციელებას გარკვეული დროის შემდეგ, ან დრაივერის დეინიციალიზაციის მცდელობას და ხელახლა ინიციალიზაციას, ან შეცდომის გამოსწორებას არასრული დიაპაზონის მექანიზმის გამოყენებით (მაგ. გარე პერიფერიული მოწყობილობის გადატვირთვა, რომელიც არ რეაგირებს).</p>
<p>მაგალითი:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">esp_err_t</span> <span class="n">err</span><span class="p">;</span>
<span class="k">do</span> <span class="p">{</span>
    <span class="n">err</span> <span class="o">=</span> <span class="n">sdio_slave_send_queue</span><span class="p">(</span><span class="n">addr</span><span class="p">,</span> <span class="n">len</span><span class="p">,</span> <span class="n">arg</span><span class="p">,</span> <span class="n">timeout</span><span class="p">);</span>
    <span class="c1">// keep retrying while the sending queue is full</span>
<span class="p">}</span> <span class="k">while</span> <span class="p">(</span><span class="n">err</span> <span class="o">==</span> <span class="n">ESP_ERR_TIMEOUT</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">!=</span> <span class="n">ESP_OK</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// handle other errors</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">შეცდომის გამომძახებელზე გავრცელება. ზოგიერთ შუალედურ კომპონენტი ეს ნიშნავს, რომ ფუნქცია უნდა დასრულდეს იგივე შეცდომის კოდით, რაც უზრუნველყოფს რესურსების ნებისმიერი განაწილების გაუქმებას.</p>
<p>მაგალითი:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">sdmmc_card_t</span><span class="o">*</span> <span class="n">card</span> <span class="o">=</span> <span class="n">calloc</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="k">sizeof</span><span class="p">(</span><span class="n">sdmmc_card_t</span><span class="p">));</span>
<span class="k">if</span> <span class="p">(</span><span class="n">card</span> <span class="o">==</span> <span class="nb">NULL</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">return</span> <span class="n">ESP_ERR_NO_MEM</span><span class="p">;</span>
<span class="p">}</span>
<span class="n">esp_err_t</span> <span class="n">err</span> <span class="o">=</span> <span class="n">sdmmc_card_init</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="o">&amp;</span><span class="n">card</span><span class="p">);</span>
<span class="k">if</span> <span class="p">(</span><span class="n">err</span> <span class="o">!=</span> <span class="n">ESP_OK</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">// Clean up</span>
    <span class="n">free</span><span class="p">(</span><span class="n">card</span><span class="p">);</span>
    <span class="c1">// Propagate the error to the upper layer (e.g. to notify the user).</span>
    <span class="c1">// Alternatively, application can define and return custom error code.</span>
    <span class="k">return</span> <span class="n">err</span><span class="p">;</span>
<span class="p">}</span>
</pre></div>
</div>
</li>
<li><p class="first">გარდაქმნა შეუქცევად შეცდომად, მაგალითად, გამოყენებით <code class="docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK</span></code>. იხილეთ <a class="reference internal" href="error-handling.html#esp-error-check-macro">ESP_ERROR_CHECK მაკრო</a> დეტალებისთვის იხილეთ განყოფილება.</p>
<p>შეცდომის შემთხვევაში აპლიკაციის შეწყვეტა, როგორც წესი, არასასურველი ქცევაა middleware კომპონენტი ისთვის, მაგრამ ზოგჯერ მისაღებია აპლიკაციის დონეზე.</p>
<p>ბევრი ESP-IDF მაგალითი იყენებს <code class="docutils literal notranslate"><span class="pre">ESP_ERROR_CHECK</span></code> სხვადასხვა API დან წამოსული შეცდომების დასამუშავებლად. ეს არ არის აპლიკაციებისთვის საუკეთესო პრაქტიკა და კეთდება იმისათვის, რომ მაგალითის კოდი უფრო ლაკონური იყოს.</p>
<p>მაგალითი:</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="n">ESP_ERROR_CHECK</span><span class="p">(</span><span class="n">spi_bus_initialize</span><span class="p">(</span><span class="n">host</span><span class="p">,</span> <span class="n">bus_config</span><span class="p">,</span> <span class="n">dma_chan</span><span class="p">));</span>
</pre></div>
</div>
</li>
</ol>
</div>
<div class="section" id="c-exceptions">
<h2>C++ გამონაკლისები<a class="headerlink" href="error-handling.html#c-exceptions" title="Permalink to this headline">¶</a></h2>
<p>C++ გამონაკლისების მხარდაჭერა ESP-IDF ში სტანდარტულად გამორთულია, მაგრამ მისი ჩართვა შესაძლებელია <a class="reference internal" href="../api-reference/kconfig.html#config-compiler-cxx-exceptions"><span class="std std-ref">CONFIG_COMPILER_CXX_EXCEPTIONS</span></a> ვარიანტი.</p>
<p>გამონაკლისის დამუშავების ჩართვა, როგორც წესი, აპლიკაციის ორობითი ფაილის ზომას რამდენიმე კბაიტით ზრდის. გარდა ამისა, შეიძლება საჭირო გახდეს გამონაკლისების საგანგებო სიტუაციების პულისთვის გარკვეული რაოდენობის ოპერატიული მეხსიერების დაჯავშნა. ამ პულის მეხსიერება გამოყენებული იქნება, თუ შეუძლებელია გამონაკლისის ობიექტის გროვიდან გამოყოფა. საგანგებო სიტუაციების პულში მეხსიერების რაოდენობის დაყენება შესაძლებელია გამოყენებით <a class="reference internal" href="../api-reference/kconfig.html#config-compiler-cxx-exceptions-emg-pool-size"><span class="std std-ref">CONFIG_COMPILER_CXX_EXCEPTIONS_EMG_POOL_SIZE</span></a> ცვლადი.</p>
<p>თუ გამონაკლისი დაშვებულია, მაგრამ არ არსებობს <code class="docutils literal notranslate"><span class="pre">catch</span></code> ბლოკი, პროგრამა შეწყდება <code class="docutils literal notranslate"><span class="pre">abort</span></code> ფუნქცია და უკუკავშირი დაიბეჭდება. იხილეთ <a class="reference internal" href="fatal-errors.html"><span class="doc">ფატალური შეცდომები</span></a> დამატებითი ინფორმაციისთვის უკუკავშირის შესახებ.</p>
<p>იხილეთ <a class="reference external" href="https://github.com/espressif/esp-idf/tree/f91080637/examples/system/cpp_exceptions">სისტემა/cpp_გამონაკლისები</a> C++ გამონაკლისების დამუშავების მაგალითისთვის.</p>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="esp-ble-mesh/ble-mesh-index.html" rel="next" title="ESP-BLE-MESH">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="deep-sleep-stub.html" rel="prev" title="Deep Sleep Wake Stubs"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>