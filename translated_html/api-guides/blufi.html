
<!DOCTYPE html>

<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>BluFi — ESP-IDF პროგრამირების სახელმძღვანელო v4.1-dev-2071-gf91080637 დოკუმენტაცია</title>
<script src="../_static/js/modernizr.min.js" type="text/javascript"></script>
<script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js" type="text/javascript"></script>
<script src="../_static/jquery.js" type="text/javascript"></script>
<script src="../_static/underscore.js" type="text/javascript"></script>
<script src="../_static/doctools.js" type="text/javascript"></script>
<script src="../_static/language_data.js" type="text/javascript"></script>
<script src="https://media.readthedocs.com/javascript/readthedocs-doc-embed.js" type="text/javascript"></script>
<script src="../_static/js/theme.js" type="text/javascript"></script>
<link href="../_static/css/theme.css" rel="stylesheet" type="text/css"/>
<link href="../_static/pygments.css" rel="stylesheet" type="text/css"/>
<link href="../_static/theme_overrides.css" rel="stylesheet" type="text/css"/>
<link href="../about.html" rel="author" title="About these documents"/>
<link href="../genindex.html" rel="index" title="Index"/>
<link href="../search.html" rel="search" title="Search"/>
<link href="bootloader.html" rel="next" title="Bootloader"/>
<link href="app_trace.html" rel="prev" title="Application Level Tracing library"/>
<!-- RTD Extra Head -->
<!-- 
Always link to the latest version, as canonical.
http://docs.readthedocs.org/en/latest/canonical.html
-->
<link href="https://docs.espressif.com/projects/esp-idf/en/latest/api-guides/blufi.html" rel="canonical"/>
<link href="https://media.readthedocs.com/css/readthedocs-doc-embed.css" rel="stylesheet" type="text/css"/>
<script src="../_static/readthedocs-data.js" type="text/javascript"></script>
<!-- Add page-specific data, which must exist in the page js, not global -->
<script type="text/javascript">
READTHEDOCS_DATA['page'] = "api-guides/blufi"
READTHEDOCS_DATA['source_suffix'] = ".rst"
</script>
<script src="https://media.readthedocs.com/javascript/readthedocs-analytics.js" type="text/javascript"></script>
<!-- end RTD <extrahead> -->
<script async="" src="../../../../../_/static/javascript/readthedocs-addons.js" type="text/javascript"></script><meta content="espressif-esp-idf" name="readthedocs-project-slug"><meta content="latest" name="readthedocs-version-slug"><meta content="/api-guides/blufi.html" name="readthedocs-resolver-filename"/><meta content="200" name="readthedocs-http-status"/></meta></meta></head>
<body class="wy-body-for-nav">
<div class="wy-grid-for-nav">
<nav class="wy-nav-side" data-toggle="wy-nav-shift">
<div class="wy-side-scroll">
<div class="wy-side-nav-search">
<a class="icon icon-home" href="../index.html"> ESP-IDF პროგრამირების სახელმძღვანელო
          

          
            
            <img alt="Logo" class="logo" src="../_static/espressif-logo.svg"/>
</a>
<div class="version">
                latest
              </div>
<div role="search">
<form action="../search.html" class="wy-form" id="rtd-search-form" method="get">
<input name="q" placeholder="Search docs" type="text"/>
<input name="check_keywords" type="hidden" value="yes"/>
<input name="area" type="hidden" value="default"/>
</form>
</div>
</div>
<div aria-label="main navigation" class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation">
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../get-started/index.html">დაწყება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../api-reference/index.html">API მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../hw-reference/index.html">ტექნიკის/საშუალებების მითითება</a></li>
<li class="toctree-l1"><a class="reference internal" href="../esp32s2.html">ESP32-S2-ის წინასწარი გადახედვის მხარდაჭერა</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="index.html">API სახელმძღვანელოები</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="app_trace.html">აპლიკაციის დონის ტრასირება</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="blufi.html#">BluFi</a><ul>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#overview">მიმოხილვა</a></li>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#the-blufi-flow">BluFi Flow</a></li>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#the-flow-chart-of-blufi">BluFi-ის ნაკადის დიაგრამა</a></li>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#the-frame-formats-defined-in-blufi">BluFi-ში განსაზღვრული კადრების ფორმატები</a></li>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#the-security-implementation-of-esp32">ESP32-ის უსაფრთხოების იმპლემენტაცია</a></li>
<li class="toctree-l3"><a class="reference internal" href="blufi.html#gatt-related-instructions">GATT-თან დაკავშირებული ინსტრუქციები</a><ul>
<li class="toctree-l4"><a class="reference internal" href="blufi.html#uuid">UUID</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="bootloader.html">ჩატვირთვის სისტემა</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-system.html">სისტემის შექმნა</a></li>
<li class="toctree-l2"><a class="reference internal" href="build-system-legacy.html">სისტემის შექმნა (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="console.html">კონსოლის კომპონენტი</a></li>
<li class="toctree-l2"><a class="reference internal" href="deep-sleep-stub.html">ღრმა ძილის გაღვიძების სტატიები</a></li>
<li class="toctree-l2"><a class="reference internal" href="error-handling.html">შეცდომების დამუშავება</a></li>
<li class="toctree-l2"><a class="reference internal" href="esp-ble-mesh/ble-mesh-index.html">ESP-BLE-MESH</a></li>
<li class="toctree-l2"><a class="reference internal" href="mesh.html">ESP-MESH ( Wi-Fi )</a></li>
<li class="toctree-l2"><a class="reference internal" href="core_dump.html">ESP32 ბირთვის ნაგავსაყრელი</a></li>
<li class="toctree-l2"><a class="reference internal" href="event-handling.html">მოვლენების დამუშავება</a></li>
<li class="toctree-l2"><a class="reference internal" href="external-ram.html">გარე SPI-თან დაკავშირებული ოპერატიული მეხსიერება</a></li>
<li class="toctree-l2"><a class="reference internal" href="fatal-errors.html">ფატალური შეცდომები</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/flash-encryption.html">ფლეშ დაშიფვრა</a></li>
<li class="toctree-l2"><a class="reference internal" href="freertos-smp.html">უფასო RTOS SMP ცვლილებები</a></li>
<li class="toctree-l2"><a class="reference internal" href="general-notes.html">ზოგადი შენიშვნები</a></li>
<li class="toctree-l2"><a class="reference internal" href="hlinterrupts.html">მაღალი დონის შეფერხებები</a></li>
<li class="toctree-l2"><a class="reference internal" href="jtag-debugging/index.html">JTAG-ის გამართვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="linker-script-generation.html">ლინკერის სკრიპტის გენერირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="lwip.html">lwIP TCP/IP სტეკი</a></li>
<li class="toctree-l2"><a class="reference internal" href="partition-tables.html">დანაყოფის ცხრილები</a></li>
<li class="toctree-l2"><a class="reference internal" href="RF_calibration.html">რადიოსიხშირული კალიბრაცია</a></li>
<li class="toctree-l2"><a class="reference internal" href="romconsole.html">ROM გამართვა კონსოლი</a></li>
<li class="toctree-l2"><a class="reference internal" href="../security/secure-boot.html">უსაფრთხო ჩატვირთვა</a></li>
<li class="toctree-l2"><a class="reference internal" href="thread-local-storage.html">ძაფების ლოკალური საცავი</a></li>
<li class="toctree-l2"><a class="reference internal" href="tools/index.html">ხელსაწყოები</a></li>
<li class="toctree-l2"><a class="reference internal" href="ulp.html">ULP კოპროცესორი</a></li>
<li class="toctree-l2"><a class="reference internal" href="ulp-legacy.html">ULP კოპროცესორი (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit-tests-legacy.html">ერთეულის ტესტირება (Legacy GNU Make)</a></li>
<li class="toctree-l2"><a class="reference internal" href="unit-tests.html">ერთეულის ტესტირება</a></li>
<li class="toctree-l2"><a class="reference internal" href="wifi.html">WiFi დრაივერი</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../libraries-and-frameworks/index.html">ბიბლიოთეკები და ჩარჩოები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contribute/index.html">წვლილი შეიტანეთ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../versions.html">ვერსიები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../resources.html">რესურსები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../COPYRIGHT.html">საავტორო უფლებები</a></li>
<li class="toctree-l1"><a class="reference internal" href="../about.html">შესახებ</a></li>
<li class="toctree-l1"><a class="reference internal" href="../languages.html">语言/ენები</a></li>
<li class="toctree-l1"><a class="reference external" href="https://readthedocs.com/projects/espressif-esp-idf/downloads/">სახელმძღვანელოს ჩამოტვირთვები</a></li>
</ul>
</div>
</div>
</nav>
<section class="wy-nav-content-wrap" data-toggle="wy-nav-shift">
<nav aria-label="top navigation" class="wy-nav-top">
<i class="fa fa-bars" data-toggle="wy-nav-top"></i>
<a href="../index.html">ESP-IDF პროგრამირების სახელმძღვანელო</a>
</nav>
<div class="wy-nav-content">
<div class="rst-content">
<div aria-label="breadcrumbs navigation" role="navigation">
<ul class="wy-breadcrumbs">
<li><a href="../index.html">დოკუმენტები</a> »</li>
<li><a href="index.html">API სახელმძღვანელოები</a> »</li>
<li>BluFi</li>
<li class="wy-breadcrumbs-aside">
<a class="fa fa-github" href="https://github.com/espressif/esp-idf/blob/master/docs/en/api-guides/blufi.rst"> რედაქტირება GitHub-ზე</a>
</li>
</ul>
<hr/>
</div>
<div class="document" itemscope="itemscope" itemtype="http://schema.org/Article" role="main">
<div itemprop="articleBody">
<div class="section" id="blufi">
<h1>BluFi<a class="headerlink" href="blufi.html#blufi" title="Permalink to this headline">¶</a></h1>
<p><a class="reference external" href="https://espressif-docs.readthedocs-hosted.com/projects/esp-idf/zh_CN/latest/api-guides/blufi.html">[中文]</a></p>
<div class="section" id="overview">
<h2>მიმოხილვა<a class="headerlink" href="blufi.html#overview" title="Permalink to this headline">¶</a></h2>
<p>ESP32-ისთვის განკუთვნილი BluFi არის Wi-Fi ქსელის კონფიგურაციის ფუნქცია Bluetooth არხის მეშვეობით. ის უზრუნველყოფს უსაფრთხო პროტოკოლს Wi-Fi კონფიგურაციისა და ავტორიზაციის მონაცემების ESP32-ისთვის გადასაცემად. ამ ინფორმაციის გამოყენებით, ESP32-ს შეუძლია, მაგალითად, დაუკავშირდეს წვდომის წერტილს ან დაამყაროს SoftAP.</p>
<p>ფრაგმენტაცია, მონაცემთა დაშიფვრა, ჩეკის ჯამის ვერიფიკაცია BluFi ფენაში ამ პროცესის ძირითადი ელემენტებია.</p>
<p>შეგიძლიათ სიმეტრიული დაშიფვრის, ასიმეტრიული დაშიფვრის და ჩეკის ჯამის მხარდაჭერის პერსონალიზება. აქ ჩვენ ვიყენებთ DH ალგორითმს გასაღების მოლაპარაკებისთვის, 128-AES ალგორითმს მონაცემთა დაშიფვრისთვის და CRC16 ალგორითმს ჩეკის ჯამის ვერიფიკაციისთვის.</p>
</div>
<div class="section" id="the-blufi-flow">
<h2>BluFi Flow<a class="headerlink" href="blufi.html#the-blufi-flow" title="Permalink to this headline">¶</a></h2>
<p>BluFi ქსელის ნაკადი მოიცავს SoftAP-ის და Station-ის კონფიგურაციას.</p>
<p>ქვემოთ მოცემულია Station-ის მაგალითი პროცედურის ძირითადი ნაწილების საილუსტრაციოდ, მათ შორის მაუწყებლობის, კავშირის, სერვისის აღმოჩენის, საერთო გასაღების მოლაპარაკების, მონაცემთა გადაცემის და კავშირის სტატუსის უკუკავშირის ილუსტრირებისთვის.</p>
<ol class="arabic simple">
<li>დააყენეთ ESP32 GATT სერვერის რეჟიმში და შემდეგ ის გაგზავნის მაუწყებლობას კონკრეტული <em>სარეკლამო მონაცემები</em>თქვენ შეგიძლიათ ამ მაუწყებლობის პერსონალიზება საჭიროებისამებრ, რაც BluFi პროფილის ნაწილი არ არის.</li>
<li>ამ კონკრეტული მაუწყებლობის მოსაძებნად გამოიყენეთ მობილურ ტელეფონში დაინსტალირებული აპლიკაცია. მაუწყებლობის დადასტურების შემდეგ, მობილური ტელეფონი დაუკავშირდება ESP32-ს, როგორც GATT კლიენტს. ამ ეტაპზე გამოყენებული აპლიკაციის არჩევანი თქვენზეა დამოკიდებული.</li>
<li>GATT კავშირის წარმატებით დამყარების შემდეგ, მობილური ტელეფონი ESP32-ს გაუგზავნის მონაცემთა ჩარჩოს გასაღებთან მოლაპარაკებისთვის (იხილეთ განყოფილება <a class="reference internal" href="blufi.html#frame-formats"><span class="std std-ref">BluFi-ში განსაზღვრული კადრების ფორმატები</span></a> დეტალებისთვის).</li>
<li>მას შემდეგ, რაც ESP32 მიიღებს გასაღების მოლაპარაკების მონაცემთა ჩარჩოს, ის გააანალიზებს შინაარსს მომხმარებლის მიერ განსაზღვრული მოლაპარაკების მეთოდის მიხედვით.</li>
<li>მობილური ტელეფონი მუშაობს ESP32-თან გასაღებებთან მოლაპარაკებისთვის დაშიფვრის ალგორითმების გამოყენებით, როგორიცაა DH, RSA ან ECC.</li>
<li>მოლაპარაკების პროცესის დასრულების შემდეგ, მობილური ტელეფონი ESP32-ს გაუგზავნის უსაფრთხოების რეჟიმის დაყენების საკონტროლო ჩარჩოს.</li>
<li>ამ საკონტროლო ჩარჩოს მიღებისას, ESP32 შეძლებს საკომუნიკაციო მონაცემების დაშიფვრას და გაშიფვრას საერთო გასაღებისა და უსაფრთხოების კონფიგურაციის გამოყენებით.</li>
<li>მობილური ტელეფონი აგზავნის მონაცემთა ჩარჩოს, რომელიც განსაზღვრულია განყოფილებაში <a class="reference internal" href="blufi.html#frame-formats"><span class="std std-ref">BluFi-ში განსაზღვრული კადრების ფორმატები</span></a>, Wi-Fi კონფიგურაციის ინფორმაციით ESP32-ში, მათ შორის SSID, პაროლი და ა.შ.</li>
<li>მობილური ტელეფონი ESP32-ს უგზავნის Wi-Fi დაკავშირების მოთხოვნის საკონტროლო ჩარჩოს. ამ საკონტროლო ჩარჩოს მიღებისას, ESP32 ჩათვლის, რომ არსებითი ინფორმაციის გადაცემა დასრულებულად არის მიჩნეული და მოემზადება Wi-Fi თან დასაკავშირებლად.</li>
<li>Wi-Fi თან დაკავშირების შემდეგ, ESP32 მობილურ ტელეფონზე გაუგზავნის Wi-Fi კავშირის სტატუსის ანგარიშის საკონტროლო ჩარჩოს, კავშირის სტატუსის შესატყობინებლად. ამ ეტაპზე ქსელური პროცედურა დასრულებულია.</li>
</ol>
<div class="admonition note">
<p class="first admonition-title">შენიშვნა</p>
<ol class="last arabic simple">
<li>მას შემდეგ, რაც ESP32 მიიღებს უსაფრთხოების რეჟიმის კონფიგურაციის საკონტროლო ჩარჩოს, ის შეასრულებს ოპერაციებს განსაზღვრული უსაფრთხოების რეჟიმის შესაბამისად.</li>
<li>სიმეტრიული დაშიფვრამდე/გაშიფვრამდე და მის შემდეგ მონაცემთა სიგრძე იგივე უნდა დარჩეს. ის ასევე მხარს უჭერს ადგილზე დაშიფვრას და გაშიფვრას.</li>
</ol>
</div>
</div>
<div class="section" id="the-flow-chart-of-blufi">
<h2>BluFi-ის ნაკადის დიაგრამა<a class="headerlink" href="blufi.html#the-flow-chart-of-blufi" title="Permalink to this headline">¶</a></h2>
<div class="figure align-center" id="id1">
<div><img height="480" src="../_images/seqdiag-b074d5e06d1b3c6f34b4874692deb00855a82c4f.png" width="588"/></div><p class="caption"><span class="caption-text">BluFi-ის ნაკადის დიაგრამა</span><a class="headerlink" href="blufi.html#id1" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="the-frame-formats-defined-in-blufi">
<span id="frame-formats"></span><h2>BluFi-ში განსაზღვრული კადრების ფორმატები<a class="headerlink" href="blufi.html#the-frame-formats-defined-in-blufi" title="Permalink to this headline">¶</a></h2>
<p>მობილური ტელეფონის აპლიკაციასა და ESP32-ს შორის კომუნიკაციის ჩარჩოს ფორმატები განისაზღვრება შემდეგნაირად:</p>
<p>ჩარჩოს ფორმატი ფრაგმენტის გარეშე (8 ბიტი):</p>
<table border="1" class="docutils">
<colgroup>
<col width="52%"/>
<col width="48%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">აღწერა</th>
<th class="head">ღირებულება</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>LSB - ტიპი</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>კადრის კონტროლი</td>
<td>1</td>
</tr>
<tr class="row-even"><td>თანმიმდევრობის ნომერი</td>
<td>1</td>
</tr>
<tr class="row-odd"><td>მონაცემთა სიგრძე</td>
<td>1</td>
</tr>
<tr class="row-even"><td>მონაცემები</td>
<td>${მონაცემთა სიგრძე}</td>
</tr>
<tr class="row-odd"><td>MSB - CheckSum</td>
<td>2</td>
</tr>
</tbody>
</table>
<p>თუ <strong>ჩარჩოს მართვის პანელი</strong> ბიტი ჩართულია, <strong>საერთო სიგრძე</strong> ბიტი მიუთითებს კადრის დარჩენილი ნაწილის სიგრძეზე. მას შეუძლია პულტს უთხრას, რამდენი მეხსიერება უნდა გამოიყოს.</p>
<p>ფრაგმენტებით ჩარჩოს ფორმატი (8 ბიტიანი):</p>
<table border="1" class="docutils">
<colgroup>
<col width="32%"/>
<col width="35%"/>
<col width="32%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">აღწერა</th>
<th class="head" colspan="2">ღირებულება</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>LSB - ტიპი</td>
<td colspan="2">1</td>
</tr>
<tr class="row-odd"><td>ჩარჩოს კონტროლი (ფრაგმენტი)</td>
<td colspan="2">1</td>
</tr>
<tr class="row-even"><td>თანმიმდევრობის ნომერი</td>
<td colspan="2">1</td>
</tr>
<tr class="row-odd"><td>მონაცემთა სიგრძე</td>
<td colspan="2">1</td>
</tr>
<tr class="row-even"><td rowspan="2">მონაცემები</td>
<td>კონტენტის მთლიანი სიგრძე</td>
<td>2</td>
</tr>
<tr class="row-odd"><td>კონტენტი</td>
<td>${მონაცემთა სიგრძე} - 2</td>
</tr>
<tr class="row-even"><td>MSB - CheckSum</td>
<td colspan="2">2</td>
</tr>
</tbody>
</table>
<p>ჩვეულებრივ, საკონტროლო ჩარჩო არ შეიცავს მონაცემთა ბიტებს, გარდა Ack ჩარჩოსა.</p>
<p>Ack Frame-ის ფორმატი (8 ბიტიანი):</p>
<table border="1" class="docutils">
<colgroup>
<col width="30%"/>
<col width="38%"/>
<col width="33%"/>
</colgroup>
<tbody valign="top">
<tr class="row-odd"><td>აღწერა</td>
<td colspan="2">ღირებულება</td>
</tr>
<tr class="row-even"><td>LSB - ტიპი (Ack)</td>
<td colspan="2">1</td>
</tr>
<tr class="row-odd"><td>კადრის კონტროლი</td>
<td colspan="2">1</td>
</tr>
<tr class="row-even"><td>თანმიმდევრობის ნომერი</td>
<td colspan="2">1</td>
</tr>
<tr class="row-odd"><td>მონაცემთა სიგრძე</td>
<td colspan="2">1</td>
</tr>
<tr class="row-even"><td rowspan="2">მონაცემები</td>
<td rowspan="2">დადასტურებული თანმიმდევრობის ნომერი</td>
<td rowspan="2">2</td>
</tr>
<tr class="row-odd"></tr>
<tr class="row-even"><td>MSB - CheckSum</td>
<td colspan="2">2</td>
</tr>
</tbody>
</table>
<ol class="arabic">
<li><p class="first">ტიპი</p>
<p>ის <strong>ტიპი</strong> ველი, რომელიც 1 ბაიტს იკავებდა, იყოფა <strong>ტიპი</strong> და <strong>ქვეტიპი</strong>, ეს ტიპი იყენებს ქვედა 2 ბიტს და <strong>ქვეტიპი</strong> იყენებს ზედა 6 ბიტს.</p>
<ul class="simple">
<li>საკონტროლო ჩარჩო ამ ეტაპზე დაშიფრული არ არის და მისი ვერიფიკაცია შესაძლებელია;</li>
<li>მონაცემთა ჩარჩო მხარს უჭერს დაშიფვრას და ვერიფიკაციას.</li>
</ul>
</li>
</ol>
<blockquote>
<div><p><strong>1.1 საკონტროლო ჩარჩო (0x0 b&amp;#39;00)</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="12%"/>
<col width="29%"/>
<col width="30%"/>
<col width="30%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">საკონტროლო ჩარჩო (ორობითი)</th>
<th class="head">იმპლიკაცია</th>
<th class="head">განმარტება</th>
<th class="head">შენიშვნა</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x0 (b&amp;#39;000000)</td>
<td>აკი</td>
<td>Ack ჩარჩოს მონაცემთა ველი პასუხის გასაცემად იყენებს ჩარჩოს იგივე თანმიმდევრობის მნიშვნელობას.</td>
<td>მონაცემთა ველი ერთ ბაიტს მოიხმარს და მისი მნიშვნელობა იგივეა, რაც პასუხის გასაცემად განკუთვნილი ჩარჩოს თანმიმდევრობის ველი.</td>
</tr>
<tr class="row-odd"><td rowspan="5">0x1 (b&amp;#39;000001)</td>
<td rowspan="5">დააყენეთ ESP32 უსაფრთხოების რეჟიმში.</td>
<td rowspan="5">ESP32-ისთვის მონაცემების გაგზავნისას გამოსაყენებელი უსაფრთხოების რეჟიმის ინფორმირება, რომლის პროცესის განმავლობაში რამდენჯერმე გადატვირთვაც დაშვებულია. თითოეული პარამეტრი გავლენას ახდენს შემდგომ გამოყენებულ უსაფრთხოების რეჟიმზე. თუ ის არ არის დაყენებული, ESP32 ნაგულისხმევად გაგზავნის საკონტროლო ჩარჩოს და მონაცემთა ჩარჩოს ჩეკის ჯამისა და დაშიფვრის გარეშე. მობილური ტელეფონიდან ESP32-ზე მონაცემთა გადაცემა კონტროლდება ამ საკონტროლო ჩარჩოთი.</td>
<td>მონაცემთა ველი ერთ ბაიტს მოიხმარს. უფრო მაღალი 4 ბიტი განკუთვნილია საკონტროლო ჩარჩოს უსაფრთხოების რეჟიმის პარამეტრისთვის, ხოლო უფრო დაბალი 4 ბიტი - მონაცემთა ჩარჩოს უსაფრთხოების რეჟიმის პარამეტრისთვის.</td>
</tr>
<tr class="row-even"><td>b&amp;#39;0000: ჩეკის ჯამისა და დაშიფვრის გარეშე;</td>
</tr>
<tr class="row-odd"><td>b&amp;#39;0001: ჩეკის ჯამით, მაგრამ დაშიფვრის გარეშე;</td>
</tr>
<tr class="row-even"><td>b&amp;#39;0010: ჩეკის ჯამის გარეშე, მაგრამ დაშიფვრით;</td>
</tr>
<tr class="row-odd"><td>b&amp;#39;0011: როგორც შემოწმების ჯამით, ასევე დაშიფვრით.</td>
</tr>
<tr class="row-even"><td rowspan="6">0x2 (b&amp;#39;000010)</td>
<td rowspan="6">დააყენეთ Wi-Fi ის საპირისპირო რეჟიმი.</td>
<td rowspan="6">ჩარჩო შეიცავს opmode პარამეტრებს ESP32-ის Wi-Fi რეჟიმის კონფიგურაციისთვის.</td>
<td>data[0] განკუთვნილია opmode პარამეტრებისთვის, მათ შორის:</td>
</tr>
<tr class="row-odd"><td>0x00: ნული;</td>
</tr>
<tr class="row-even"><td>0x01: STA;</td>
</tr>
<tr class="row-odd"><td>0x02: SoftAP;</td>
</tr>
<tr class="row-even"><td>0x03: SoftAP&amp;amp;STA.</td>
</tr>
<tr class="row-odd"><td>თუ წვდომის წერტილი ჩაერთვება, გთხოვთ, თავიდანვე დააყენოთ წვდომის წერტილის რეჟიმის SSID/პაროლი/მაქს. კავშირის ნომერი.</td>
</tr>
<tr class="row-even"><td>0x3 (b&amp;#39;000011)</td>
<td>დააკავშირეთ ESP32 წვდომის წერტილთან.</td>
<td>ESP32-ისთვის შეტყობინების მიზნით, რომ აუცილებელი ინფორმაცია გაიგზავნა და მას წვდომის წერტილთან დაკავშირების ნებართვა აქვს.</td>
<td>მონაცემთა ველი არ არის მოცემული.</td>
</tr>
<tr class="row-odd"><td>0x4 (b&amp;#39;000100)</td>
<td>გათიშეთ ESP32 წვდომის წერტილიდან.</td>
<td> </td>
<td>მონაცემთა ველი არ არის მოცემული.</td>
</tr>
<tr class="row-even"><td>0x5 (b&amp;#39;000101)</td>
<td>ESP32-ის Wi-Fi რეჟიმისა და მისი სტატუსის შესახებ ინფორმაციის მისაღებად.</td>
<td> </td>
<td>მონაცემთა ველი არ არის. ამ საკონტროლო ჩარჩოს მიღებისას, ESP32 მობილურ ტელეფონზე გამოაგზავნის Wi-Fi კავშირის მდგომარეობის ანგარიშის შემდგომ ჩარჩოს მიმდინარე რეჟიმის, კავშირის სტატუსის, SSID-ის და ა.შ. ინფორმაციით. მობილურ ტელეფონზე გაგზავნილი ინფორმაციის ტიპები განისაზღვრება ტელეფონზე დაინსტალირებული აპლიკაციით.</td>
</tr>
<tr class="row-odd"><td>0x6 (b&amp;#39;000110)</td>
<td>გათიშეთ STA მოწყობილობა SoftAP-დან (SoftAP რეჟიმში).</td>
<td> </td>
<td>STA მოწყობილობის MAC მისამართად აღებულია თარიღი[0~5]. თუ არსებობს მეორე STA მოწყობილობა, მაშინ ის იყენებს მონაცემებს[6-11] და დანარჩენის გაკეთება შესაძლებელია იმავე გზით.</td>
</tr>
<tr class="row-even"><td>0x7 (b&amp;#39;000111)</td>
<td>მიიღეთ ვერსიის ინფორმაცია.</td>
<td> </td>
<td> </td>
</tr>
<tr class="row-odd"><td>0x8 (b&amp;#39;001000)</td>
<td>გათიშეთ BLE GATT ბმული.</td>
<td> </td>
<td>ESP32 ამ ბრძანების მიღების შემდეგ გათიშავს BLE GATT ბმულს.</td>
</tr>
<tr class="row-even"><td>0x9 (b&amp;#39;001001)</td>
<td>მიიღეთ Wi-Fi სია.</td>
<td>იმისათვის, რომ ESP32-მა შეძლოს Wi-Fi წვდომის წერტილის სკანირება.</td>
<td>მონაცემთა ველი არ არის. ამ საკონტროლო ჩარჩოს მიღებისას, ESP32 მობილურ ტელეფონზე გამოგზავნის Wi-Fi სიის ანგარიშის შემდგომ ჩარჩოს.</td>
</tr>
</tbody>
</table>
</div></blockquote>
<p><strong>1.2 მონაცემთა ჩარჩო (0x1 b&amp;#39;01)</strong></p>
<blockquote>
<div><table border="1" class="docutils">
<colgroup>
<col width="9%"/>
<col width="25%"/>
<col width="31%"/>
<col width="35%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">მონაცემთა ჩარჩო (ორობითი)</th>
<th class="head">იმპლიკაცია</th>
<th class="head">განმარტება</th>
<th class="head">შენიშვნა</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td>0x0 (b&amp;#39;000000)</td>
<td>გაგზავნეთ მოლაპარაკების მონაცემები.</td>
<td>მოლაპარაკების მონაცემები გაიგზავნება აპლიკაციის დონეზე რეგისტრირებულ უკუკავშირის ფუნქციაზე.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე.</td>
</tr>
<tr class="row-odd"><td>0x1 (b&amp;#39;000001)</td>
<td>გაგზავნეთ BSSID STA რეჟიმისთვის.</td>
<td>STA მოწყობილობისთვის წვდომის წერტილის BSSID-ის გაგზავნა იმ პირობით, რომ SSID დამალულია.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-even"><td>0x2 (b&amp;#39;000010)</td>
<td>გაგზავნეთ SSID STA რეჟიმისთვის.</td>
<td>STA მოწყობილობისთვის წვდომის წერტილის SSID-ის გასაგზავნად.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-odd"><td>0x3 (b&amp;#39;000011)</td>
<td>გაგზავნეთ STA რეჟიმის პაროლი.</td>
<td>STA მოწყობილობისთვის წვდომის წერტილის პაროლის გასაგზავნად.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-even"><td>0x4 (b&amp;#39;000100)</td>
<td>გაგზავნეთ SSID SoftAP რეჟიმისთვის.</td>
<td> </td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-odd"><td>0x5 (b&amp;#39;000101)</td>
<td>გაგზავნეთ SoftAPmode-ის პაროლი.</td>
<td> </td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-even"><td>0x6 (b&amp;#39;000110)</td>
<td>დააყენეთ SoftAP რეჟიმისთვის მაქსიმალური კავშირების რაოდენობა.</td>
<td> </td>
<td>data[0] წარმოადგენს კავშირის ნომრის მნიშვნელობას, 1-დან 4-მდე დიაპაზონში. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-odd"><td rowspan="7">0x7 (b&amp;#39;000111)</td>
<td rowspan="7">დააყენეთ SoftAP-ის ავტორიზაციის რეჟიმი.</td>
<td rowspan="7"> </td>
<td>მონაცემები[0]：</td>
</tr>
<tr class="row-even"><td>0x00: გახსნა</td>
</tr>
<tr class="row-odd"><td>0x01: WEP</td>
</tr>
<tr class="row-even"><td>0x02: WPA_PSK</td>
</tr>
<tr class="row-odd"><td>0x03: WPA2_PSK</td>
</tr>
<tr class="row-even"><td>0x04: WPA_WPA2_PSK</td>
</tr>
<tr class="row-odd"><td>როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-even"><td>0x8 (b&amp;#39;001000)</td>
<td>დააყენეთ არხის რაოდენობა SoftAP რეჟიმისთვის.</td>
<td> </td>
<td>data[0] წარმოადგენს მხარდაჭერილი არხების რაოდენობას, 1-დან 14-მდე დიაპაზონში. როდესაც გადაცემის მიმართულებაა ESP32 მობილურ ტელეფონზე, ეს ნიშნავს მობილურ ტელეფონს საჭირო ინფორმაციის მიწოდებას.</td>
</tr>
<tr class="row-odd"><td>0x9 (b&amp;#39;001001)</td>
<td>მომხმარებლის სახელი</td>
<td>ის უზრუნველყოფს GATT კლიენტის მომხმარებლის სახელს საწარმოს დონის დაშიფვრის გამოყენებისას.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე.</td>
</tr>
<tr class="row-even"><td>0xa (b&amp;#39;001010)</td>
<td>CA სერტიფიკაცია</td>
<td>ის უზრუნველყოფს CA სერტიფიკაციას საწარმოს დონის დაშიფვრის გამოყენებისას.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. თუ მონაცემთა სიგრძე საკმარისი არ არის, ჩარჩოს ფრაგმენტაცია შესაძლებელია.</td>
</tr>
<tr class="row-odd"><td>0xb (b&amp;#39;001011)</td>
<td>კლიენტის სერტიფიკაცია</td>
<td>ის უზრუნველყოფს კლიენტის სერტიფიცირებას საწარმო დონის დაშიფვრის გამოყენებისას. პირადი გასაღების შემცველობა თუ არარსებობა დამოკიდებულია სერტიფიცირების შინაარსზე.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. თუ მონაცემთა სიგრძე საკმარისი არ არის, ჩარჩოს ფრაგმენტაცია შესაძლებელია.</td>
</tr>
<tr class="row-even"><td>0xc (b&amp;#39;001100)</td>
<td>სერვერის სერტიფიკაცია</td>
<td>ის უზრუნველყოფს სერტიფიცირებას საწარმო დონის დაშიფვრის გამოყენებისას. პირადი გასაღების შემცველობა თუ არარსებობა დამოკიდებულია სერტიფიკატის შინაარსზე.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. თუ მონაცემთა სიგრძე საკმარისი არ არის, ჩარჩოს ფრაგმენტაცია შესაძლებელია.</td>
</tr>
<tr class="row-odd"><td>0xd (b&amp;#39;001101)</td>
<td>კლიენტის პირადი გასაღები</td>
<td>ის უზრუნველყოფს კლიენტის კერძო გასაღებს საწარმოს დონის დაშიფვრის გამოყენებისას.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. თუ მონაცემთა სიგრძე საკმარისი არ არის, ჩარჩოს ფრაგმენტაცია შესაძლებელია.</td>
</tr>
<tr class="row-even"><td>0xe (b&amp;#39;001110)</td>
<td>სერვერის პირადი გასაღები</td>
<td>ის უზრუნველყოფს სერვერის კერძო გასაღებს საწარმო დონის დაშიფვრის გამოყენებისას.</td>
<td>მონაცემთა სიგრძე დამოკიდებულია სიგრძის ველზე. თუ მონაცემთა სიგრძე საკმარისი არ არის, ჩარჩოს ფრაგმენტაცია შესაძლებელია.</td>
</tr>
<tr class="row-odd"><td rowspan="8">0xf (b&amp;#39;001111)</td>
<td rowspan="8">Wi-Fi კავშირის მდგომარეობის ანგარიში</td>
<td rowspan="8">ტელეფონს ეცნობოს ESP32-ის Wi-Fi სტატუსის შესახებ, მათ შორის STA სტატუსის და SoftAP სტატუსის შესახებ. STA მოწყობილობის მობილურ ტელეფონთან ან SoftAP-თან დაკავშირება აუცილებელია. თუმცა, როდესაც მობილური ტელეფონი მიიღებს Wi-Fi სტატუსს, მას შეუძლია უპასუხოს ამ ფრეიმის გარდა სხვა კადრებსაც.</td>
<td>data[0] წარმოადგენს op mode-ს, მათ შორის:</td>
</tr>
<tr class="row-even"><td>0x00: ნული</td>
</tr>
<tr class="row-odd"><td>0x01: STA</td>
</tr>
<tr class="row-even"><td>0x02: SoftAP</td>
</tr>
<tr class="row-odd"><td>0x03: SoftAP&amp;amp;STA</td>
</tr>
<tr class="row-even"><td>მონაცემები[1]: STA მოწყობილობის კავშირის მდგომარეობა, 0x0 მიუთითებს კავშირის მდგომარეობაზე, ხოლო სხვები წარმოადგენენ გათიშულ მდგომარეობას;</td>
</tr>
<tr class="row-odd"><td>მონაცემები[2]: SoftAP-ის კავშირის მდგომარეობა, ანუ რამდენი STA მოწყობილობაა დაკავშირებული.</td>
</tr>
<tr class="row-even"><td>მონაცემები[3] და შემდგომი ინფორმაცია შეესაბამება SSID/BSSID ინფორმაციის ფორმატს.</td>
</tr>
<tr class="row-odd"><td>0x10 (b&amp;#39;010000)</td>
<td>ვერსია</td>
<td> </td>
<td>მონაცემები[0]= შესანიშნავი ვერსია მონაცემები[1]= ქვევერსია</td>
</tr>
<tr class="row-even"><td>0x11 (b&amp;#39;010001)</td>
<td>Wi-Fi სია</td>
<td>Wi-Fi სიის ESP32-ზე გასაგზავნად.</td>
<td>მონაცემთა ჩარჩოს ფორმატია სიგრძე + RSSI + SSID და თუ მონაცემთა სიგრძე ძალიან დიდია, ის მხარს უჭერს ფრაგმენტებად გაგზავნას.</td>
</tr>
<tr class="row-odd"><td rowspan="9">0x12 (b&amp;#39;010010)</td>
<td rowspan="9">შეცდომის შესახებ შეტყობინება</td>
<td rowspan="9">მობილური ტელეფონისთვის BluFi-სთან დაკავშირებული შეცდომის შესახებ შეტყობინების გასაგზავნად.</td>
<td>0x00: თანმიმდევრობის შეცდომა</td>
</tr>
<tr class="row-even"><td>0x01: ჩეკის ჯამის შეცდომა</td>
</tr>
<tr class="row-odd"><td>0x02: გაშიფვრის შეცდომა</td>
</tr>
<tr class="row-even"><td>0x03: დაშიფვრის შეცდომა</td>
</tr>
<tr class="row-odd"><td>0x04: ინიციალიზაციის უსაფრთხოების შეცდომა</td>
</tr>
<tr class="row-even"><td>0x05: dh malloc შეცდომა</td>
</tr>
<tr class="row-odd"><td>0x06: dh პარამეტრის შეცდომა</td>
</tr>
<tr class="row-even"><td>0x07: პარამეტრის წაკითხვის შეცდომა</td>
</tr>
<tr class="row-odd"><td>0x08: საჯარო შეცდომის დაშვება</td>
</tr>
<tr class="row-even"><td>0x13 (b&amp;#39;010011)</td>
<td>მორგებული მონაცემები</td>
<td>მორგებული მონაცემების გასაგზავნად ან მისაღებად.</td>
<td>მონაცემთა ჩარჩო მხარს უჭერს ფრაგმენტებად გაგზავნას, თუ მონაცემთა სიგრძე ძალიან დიდია.</td>
</tr>
</tbody>
</table>
</div></blockquote>
</div></blockquote>
<ol class="arabic" start="2">
<li><p class="first">კადრის კონტროლი</p>
<p>საკონტროლო ველი იკავებს 1 ბაიტს და თითოეულ ბიტს განსხვავებული მნიშვნელობა აქვს.</p>
<table border="1" class="docutils">
<colgroup>
<col width="17%"/>
<col width="83%"/>
</colgroup>
<thead valign="bottom">
<tr class="row-odd"><th class="head">ბიტი</th>
<th class="head">მნიშვნელობა</th>
</tr>
</thead>
<tbody valign="top">
<tr class="row-even"><td rowspan="4">0x01</td>
<td>მიუთითებს, დაშიფრულია თუ არა ჩარჩო.</td>
</tr>
<tr class="row-odd"><td>1 ნიშნავს დაშიფვრას, ხოლო 0 ნიშნავს დაუშიფრავს.</td>
</tr>
<tr class="row-even"><td>ფრეიმის დაშიფრული ნაწილი მოიცავს სრულ მონაცემებს DATA ველის დაშიფვრამდე (ჩეკის ჯამის გარეშე).</td>
</tr>
<tr class="row-odd"><td>საკონტროლო ჩარჩო არ არის დაშიფრული, ამიტომ ეს ბიტი არის 0.</td>
</tr>
<tr class="row-even"><td>0x02</td>
<td>მონაცემთა ველი, რომელიც მიუთითებს, შეიცავს თუ არა ჩარჩო ჩარჩოს ჩეკსუმს (მაგალითად, SHA1, MD5, CRC და ა.შ.) ჩარჩოს ბოლოსთვის, მოიცავს SEQUCNE + მონაცემთა სიგრძე + მკაფიო ტექსტი. როგორც საკონტროლო ჩარჩო, ასევე მონაცემთა ჩარჩო შეიძლება შეიცავდეს ან არ შეიცავდეს საკონტროლო ბიტს.</td>
</tr>
<tr class="row-odd"><td>0x04</td>
<td>წარმოადგენს მონაცემთა მიმართულებას.</td>
</tr>
<tr class="row-even"><td> </td>
<td>0 ნიშნავს მობილურ ტელეფონს ESP32-ზე;</td>
</tr>
<tr class="row-odd"><td> </td>
<td>1 ნიშნავს ESP32-ს მობილურ ტელეფონზე.</td>
</tr>
<tr class="row-even"><td>0x08</td>
<td>მიუთითებს, მოეთხოვება თუ არა მეორე პირს ACK-ზე პასუხის გაცემა.</td>
</tr>
<tr class="row-odd"><td> </td>
<td>0 მიუთითებს, რომ მოთხოვნა არ არსებობს;</td>
</tr>
<tr class="row-even"><td> </td>
<td>1 მიუთითებს პასუხის გაცემაზე Ack.</td>
</tr>
<tr class="row-odd"><td>0x10</td>
<td>მიუთითებს, არსებობს თუ არა შემდგომი მონაცემთა ფრაგმენტები.</td>
</tr>
<tr class="row-even"><td> </td>
<td>0 მიუთითებს, რომ ამ ფრეიმისთვის შემდგომი მონაცემთა ფრაგმენტები არ არსებობს;</td>
</tr>
<tr class="row-odd"><td> </td>
<td>1 მიუთითებს, რომ არსებობს შემდგომი მონაცემთა ფრაგმენტები და გამოიყენება უფრო გრძელი მონაცემების გადასაცემად.</td>
</tr>
<tr class="row-even"><td> </td>
<td>ფრაგმენტ-ფრეიმის შემთხვევაში, მონაცემთა ველის პირველ 2 ბაიტში მოცემულია მიმდინარე კონტენტის სექციის + შემდგომი კონტენტის სექციის მთლიანი სიგრძე (ანუ მაქსიმალური მხარდაჭერის მქონე 64K კონტენტის მონაცემები).</td>
</tr>
<tr class="row-odd"><td>0x10~0x80 დაჯავშნილია</td>
<td> </td>
</tr>
</tbody>
</table>
</li>
<li><p class="first">თანმიმდევრობის კონტროლი</p>
<p>თანმიმდევრობის კონტროლის ველი. როდესაც ფრეიმი იგზავნება, დაფიქსირებული თანმიმდევრობის მნიშვნელობა ავტომატურად იზრდება 1-ით, ფრეიმის ტიპის მიუხედავად, რაც ხელს უშლის განმეორებით შეტევას. თანმიმდევრობა იწმინდება ყოველი ხელახალი დაკავშირების შემდეგ.</p>
</li>
<li><p class="first">სიგრძე</p>
<p>მონაცემთა ველის სიგრძე, რომელიც არ შეიცავს CheckSum-ს.</p>
</li>
<li><p class="first">მონაცემები</p>
<p>მონაცემთა ველის ინსტრუქცია განსხვავებულია ტიპის ან ქვეტიპის სხვადასხვა მნიშვნელობის მიხედვით. გთხოვთ, იხილოთ ზემოთ მოცემული ცხრილი.</p>
</li>
<li><p class="first">ჩეკის ჯამი</p>
<p>ეს ველი იკავებს 2 ბაიტს, რომელიც გამოიყენება „თანმიმდევრობა + მონაცემთა სიგრძე + ტექსტური მონაცემები“.</p>
</li>
</ol>
</div>
<div class="section" id="the-security-implementation-of-esp32">
<h2>ESP32-ის უსაფრთხოების იმპლემენტაცია<a class="headerlink" href="blufi.html#the-security-implementation-of-esp32" title="Permalink to this headline">¶</a></h2>
<ol class="arabic">
<li><p class="first">მონაცემების დაცვა</p>
<p>იმისათვის, რომ უზრუნველყოფილი იყოს Wi-Fi SSID-ისა და პაროლის უსაფრთხო გადაცემა, შეტყობინება უნდა დაიშიფროს სიმეტრიული დაშიფვრის ალგორითმების გამოყენებით, როგორიცაა AES, DES და ა.შ. სიმეტრიული დაშიფვრის ალგორითმების გამოყენებამდე, მოწყობილობებმა უნდა მოილაპარაკონ (ან შექმნან) საერთო გასაღები ასიმეტრიული დაშიფვრის ალგორითმის გამოყენებით (DH, RSA, ECC და ა.შ.).</p>
</li>
<li><p class="first">მონაცემთა მთლიანობის უზრუნველყოფა</p>
<p>მონაცემთა მთლიანობის უზრუნველსაყოფად, თქვენ უნდა დაამატოთ ჩეკის ჯამის ალგორითმი, როგორიცაა SHA1, MD5, CRC და ა.შ.</p>
</li>
<li><p class="first">პირადობის (ხელმოწერის) დაცვა</p>
<p>RSA-ს მსგავსი ალგორითმის გამოყენება შესაძლებელია იდენტიფიკაციის უზრუნველსაყოფად. თუმცა, DH-სთვის მას ხელმოწერის თანმხლებ ფორმად სხვა ალგორითმები სჭირდება.</p>
</li>
<li><p class="first">განმეორებითი შეტევის პრევენცია</p>
<p>ის ემატება Sequence ველს და გამოიყენება ჩეკის ჯამის ვერიფიკაციის დროს.</p>
<p>ESP32-ის კოდირებისთვის შეგიძლიათ განსაზღვროთ და განავითაროთ უსაფრთხოების დამუშავება, როგორიცაა გასაღების მოლაპარაკება. მობილური აპლიკაცია მოლაპარაკების მონაცემებს ESP32-ს უგზავნის და შემდეგ მონაცემები გადაეგზავნება აპლიკაციის დონეს დასამუშავებლად. თუ აპლიკაციის დონე არ ამუშავებს მას, შეგიძლიათ გამოიყენოთ BluFi-ის მიერ მოწოდებული DH დაშიფვრის ალგორითმი გასაღების მოლაპარაკებისთვის.</p>
<p>აპლიკაციის დონეს BluFi-ზე უსაფრთხოებასთან დაკავშირებული რამდენიმე ფუნქციის რეგისტრაცია სჭირდება:</p>
</li>
</ol>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">void</span> <span class="p">(</span><span class="o">*</span><span class="n">esp_blufi_negotiate_data_handler_t</span><span class="p">)(</span><span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">**</span><span class="n">output_data</span><span class="p">,</span> <span class="kt">int</span> <span class="o">*</span><span class="n">output_len</span><span class="p">,</span> <span class="kt">bool</span> <span class="o">*</span><span class="n">need_free</span><span class="p">)</span>
</pre></div>
</div>
<p>ეს ფუნქცია განკუთვნილია ESP32-ისთვის, რათა მიიღოს ნორმალური მონაცემები მოლაპარაკებების დროს, ხოლო დამუშავების დასრულების შემდეგ, მონაცემები გადაიცემა Output_data-სა და Output_len-ის გამოყენებით.</p>
<p>BluFi Negotiate_data_handler-დან output_data-ს გამოგზავნის Negotiate_data_handler-ის გამოძახების შემდეგ.</p>
<p>აქ მოცემულია ორი „*“, რადგან გამოსაგზავნი მონაცემების სიგრძე უცნობია, რაც მოითხოვს ფუნქციისგან საკუთარი თავის გამოყოფას (malloc) ან გლობალურ ცვლადზე მითითებას და იმის შესახებ ინფორმაციას, საჭიროა თუ არა მეხსიერების გათავისუფლება NEED_FREE-ით.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">esp_blufi_encrypt_func_t</span><span class="p">)(</span><span class="kt">uint8_t</span> <span class="n">iv8</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">crypt_data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">cyprt_len</span><span class="p">)</span>
</pre></div>
</div>
<p>დაშიფრული და გასაშიფრავი მონაცემები ერთი და იგივე სიგრძის უნდა იყოს. IV8 არის კადრების 8 ბიტიანი თანმიმდევრობის მნიშვნელობა, რომლის გამოყენებაც შესაძლებელია IV-ის 8 ბიტად.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">int</span> <span class="p">(</span><span class="o">*</span> <span class="n">esp_blufi_decrypt_func_t</span><span class="p">)(</span><span class="kt">uint8_t</span> <span class="n">iv8</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">crypt_data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">crypt_len</span><span class="p">)</span>
</pre></div>
</div>
<p>დაშიფრული და გასაშიფრავი მონაცემები ერთი და იგივე სიგრძის უნდა იყოს. IV8 არის კადრების 8 ბიტიანი თანმიმდევრობის მნიშვნელობა, რომლის გამოყენებაც შესაძლებელია IV-ის 8 ბიტად.</p>
<div class="highlight-c notranslate"><div class="highlight"><pre><span></span><span class="k">typedef</span> <span class="kt">uint16_t</span> <span class="p">(</span><span class="o">*</span><span class="n">esp_blufi_checksum_func_t</span><span class="p">)(</span><span class="kt">uint8_t</span> <span class="n">iv8</span><span class="p">,</span> <span class="kt">uint8_t</span> <span class="o">*</span><span class="n">data</span><span class="p">,</span> <span class="kt">int</span> <span class="n">len</span><span class="p">)</span>
</pre></div>
</div>
<p>ეს ფუნქცია გამოიყენება CheckSum-ის გამოსათვლელად და CheckSum-ის მნიშვნელობის დასაბრუნებლად. BluFi იყენებს დაბრუნებულ მნიშვნელობას კადრის CheckSum-ის შესადარებლად.</p>
</div>
<div class="section" id="gatt-related-instructions">
<h2>GATT-თან დაკავშირებული ინსტრუქციები<a class="headerlink" href="blufi.html#gatt-related-instructions" title="Permalink to this headline">¶</a></h2>
<div class="section" id="uuid">
<h3>UUID<a class="headerlink" href="blufi.html#uuid" title="Permalink to this headline">¶</a></h3>
<p>BluFi სერვისის UUID: 0xFFFF, 16 ბიტიანი</p>
<p>BluFi (მობილური -&amp;gt; ESP32): 0xFF01, ჩაწერადი</p>
<p>Blufi (ESP32 -&amp;gt; მობილური ტელეფონი): 0xFF02, წაკითხვადი და გამოძახებადი</p>
</div>
</div>
</div>
</div>
</div>
<footer>
<div aria-label="footer navigation" class="rst-footer-buttons" role="navigation">
<a accesskey="n" class="btn btn-neutral float-right" href="bootloader.html" rel="next" title="Bootloader">შემდეგი <span class="fa fa-arrow-circle-right"></span></a>
<a accesskey="p" class="btn btn-neutral float-left" href="app_trace.html" rel="prev" title="Application Level Tracing library"><span class="fa fa-arrow-circle-left"></span> წინა</a>
</div>
<hr/>
<div role="contentinfo">
<p>
        © საავტორო უფლება 2016 - 2019, Espressif Systems (შანხაი) კომპანია, შპს
      
        <span class="commit">
          რევიზია <code>f9108063</code>.
        </span>
</p>
</div>
  Built with <a href="http://sphinx-doc.org/">სფინქსი</a> using a <a href="https://github.com/rtfd/sphinx_rtd_theme">თემა</a> provided by <a href="https://readthedocs.org">წაიკითხეთ დოკუმენტები</a>. 

</footer>
</div>
</div>
</section>
</div>
<script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
</body>
</html>